diff -pruwN rp-l2tp-0.4/00-README-FT.txt rp-l2tp-0.4-livebox/00-README-FT.txt
--- rp-l2tp-0.4/00-README-FT.txt	1970-01-01 01:00:00.000000000 +0100
+++ rp-l2tp-0.4-livebox/00-README-FT.txt	2010-03-31 11:45:59.000000000 +0200
@@ -0,0 +1,16 @@
+
+To build rp-l2tp:
+export PATH="/path/to/mips-linux-uclibc/bin:${PATH}"
+
+autoconf
+automake -a
+./configure --build=i386-pc-linux-gnu       \
+            --host=mips-linux-uclibc        \
+            --target=mips-linux-uclibc      \
+            CC=mips-linux-uclibc-gcc        \
+            AR=mips-linux-uclibc-ar         \
+            RANLIB=mips-linux-uclibc-ranlib \
+            STRIP=mips-linux-uclibc-strip   \
+            NM=mips-linux-uclibc-nm
+make clean
+make TOOLCHAIN_DIR="/path/to/mips-linux-uclibc/"
diff -pruwN rp-l2tp-0.4/alloc.c rp-l2tp-0.4-livebox/alloc.c
--- rp-l2tp-0.4/alloc.c	1970-01-01 01:00:00.000000000 +0100
+++ rp-l2tp-0.4-livebox/alloc.c	2010-03-31 11:45:59.000000000 +0200
@@ -0,0 +1,72 @@
+/****************************************************************************
+ *
+ * /home/bat/bat/fast3202_4_0_21_3_3_1/rg/pkg/util/alloc.c
+ * 
+ * Copyright (C) Jungo LTD 2004
+ * 
+ * This program is free software; you can redistribute it
+ * and/or modify it under the terms of the GNU General 
+ * Public License as published by the Free Software
+ * Foundation; either version 2 of the License, or (at
+ * your option) any later version.
+ * 
+ * This program is distributed in the hope that it will be
+ * useful, but WITHOUT ANY WARRANTY; without even the implied
+ * warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.
+ * See the GNU General Public License for more details.
+ * 
+ * You should have received a copy of the GNU General Public
+ * License along with this program; if not, write to the Free
+ * Software Foundation, Inc., 59 Temple Place - Suite 330, Boston,
+ * MA 02111-1307, USA.
+ *
+ * Developed by Jungo LTD.
+ * Residential Gateway Software Division
+ * www.jungo.com
+ * info@jungo.com
+ */
+/* SYNC: rg/pkg/util/alloc.c <-> project/tools/util/alloc.c */
+
+#define OS_INCLUDE_STD
+#define OS_INCLUDE_IO
+#include "os_includes.h"
+
+#include "alloc.h"
+#include "rg_error.h"
+
+void *malloc_log(rg_error_level_t level, size_t size)
+{
+    void *mem;
+
+    /* uClibc crashes on malloc(0) */
+    if (!size)
+	size = 4;
+
+    mem = malloc(size);
+    if (!mem)
+	rg_error(level, "malloc_e(%d): failed", size);
+    return mem;
+}
+
+void *zalloc_log(rg_error_level_t level, size_t size)
+{
+    void *mem;
+
+    if (!(mem = zalloc(size)))
+	rg_error(level, "zalloc_e(%d): failed", size);
+    return mem;
+}
+
+void *realloc_log(rg_error_level_t level, void *p, size_t size)
+{
+    void *mem;
+
+    /* uClibc crashes on realloc(p, 0) */
+    if (!size)
+	size = 4;
+
+    if (!(mem = realloc(p, size)))
+	rg_error(level, "realloc_e(%d): failed", size);
+    return mem;
+}
+
diff -pruwN rp-l2tp-0.4/alloc.h rp-l2tp-0.4-livebox/alloc.h
--- rp-l2tp-0.4/alloc.h	1970-01-01 01:00:00.000000000 +0100
+++ rp-l2tp-0.4-livebox/alloc.h	2010-03-31 11:45:59.000000000 +0200
@@ -0,0 +1,118 @@
+/****************************************************************************
+ *
+ * /home/bat/bat/fast3202_4_0_21_3_3_1/rg/pkg/util/alloc.h
+ * 
+ * Copyright (C) Jungo LTD 2004
+ * 
+ * This program is free software; you can redistribute it
+ * and/or modify it under the terms of the GNU General 
+ * Public License as published by the Free Software
+ * Foundation; either version 2 of the License, or (at
+ * your option) any later version.
+ * 
+ * This program is distributed in the hope that it will be
+ * useful, but WITHOUT ANY WARRANTY; without even the implied
+ * warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.
+ * See the GNU General Public License for more details.
+ * 
+ * You should have received a copy of the GNU General Public
+ * License along with this program; if not, write to the Free
+ * Software Foundation, Inc., 59 Temple Place - Suite 330, Boston,
+ * MA 02111-1307, USA.
+ *
+ * Developed by Jungo LTD.
+ * Residential Gateway Software Division
+ * www.jungo.com
+ * info@jungo.com
+ */
+/* SYNC: rg/pkg/util/alloc.h <-> project/tools/util/alloc.h */
+
+#ifndef _ALLOC_H_
+#define _ALLOC_H_
+
+#include <stdlib.h>
+
+#include "rg_error.h"
+
+/** Return a pointer to an allocated memory block of 'size' bytes.
+ * On failure, NULL is returned and an error message is logged at
+ * level 'level'.
+ */
+void *malloc_log(rg_error_level_t level, size_t size);
+
+/** Return a pointer to an allocated memory block of 'size' bytes and zero
+ * them. On failure, NULL is returned and an error message is logged at
+ * level 'level'.
+ */
+void *zalloc_log(rg_error_level_t level, size_t size);
+
+/** Change the size of the memory block pointed by 'p' to 'size' bytes. Return
+ * a pointer to the newly allocated memory. On failure, NULL is returned and an
+ * error message is logged at level 'level'.
+ */
+void *realloc_log(rg_error_level_t level, void *p, size_t size);
+
+/** As malloc_log() with 'level' set to LERR */
+static __inline__ void *malloc_l(size_t size)
+{
+    return malloc_log(LERR, size);
+}
+
+/** As malloc_log() with 'level' set to LEXIT (reboots the board or exits
+ * the host application).
+ */
+static __inline__ void *malloc_e(size_t size)
+{
+    return malloc_log(LEXIT, size);
+}
+
+/** As zalloc_log() with 'level' set to LERR */
+static __inline__ void *zalloc_l(size_t size)
+{
+    return zalloc_log(LERR, size);
+}
+
+/** As zalloc_log() with 'level' set to LEXIT (reboots the board or exits
+ * the host application).
+ */
+static __inline__ void *zalloc_e(size_t size)
+{
+    return zalloc_log(LEXIT, size);
+}
+
+/** Return a pointer to a newly allocated memory block of 'size' bytes.
+ * The memory is initialized to zero.
+ */
+static __inline__ void *zalloc(size_t size)
+{
+    /* uClibc crashes on calloc(0, 1) */
+    if (!size)
+	size = 4;
+    return calloc(size, 1);
+}
+
+/** As realloc_log() with 'level' set to LERR */
+static __inline__ void *realloc_l(void *p, size_t size)
+{
+    return realloc_log(LERR, p, size);
+}
+
+/** As realloc_log() with 'level' set to LEXIT (reboots the board or exits
+ * the host application).
+ */
+static __inline__ void *realloc_e(void *p, size_t size)
+{
+    return realloc_log(LEXIT, p, size);
+}
+
+/** Same as free(). Used to indicate that 'p' may be NULL and that it's OK */
+static __inline__ void nfree(void *p)
+{
+    free(p);
+}
+
+/** Free the contents of the pointer 'p' and set it to NULL */
+#define ZNFREE(p) do { nfree(p); p = NULL; } while (0)
+
+#endif
+
diff -pruwN rp-l2tp-0.4/be_api_gpl.h rp-l2tp-0.4-livebox/be_api_gpl.h
--- rp-l2tp-0.4/be_api_gpl.h	1970-01-01 01:00:00.000000000 +0100
+++ rp-l2tp-0.4-livebox/be_api_gpl.h	2010-03-31 11:45:59.000000000 +0200
@@ -0,0 +1,62 @@
+/****************************************************************************
+ *
+ * /home/bat/bat/fast3202_4_0_21_3_3_1/rg/pkg/include/be_api_gpl.h
+ * 
+ * Copyright (C) Jungo LTD 2004
+ * 
+ * This program is free software; you can redistribute it
+ * and/or modify it under the terms of the GNU General 
+ * Public License as published by the Free Software
+ * Foundation; either version 2 of the License, or (at
+ * your option) any later version.
+ * 
+ * This program is distributed in the hope that it will be
+ * useful, but WITHOUT ANY WARRANTY; without even the implied
+ * warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.
+ * See the GNU General Public License for more details.
+ * 
+ * You should have received a copy of the GNU General Public
+ * License along with this program; if not, write to the Free
+ * Software Foundation, Inc., 59 Temple Place - Suite 330, Boston,
+ * MA 02111-1307, USA.
+ *
+ * Developed by Jungo LTD.
+ * Residential Gateway Software Division
+ * www.jungo.com
+ * info@jungo.com
+ */
+
+#ifndef _BE_API_GPL_H_
+#define _BE_API_GPL_H_
+
+struct sk_buff;
+struct ppp_softc;
+
+typedef enum {
+    PPP_PACKET_SENT = 0,
+    PPP_PACKET_DROPPED = 1,
+    PPP_RETRY_LATER = 2,
+} ppp_send_res_t;
+
+typedef int (*ppp_input_cb_t)(struct ppp_softc *ppp_sc, struct sk_buff *m);
+typedef struct ppp_softc *(*ppp_be_attach_cb_t)(char *ifs_name, int flags, 
+    int hdrlen, ppp_send_res_t (output)(void *o, struct sk_buff **skb), 
+    void *ctx);
+typedef void (*ppp_be_detach_cb_t) (struct ppp_softc *sc);
+
+int pppoatm_start(ppp_input_cb_t p1, ppp_be_attach_cb_t p2, 
+    ppp_be_detach_cb_t p3);
+void pppoatm_stop(void);
+
+#ifndef __KERNEL__
+
+ #define OS_INCLUDE_NETIF
+ #include "os_includes.h"
+#endif
+#define RG_IOCTL_PREFIX_BASE 0xD0
+#define RG_IOCTL_PREFIX_PPP (RG_IOCTL_PREFIX_BASE + 13)
+
+#define PPPBE_ATTACH _IOW(RG_IOCTL_PREFIX_PPP, 1, char [IFNAMSIZ])
+#define PPPBE_DETACH _IOW(RG_IOCTL_PREFIX_PPP, 2, void *)
+
+#endif
diff -pruwN rp-l2tp-0.4/bio_socket.c rp-l2tp-0.4-livebox/bio_socket.c
--- rp-l2tp-0.4/bio_socket.c	1970-01-01 01:00:00.000000000 +0100
+++ rp-l2tp-0.4-livebox/bio_socket.c	2010-03-31 11:45:59.000000000 +0200
@@ -0,0 +1,102 @@
+/****************************************************************************
+ *
+ * /home/bat/bat/fast3202_4_0_21_3_3_1/rg/pkg/util/bio_socket.c
+ * 
+ * Copyright (C) Jungo LTD 2004
+ * 
+ * This program is free software; you can redistribute it
+ * and/or modify it under the terms of the GNU General 
+ * Public License as published by the Free Software
+ * Foundation; either version 2 of the License, or (at
+ * your option) any later version.
+ * 
+ * This program is distributed in the hope that it will be
+ * useful, but WITHOUT ANY WARRANTY; without even the implied
+ * warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.
+ * See the GNU General Public License for more details.
+ * 
+ * You should have received a copy of the GNU General Public
+ * License along with this program; if not, write to the Free
+ * Software Foundation, Inc., 59 Temple Place - Suite 330, Boston,
+ * MA 02111-1307, USA.
+ *
+ * Developed by Jungo LTD.
+ * Residential Gateway Software Division
+ * www.jungo.com
+ * info@jungo.com
+ */
+
+#define OS_INCLUDE_SOCKET
+#define OS_INCLUDE_INET
+#include "os_includes.h"
+
+#include "bio_socket.h"
+/* Note this code is GPL Licence, so do not add any new 
+ * openrg incude files here. Talk to TL or SA before any change
+ */
+
+int bio_accept(int server_fd)
+{
+    struct sockaddr_in dummy_addr;
+    int fd, dummy_addr_len = sizeof(dummy_addr);
+
+    /* In VxWorks accept() can't receive NULL as its second parameter, this is
+     * why we use the dummy buffer even though we don't care for the value it
+     * receives
+     */
+    while ((fd = accept(server_fd, (struct sockaddr *)&dummy_addr,
+	&dummy_addr_len)) < 0)
+    {
+	if (errno != EINTR && errno != EAGAIN) 
+	    return -1;
+    }
+    return fd;
+}
+
+/* This function is blocking and it writes from the socket exactly 'count'
+ * number of bytes of fails on socket error
+ */
+int bio_write(int fd, void *buf, size_t count)
+{
+    int rc, total = 0;
+    
+    while (total < count)
+    {
+	rc = write(fd, buf + total, count - total);
+	if (rc < 0)
+	{
+	    if (errno == EINTR || errno == EAGAIN)
+		continue;
+	    return -1;
+	}
+	else if (!rc)
+	    return -1;
+
+	total += rc;
+    }
+    
+    return 0;
+}
+
+/* This function is blocking and it reads from the socket count bytes */
+int bio_read(int fd, void *buf, size_t count)
+{
+    int rc, total = 0;
+
+    while (total!=count)
+    {
+	rc = read(fd, buf + total, count - total);
+	if (rc < 0)
+	{
+	    if (errno == EINTR || errno == EAGAIN)
+		continue;
+	    return -1;
+	}
+	else if (!rc)
+	    return -1;
+
+	total += rc;
+    }
+    
+    return 0;
+}
diff -pruwN rp-l2tp-0.4/bio_socket.h rp-l2tp-0.4-livebox/bio_socket.h
--- rp-l2tp-0.4/bio_socket.h	1970-01-01 01:00:00.000000000 +0100
+++ rp-l2tp-0.4-livebox/bio_socket.h	2010-03-31 11:45:59.000000000 +0200
@@ -0,0 +1,42 @@
+/****************************************************************************
+ *
+ * /home/bat/bat/fast3202_4_0_21_3_3_1/rg/pkg/include/bio_socket.h
+ * 
+ * Copyright (C) Jungo LTD 2004
+ * 
+ * This program is free software; you can redistribute it
+ * and/or modify it under the terms of the GNU General 
+ * Public License as published by the Free Software
+ * Foundation; either version 2 of the License, or (at
+ * your option) any later version.
+ * 
+ * This program is distributed in the hope that it will be
+ * useful, but WITHOUT ANY WARRANTY; without even the implied
+ * warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.
+ * See the GNU General Public License for more details.
+ * 
+ * You should have received a copy of the GNU General Public
+ * License along with this program; if not, write to the Free
+ * Software Foundation, Inc., 59 Temple Place - Suite 330, Boston,
+ * MA 02111-1307, USA.
+ *
+ * Developed by Jungo LTD.
+ * Residential Gateway Software Division
+ * www.jungo.com
+ * info@jungo.com
+ */
+
+#ifndef _BIO_SOCKET_H_
+#define _BIO_SOCKET_H_
+
+#define OS_INCLUDE_STD
+#include "os_includes.h"
+/* Note this code is GPL Licence, so do not add any new 
+ * openrg incude files here. Talk to TL or SA before any change
+ */
+
+int bio_accept(int server_fd);
+int bio_write(int fd, void *buf, size_t count);
+int bio_read(int fd, void *buf, size_t count);
+
+#endif
diff -pruwN rp-l2tp-0.4/configure rp-l2tp-0.4-livebox/configure
--- rp-l2tp-0.4/configure	2002-09-30 20:46:52.000000000 +0200
+++ rp-l2tp-0.4-livebox/configure	2010-03-31 11:45:59.000000000 +0200
@@ -1,26 +1,325 @@
 #! /bin/sh
-
 # Guess values for system-dependent variables and create Makefiles.
-# Generated automatically using autoconf version 2.13 
-# Copyright (C) 1992, 93, 94, 95, 96 Free Software Foundation, Inc.
+# Generated by GNU Autoconf 2.59.
 #
+# Copyright (C) 2003 Free Software Foundation, Inc.
 # This configure script is free software; the Free Software Foundation
 # gives unlimited permission to copy, distribute and modify it.
+## --------------------- ##
+## M4sh Initialization.  ##
+## --------------------- ##
+
+# Be Bourne compatible
+if test -n "${ZSH_VERSION+set}" && (emulate sh) >/dev/null 2>&1; then
+  emulate sh
+  NULLCMD=:
+  # Zsh 3.x and 4.x performs word splitting on ${1+"$@"}, which
+  # is contrary to our usage.  Disable this feature.
+  alias -g '${1+"$@"}'='"$@"'
+elif test -n "${BASH_VERSION+set}" && (set -o posix) >/dev/null 2>&1; then
+  set -o posix
+fi
+DUALCASE=1; export DUALCASE # for MKS sh
+
+# Support unset when possible.
+if ( (MAIL=60; unset MAIL) || exit) >/dev/null 2>&1; then
+  as_unset=unset
+else
+  as_unset=false
+fi
+
+
+# Work around bugs in pre-3.0 UWIN ksh.
+$as_unset ENV MAIL MAILPATH
+PS1='$ '
+PS2='> '
+PS4='+ '
+
+# NLS nuisances.
+for as_var in \
+  LANG LANGUAGE LC_ADDRESS LC_ALL LC_COLLATE LC_CTYPE LC_IDENTIFICATION \
+  LC_MEASUREMENT LC_MESSAGES LC_MONETARY LC_NAME LC_NUMERIC LC_PAPER \
+  LC_TELEPHONE LC_TIME
+do
+  if (set +x; test -z "`(eval $as_var=C; export $as_var) 2>&1`"); then
+    eval $as_var=C; export $as_var
+  else
+    $as_unset $as_var
+  fi
+done
+
+# Required to use basename.
+if expr a : '\(a\)' >/dev/null 2>&1; then
+  as_expr=expr
+else
+  as_expr=false
+fi
+
+if (basename /) >/dev/null 2>&1 && test "X`basename / 2>&1`" = "X/"; then
+  as_basename=basename
+else
+  as_basename=false
+fi
+
+
+# Name of the executable.
+as_me=`$as_basename "$0" ||
+$as_expr X/"$0" : '.*/\([^/][^/]*\)/*$' \| \
+	 X"$0" : 'X\(//\)$' \| \
+	 X"$0" : 'X\(/\)$' \| \
+	 .     : '\(.\)' 2>/dev/null ||
+echo X/"$0" |
+    sed '/^.*\/\([^/][^/]*\)\/*$/{ s//\1/; q; }
+  	  /^X\/\(\/\/\)$/{ s//\1/; q; }
+  	  /^X\/\(\/\).*/{ s//\1/; q; }
+  	  s/.*/./; q'`
+
+
+# PATH needs CR, and LINENO needs CR and PATH.
+# Avoid depending upon Character Ranges.
+as_cr_letters='abcdefghijklmnopqrstuvwxyz'
+as_cr_LETTERS='ABCDEFGHIJKLMNOPQRSTUVWXYZ'
+as_cr_Letters=$as_cr_letters$as_cr_LETTERS
+as_cr_digits='0123456789'
+as_cr_alnum=$as_cr_Letters$as_cr_digits
+
+# The user is always right.
+if test "${PATH_SEPARATOR+set}" != set; then
+  echo "#! /bin/sh" >conf$$.sh
+  echo  "exit 0"   >>conf$$.sh
+  chmod +x conf$$.sh
+  if (PATH="/nonexistent;."; conf$$.sh) >/dev/null 2>&1; then
+    PATH_SEPARATOR=';'
+  else
+    PATH_SEPARATOR=:
+  fi
+  rm -f conf$$.sh
+fi
+
+
+  as_lineno_1=$LINENO
+  as_lineno_2=$LINENO
+  as_lineno_3=`(expr $as_lineno_1 + 1) 2>/dev/null`
+  test "x$as_lineno_1" != "x$as_lineno_2" &&
+  test "x$as_lineno_3"  = "x$as_lineno_2"  || {
+  # Find who we are.  Look in the path if we contain no path at all
+  # relative or not.
+  case $0 in
+    *[\\/]* ) as_myself=$0 ;;
+    *) as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
+for as_dir in $PATH
+do
+  IFS=$as_save_IFS
+  test -z "$as_dir" && as_dir=.
+  test -r "$as_dir/$0" && as_myself=$as_dir/$0 && break
+done
+
+       ;;
+  esac
+  # We did not find ourselves, most probably we were run as `sh COMMAND'
+  # in which case we are not to be found in the path.
+  if test "x$as_myself" = x; then
+    as_myself=$0
+  fi
+  if test ! -f "$as_myself"; then
+    { echo "$as_me: error: cannot find myself; rerun with an absolute path" >&2
+   { (exit 1); exit 1; }; }
+  fi
+  case $CONFIG_SHELL in
+  '')
+    as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
+for as_dir in /bin$PATH_SEPARATOR/usr/bin$PATH_SEPARATOR$PATH
+do
+  IFS=$as_save_IFS
+  test -z "$as_dir" && as_dir=.
+  for as_base in sh bash ksh sh5; do
+	 case $as_dir in
+	 /*)
+	   if ("$as_dir/$as_base" -c '
+  as_lineno_1=$LINENO
+  as_lineno_2=$LINENO
+  as_lineno_3=`(expr $as_lineno_1 + 1) 2>/dev/null`
+  test "x$as_lineno_1" != "x$as_lineno_2" &&
+  test "x$as_lineno_3"  = "x$as_lineno_2" ') 2>/dev/null; then
+	     $as_unset BASH_ENV || test "${BASH_ENV+set}" != set || { BASH_ENV=; export BASH_ENV; }
+	     $as_unset ENV || test "${ENV+set}" != set || { ENV=; export ENV; }
+	     CONFIG_SHELL=$as_dir/$as_base
+	     export CONFIG_SHELL
+	     exec "$CONFIG_SHELL" "$0" ${1+"$@"}
+	   fi;;
+	 esac
+       done
+done
+;;
+  esac
+
+  # Create $as_me.lineno as a copy of $as_myself, but with $LINENO
+  # uniformly replaced by the line number.  The first 'sed' inserts a
+  # line-number line before each line; the second 'sed' does the real
+  # work.  The second script uses 'N' to pair each line-number line
+  # with the numbered line, and appends trailing '-' during
+  # substitution so that $LINENO is not a special case at line end.
+  # (Raja R Harinath suggested sed '=', and Paul Eggert wrote the
+  # second 'sed' script.  Blame Lee E. McMahon for sed's syntax.  :-)
+  sed '=' <$as_myself |
+    sed '
+      N
+      s,$,-,
+      : loop
+      s,^\(['$as_cr_digits']*\)\(.*\)[$]LINENO\([^'$as_cr_alnum'_]\),\1\2\1\3,
+      t loop
+      s,-$,,
+      s,^['$as_cr_digits']*\n,,
+    ' >$as_me.lineno &&
+  chmod +x $as_me.lineno ||
+    { echo "$as_me: error: cannot create $as_me.lineno; rerun with a POSIX shell" >&2
+   { (exit 1); exit 1; }; }
+
+  # Don't try to exec as it changes $[0], causing all sort of problems
+  # (the dirname of $[0] is not the place where we might find the
+  # original and so on.  Autoconf is especially sensible to this).
+  . ./$as_me.lineno
+  # Exit status is that of the last command.
+  exit
+}
+
+
+case `echo "testing\c"; echo 1,2,3`,`echo -n testing; echo 1,2,3` in
+  *c*,-n*) ECHO_N= ECHO_C='
+' ECHO_T='	' ;;
+  *c*,*  ) ECHO_N=-n ECHO_C= ECHO_T= ;;
+  *)       ECHO_N= ECHO_C='\c' ECHO_T= ;;
+esac
+
+if expr a : '\(a\)' >/dev/null 2>&1; then
+  as_expr=expr
+else
+  as_expr=false
+fi
+
+rm -f conf$$ conf$$.exe conf$$.file
+echo >conf$$.file
+if ln -s conf$$.file conf$$ 2>/dev/null; then
+  # We could just check for DJGPP; but this test a) works b) is more generic
+  # and c) will remain valid once DJGPP supports symlinks (DJGPP 2.04).
+  if test -f conf$$.exe; then
+    # Don't use ln at all; we don't have any links
+    as_ln_s='cp -p'
+  else
+    as_ln_s='ln -s'
+  fi
+elif ln conf$$.file conf$$ 2>/dev/null; then
+  as_ln_s=ln
+else
+  as_ln_s='cp -p'
+fi
+rm -f conf$$ conf$$.exe conf$$.file
+
+if mkdir -p . 2>/dev/null; then
+  as_mkdir_p=:
+else
+  test -d ./-p && rmdir ./-p
+  as_mkdir_p=false
+fi
+
+as_executable_p="test -f"
+
+# Sed expression to map a string onto a valid CPP name.
+as_tr_cpp="eval sed 'y%*$as_cr_letters%P$as_cr_LETTERS%;s%[^_$as_cr_alnum]%_%g'"
+
+# Sed expression to map a string onto a valid variable name.
+as_tr_sh="eval sed 'y%*+%pp%;s%[^_$as_cr_alnum]%_%g'"
+
 
-# Defaults:
-ac_help=
+# IFS
+# We need space, tab and new line, in precisely that order.
+as_nl='
+'
+IFS=" 	$as_nl"
+
+# CDPATH.
+$as_unset CDPATH
+
+
+# Name of the host.
+# hostname on some systems (SVR3.2, Linux) returns a bogus exit status,
+# so uname gets run too.
+ac_hostname=`(hostname || uname -n) 2>/dev/null | sed 1q`
+
+exec 6>&1
+
+#
+# Initializations.
+#
 ac_default_prefix=/usr/local
-# Any additions from configure.in:
+ac_config_libobj_dir=.
+cross_compiling=no
+subdirs=
+MFLAGS=
+MAKEFLAGS=
+SHELL=${CONFIG_SHELL-/bin/sh}
+
+# Maximum number of lines to put in a shell here document.
+# This variable seems obsolete.  It should probably be removed, and
+# only ac_max_sed_lines should be used.
+: ${ac_max_here_lines=38}
+
+# Identity of this package.
+PACKAGE_NAME=
+PACKAGE_TARNAME=
+PACKAGE_VERSION=
+PACKAGE_STRING=
+PACKAGE_BUGREPORT=
+
+ac_unique_file="l2tp.h"
+# Factoring default headers for most tests.
+ac_includes_default="\
+#include <stdio.h>
+#if HAVE_SYS_TYPES_H
+# include <sys/types.h>
+#endif
+#if HAVE_SYS_STAT_H
+# include <sys/stat.h>
+#endif
+#if STDC_HEADERS
+# include <stdlib.h>
+# include <stddef.h>
+#else
+# if HAVE_STDLIB_H
+#  include <stdlib.h>
+# endif
+#endif
+#if HAVE_STRING_H
+# if !STDC_HEADERS && HAVE_MEMORY_H
+#  include <memory.h>
+# endif
+# include <string.h>
+#endif
+#if HAVE_STRINGS_H
+# include <strings.h>
+#endif
+#if HAVE_INTTYPES_H
+# include <inttypes.h>
+#else
+# if HAVE_STDINT_H
+#  include <stdint.h>
+# endif
+#endif
+#if HAVE_UNISTD_H
+# include <unistd.h>
+#endif"
+
+ac_subst_vars='SHELL PATH_SEPARATOR PACKAGE_NAME PACKAGE_TARNAME PACKAGE_VERSION PACKAGE_STRING PACKAGE_BUGREPORT exec_prefix prefix program_transform_name bindir sbindir libexecdir datadir sysconfdir sharedstatedir localstatedir libdir includedir oldincludedir infodir mandir build_alias host_alias target_alias DEFS ECHO_C ECHO_N ECHO_T LIBS CC CFLAGS LDFLAGS CPPFLAGS ac_ct_CC EXEEXT OBJEXT INSTALL_PROGRAM INSTALL_SCRIPT INSTALL_DATA RANLIB ac_ct_RANLIB CPP EGREP LIBEVENT LIBOBJS LTLIBOBJS'
+ac_subst_files=''
 
 # Initialize some variables set by options.
+ac_init_help=
+ac_init_version=false
 # The variables have the same names as the options, with
 # dashes changed to underlines.
-build=NONE
-cache_file=./config.cache
+cache_file=/dev/null
 exec_prefix=NONE
-host=NONE
 no_create=
-nonopt=NONE
 no_recursion=
 prefix=NONE
 program_prefix=NONE
@@ -29,10 +328,15 @@ program_transform_name=s,x,x,
 silent=
 site=
 srcdir=
-target=NONE
 verbose=
 x_includes=NONE
 x_libraries=NONE
+
+# Installation directory options.
+# These are left unexpanded so users can "make install exec_prefix=/foo"
+# and all the variables that are supposed to be based on exec_prefix
+# by default will actually change.
+# Use braces instead of parens because sh, perl, etc. also accept them.
 bindir='${exec_prefix}/bin'
 sbindir='${exec_prefix}/sbin'
 libexecdir='${exec_prefix}/libexec'
@@ -46,17 +350,9 @@ oldincludedir='/usr/include'
 infodir='${prefix}/info'
 mandir='${prefix}/man'
 
-# Initialize some other variables.
-subdirs=
-MFLAGS= MAKEFLAGS=
-SHELL=${CONFIG_SHELL-/bin/sh}
-# Maximum number of lines to put in a shell here document.
-ac_max_here_lines=12
-
 ac_prev=
 for ac_option
 do
-
   # If the previous option needs an argument, assign it.
   if test -n "$ac_prev"; then
     eval "$ac_prev=\$ac_option"
@@ -64,59 +360,59 @@ do
     continue
   fi
 
-  case "$ac_option" in
-  -*=*) ac_optarg=`echo "$ac_option" | sed 's/[-_a-zA-Z0-9]*=//'` ;;
-  *) ac_optarg= ;;
-  esac
+  ac_optarg=`expr "x$ac_option" : 'x[^=]*=\(.*\)'`
 
   # Accept the important Cygnus configure options, so we can diagnose typos.
 
-  case "$ac_option" in
+  case $ac_option in
 
   -bindir | --bindir | --bindi | --bind | --bin | --bi)
     ac_prev=bindir ;;
   -bindir=* | --bindir=* | --bindi=* | --bind=* | --bin=* | --bi=*)
-    bindir="$ac_optarg" ;;
+    bindir=$ac_optarg ;;
 
   -build | --build | --buil | --bui | --bu)
-    ac_prev=build ;;
+    ac_prev=build_alias ;;
   -build=* | --build=* | --buil=* | --bui=* | --bu=*)
-    build="$ac_optarg" ;;
+    build_alias=$ac_optarg ;;
 
   -cache-file | --cache-file | --cache-fil | --cache-fi \
   | --cache-f | --cache- | --cache | --cach | --cac | --ca | --c)
     ac_prev=cache_file ;;
   -cache-file=* | --cache-file=* | --cache-fil=* | --cache-fi=* \
   | --cache-f=* | --cache-=* | --cache=* | --cach=* | --cac=* | --ca=* | --c=*)
-    cache_file="$ac_optarg" ;;
+    cache_file=$ac_optarg ;;
+
+  --config-cache | -C)
+    cache_file=config.cache ;;
 
   -datadir | --datadir | --datadi | --datad | --data | --dat | --da)
     ac_prev=datadir ;;
   -datadir=* | --datadir=* | --datadi=* | --datad=* | --data=* | --dat=* \
   | --da=*)
-    datadir="$ac_optarg" ;;
+    datadir=$ac_optarg ;;
 
   -disable-* | --disable-*)
-    ac_feature=`echo $ac_option|sed -e 's/-*disable-//'`
+    ac_feature=`expr "x$ac_option" : 'x-*disable-\(.*\)'`
     # Reject names that are not valid shell variable names.
-    if test -n "`echo $ac_feature| sed 's/[-a-zA-Z0-9_]//g'`"; then
-      { echo "configure: error: $ac_feature: invalid feature name" 1>&2; exit 1; }
-    fi
+    expr "x$ac_feature" : ".*[^-_$as_cr_alnum]" >/dev/null &&
+      { echo "$as_me: error: invalid feature name: $ac_feature" >&2
+   { (exit 1); exit 1; }; }
     ac_feature=`echo $ac_feature| sed 's/-/_/g'`
-    eval "enable_${ac_feature}=no" ;;
+    eval "enable_$ac_feature=no" ;;
 
   -enable-* | --enable-*)
-    ac_feature=`echo $ac_option|sed -e 's/-*enable-//' -e 's/=.*//'`
+    ac_feature=`expr "x$ac_option" : 'x-*enable-\([^=]*\)'`
     # Reject names that are not valid shell variable names.
-    if test -n "`echo $ac_feature| sed 's/[-_a-zA-Z0-9]//g'`"; then
-      { echo "configure: error: $ac_feature: invalid feature name" 1>&2; exit 1; }
-    fi
+    expr "x$ac_feature" : ".*[^-_$as_cr_alnum]" >/dev/null &&
+      { echo "$as_me: error: invalid feature name: $ac_feature" >&2
+   { (exit 1); exit 1; }; }
     ac_feature=`echo $ac_feature| sed 's/-/_/g'`
-    case "$ac_option" in
-      *=*) ;;
+    case $ac_option in
+      *=*) ac_optarg=`echo "$ac_optarg" | sed "s/'/'\\\\\\\\''/g"`;;
       *) ac_optarg=yes ;;
     esac
-    eval "enable_${ac_feature}='$ac_optarg'" ;;
+    eval "enable_$ac_feature='$ac_optarg'" ;;
 
   -exec-prefix | --exec_prefix | --exec-prefix | --exec-prefi \
   | --exec-pref | --exec-pre | --exec-pr | --exec-p | --exec- \
@@ -125,95 +421,47 @@ do
   -exec-prefix=* | --exec_prefix=* | --exec-prefix=* | --exec-prefi=* \
   | --exec-pref=* | --exec-pre=* | --exec-pr=* | --exec-p=* | --exec-=* \
   | --exec=* | --exe=* | --ex=*)
-    exec_prefix="$ac_optarg" ;;
+    exec_prefix=$ac_optarg ;;
 
   -gas | --gas | --ga | --g)
     # Obsolete; use --with-gas.
     with_gas=yes ;;
 
-  -help | --help | --hel | --he)
-    # Omit some internal or obsolete options to make the list less imposing.
-    # This message is too long to be a string in the A/UX 3.1 sh.
-    cat << EOF
-Usage: configure [options] [host]
-Options: [defaults in brackets after descriptions]
-Configuration:
-  --cache-file=FILE       cache test results in FILE
-  --help                  print this message
-  --no-create             do not create output files
-  --quiet, --silent       do not print \`checking...' messages
-  --version               print the version of autoconf that created configure
-Directory and file names:
-  --prefix=PREFIX         install architecture-independent files in PREFIX
-                          [$ac_default_prefix]
-  --exec-prefix=EPREFIX   install architecture-dependent files in EPREFIX
-                          [same as prefix]
-  --bindir=DIR            user executables in DIR [EPREFIX/bin]
-  --sbindir=DIR           system admin executables in DIR [EPREFIX/sbin]
-  --libexecdir=DIR        program executables in DIR [EPREFIX/libexec]
-  --datadir=DIR           read-only architecture-independent data in DIR
-                          [PREFIX/share]
-  --sysconfdir=DIR        read-only single-machine data in DIR [PREFIX/etc]
-  --sharedstatedir=DIR    modifiable architecture-independent data in DIR
-                          [PREFIX/com]
-  --localstatedir=DIR     modifiable single-machine data in DIR [PREFIX/var]
-  --libdir=DIR            object code libraries in DIR [EPREFIX/lib]
-  --includedir=DIR        C header files in DIR [PREFIX/include]
-  --oldincludedir=DIR     C header files for non-gcc in DIR [/usr/include]
-  --infodir=DIR           info documentation in DIR [PREFIX/info]
-  --mandir=DIR            man documentation in DIR [PREFIX/man]
-  --srcdir=DIR            find the sources in DIR [configure dir or ..]
-  --program-prefix=PREFIX prepend PREFIX to installed program names
-  --program-suffix=SUFFIX append SUFFIX to installed program names
-  --program-transform-name=PROGRAM
-                          run sed PROGRAM on installed program names
-EOF
-    cat << EOF
-Host type:
-  --build=BUILD           configure for building on BUILD [BUILD=HOST]
-  --host=HOST             configure for HOST [guessed]
-  --target=TARGET         configure for TARGET [TARGET=HOST]
-Features and packages:
-  --disable-FEATURE       do not include FEATURE (same as --enable-FEATURE=no)
-  --enable-FEATURE[=ARG]  include FEATURE [ARG=yes]
-  --with-PACKAGE[=ARG]    use PACKAGE [ARG=yes]
-  --without-PACKAGE       do not use PACKAGE (same as --with-PACKAGE=no)
-  --x-includes=DIR        X include files are in DIR
-  --x-libraries=DIR       X library files are in DIR
-EOF
-    if test -n "$ac_help"; then
-      echo "--enable and --with options recognized:$ac_help"
-    fi
-    exit 0 ;;
+  -help | --help | --hel | --he | -h)
+    ac_init_help=long ;;
+  -help=r* | --help=r* | --hel=r* | --he=r* | -hr*)
+    ac_init_help=recursive ;;
+  -help=s* | --help=s* | --hel=s* | --he=s* | -hs*)
+    ac_init_help=short ;;
 
   -host | --host | --hos | --ho)
-    ac_prev=host ;;
+    ac_prev=host_alias ;;
   -host=* | --host=* | --hos=* | --ho=*)
-    host="$ac_optarg" ;;
+    host_alias=$ac_optarg ;;
 
   -includedir | --includedir | --includedi | --included | --include \
   | --includ | --inclu | --incl | --inc)
     ac_prev=includedir ;;
   -includedir=* | --includedir=* | --includedi=* | --included=* | --include=* \
   | --includ=* | --inclu=* | --incl=* | --inc=*)
-    includedir="$ac_optarg" ;;
+    includedir=$ac_optarg ;;
 
   -infodir | --infodir | --infodi | --infod | --info | --inf)
     ac_prev=infodir ;;
   -infodir=* | --infodir=* | --infodi=* | --infod=* | --info=* | --inf=*)
-    infodir="$ac_optarg" ;;
+    infodir=$ac_optarg ;;
 
   -libdir | --libdir | --libdi | --libd)
     ac_prev=libdir ;;
   -libdir=* | --libdir=* | --libdi=* | --libd=*)
-    libdir="$ac_optarg" ;;
+    libdir=$ac_optarg ;;
 
   -libexecdir | --libexecdir | --libexecdi | --libexecd | --libexec \
   | --libexe | --libex | --libe)
     ac_prev=libexecdir ;;
   -libexecdir=* | --libexecdir=* | --libexecdi=* | --libexecd=* | --libexec=* \
   | --libexe=* | --libex=* | --libe=*)
-    libexecdir="$ac_optarg" ;;
+    libexecdir=$ac_optarg ;;
 
   -localstatedir | --localstatedir | --localstatedi | --localstated \
   | --localstate | --localstat | --localsta | --localst \
@@ -222,19 +470,19 @@ EOF
   -localstatedir=* | --localstatedir=* | --localstatedi=* | --localstated=* \
   | --localstate=* | --localstat=* | --localsta=* | --localst=* \
   | --locals=* | --local=* | --loca=* | --loc=* | --lo=*)
-    localstatedir="$ac_optarg" ;;
+    localstatedir=$ac_optarg ;;
 
   -mandir | --mandir | --mandi | --mand | --man | --ma | --m)
     ac_prev=mandir ;;
   -mandir=* | --mandir=* | --mandi=* | --mand=* | --man=* | --ma=* | --m=*)
-    mandir="$ac_optarg" ;;
+    mandir=$ac_optarg ;;
 
   -nfp | --nfp | --nf)
     # Obsolete; use --without-fp.
     with_fp=no ;;
 
   -no-create | --no-create | --no-creat | --no-crea | --no-cre \
-  | --no-cr | --no-c)
+  | --no-cr | --no-c | -n)
     no_create=yes ;;
 
   -no-recursion | --no-recursion | --no-recursio | --no-recursi \
@@ -248,26 +496,26 @@ EOF
   -oldincludedir=* | --oldincludedir=* | --oldincludedi=* | --oldincluded=* \
   | --oldinclude=* | --oldinclud=* | --oldinclu=* | --oldincl=* | --oldinc=* \
   | --oldin=* | --oldi=* | --old=* | --ol=* | --o=*)
-    oldincludedir="$ac_optarg" ;;
+    oldincludedir=$ac_optarg ;;
 
   -prefix | --prefix | --prefi | --pref | --pre | --pr | --p)
     ac_prev=prefix ;;
   -prefix=* | --prefix=* | --prefi=* | --pref=* | --pre=* | --pr=* | --p=*)
-    prefix="$ac_optarg" ;;
+    prefix=$ac_optarg ;;
 
   -program-prefix | --program-prefix | --program-prefi | --program-pref \
   | --program-pre | --program-pr | --program-p)
     ac_prev=program_prefix ;;
   -program-prefix=* | --program-prefix=* | --program-prefi=* \
   | --program-pref=* | --program-pre=* | --program-pr=* | --program-p=*)
-    program_prefix="$ac_optarg" ;;
+    program_prefix=$ac_optarg ;;
 
   -program-suffix | --program-suffix | --program-suffi | --program-suff \
   | --program-suf | --program-su | --program-s)
     ac_prev=program_suffix ;;
   -program-suffix=* | --program-suffix=* | --program-suffi=* \
   | --program-suff=* | --program-suf=* | --program-su=* | --program-s=*)
-    program_suffix="$ac_optarg" ;;
+    program_suffix=$ac_optarg ;;
 
   -program-transform-name | --program-transform-name \
   | --program-transform-nam | --program-transform-na \
@@ -284,7 +532,7 @@ EOF
   | --program-transfo=* | --program-transf=* \
   | --program-trans=* | --program-tran=* \
   | --progr-tra=* | --program-tr=* | --program-t=*)
-    program_transform_name="$ac_optarg" ;;
+    program_transform_name=$ac_optarg ;;
 
   -q | -quiet | --quiet | --quie | --qui | --qu | --q \
   | -silent | --silent | --silen | --sile | --sil)
@@ -294,7 +542,7 @@ EOF
     ac_prev=sbindir ;;
   -sbindir=* | --sbindir=* | --sbindi=* | --sbind=* | --sbin=* \
   | --sbi=* | --sb=*)
-    sbindir="$ac_optarg" ;;
+    sbindir=$ac_optarg ;;
 
   -sharedstatedir | --sharedstatedir | --sharedstatedi \
   | --sharedstated | --sharedstate | --sharedstat | --sharedsta \
@@ -305,58 +553,57 @@ EOF
   | --sharedstated=* | --sharedstate=* | --sharedstat=* | --sharedsta=* \
   | --sharedst=* | --shareds=* | --shared=* | --share=* | --shar=* \
   | --sha=* | --sh=*)
-    sharedstatedir="$ac_optarg" ;;
+    sharedstatedir=$ac_optarg ;;
 
   -site | --site | --sit)
     ac_prev=site ;;
   -site=* | --site=* | --sit=*)
-    site="$ac_optarg" ;;
+    site=$ac_optarg ;;
 
   -srcdir | --srcdir | --srcdi | --srcd | --src | --sr)
     ac_prev=srcdir ;;
   -srcdir=* | --srcdir=* | --srcdi=* | --srcd=* | --src=* | --sr=*)
-    srcdir="$ac_optarg" ;;
+    srcdir=$ac_optarg ;;
 
   -sysconfdir | --sysconfdir | --sysconfdi | --sysconfd | --sysconf \
   | --syscon | --sysco | --sysc | --sys | --sy)
     ac_prev=sysconfdir ;;
   -sysconfdir=* | --sysconfdir=* | --sysconfdi=* | --sysconfd=* | --sysconf=* \
   | --syscon=* | --sysco=* | --sysc=* | --sys=* | --sy=*)
-    sysconfdir="$ac_optarg" ;;
+    sysconfdir=$ac_optarg ;;
 
   -target | --target | --targe | --targ | --tar | --ta | --t)
-    ac_prev=target ;;
+    ac_prev=target_alias ;;
   -target=* | --target=* | --targe=* | --targ=* | --tar=* | --ta=* | --t=*)
-    target="$ac_optarg" ;;
+    target_alias=$ac_optarg ;;
 
   -v | -verbose | --verbose | --verbos | --verbo | --verb)
     verbose=yes ;;
 
-  -version | --version | --versio | --versi | --vers)
-    echo "configure generated by autoconf version 2.13"
-    exit 0 ;;
+  -version | --version | --versio | --versi | --vers | -V)
+    ac_init_version=: ;;
 
   -with-* | --with-*)
-    ac_package=`echo $ac_option|sed -e 's/-*with-//' -e 's/=.*//'`
+    ac_package=`expr "x$ac_option" : 'x-*with-\([^=]*\)'`
     # Reject names that are not valid shell variable names.
-    if test -n "`echo $ac_package| sed 's/[-_a-zA-Z0-9]//g'`"; then
-      { echo "configure: error: $ac_package: invalid package name" 1>&2; exit 1; }
-    fi
+    expr "x$ac_package" : ".*[^-_$as_cr_alnum]" >/dev/null &&
+      { echo "$as_me: error: invalid package name: $ac_package" >&2
+   { (exit 1); exit 1; }; }
     ac_package=`echo $ac_package| sed 's/-/_/g'`
-    case "$ac_option" in
-      *=*) ;;
+    case $ac_option in
+      *=*) ac_optarg=`echo "$ac_optarg" | sed "s/'/'\\\\\\\\''/g"`;;
       *) ac_optarg=yes ;;
     esac
-    eval "with_${ac_package}='$ac_optarg'" ;;
+    eval "with_$ac_package='$ac_optarg'" ;;
 
   -without-* | --without-*)
-    ac_package=`echo $ac_option|sed -e 's/-*without-//'`
+    ac_package=`expr "x$ac_option" : 'x-*without-\(.*\)'`
     # Reject names that are not valid shell variable names.
-    if test -n "`echo $ac_package| sed 's/[-a-zA-Z0-9_]//g'`"; then
-      { echo "configure: error: $ac_package: invalid package name" 1>&2; exit 1; }
-    fi
+    expr "x$ac_package" : ".*[^-_$as_cr_alnum]" >/dev/null &&
+      { echo "$as_me: error: invalid package name: $ac_package" >&2
+   { (exit 1); exit 1; }; }
     ac_package=`echo $ac_package| sed 's/-/_/g'`
-    eval "with_${ac_package}=no" ;;
+    eval "with_$ac_package=no" ;;
 
   --x)
     # Obsolete; use --with-x.
@@ -367,99 +614,110 @@ EOF
     ac_prev=x_includes ;;
   -x-includes=* | --x-includes=* | --x-include=* | --x-includ=* | --x-inclu=* \
   | --x-incl=* | --x-inc=* | --x-in=* | --x-i=*)
-    x_includes="$ac_optarg" ;;
+    x_includes=$ac_optarg ;;
 
   -x-libraries | --x-libraries | --x-librarie | --x-librari \
   | --x-librar | --x-libra | --x-libr | --x-lib | --x-li | --x-l)
     ac_prev=x_libraries ;;
   -x-libraries=* | --x-libraries=* | --x-librarie=* | --x-librari=* \
   | --x-librar=* | --x-libra=* | --x-libr=* | --x-lib=* | --x-li=* | --x-l=*)
-    x_libraries="$ac_optarg" ;;
+    x_libraries=$ac_optarg ;;
 
-  -*) { echo "configure: error: $ac_option: invalid option; use --help to show usage" 1>&2; exit 1; }
+  -*) { echo "$as_me: error: unrecognized option: $ac_option
+Try \`$0 --help' for more information." >&2
+   { (exit 1); exit 1; }; }
     ;;
 
+  *=*)
+    ac_envvar=`expr "x$ac_option" : 'x\([^=]*\)='`
+    # Reject names that are not valid shell variable names.
+    expr "x$ac_envvar" : ".*[^_$as_cr_alnum]" >/dev/null &&
+      { echo "$as_me: error: invalid variable name: $ac_envvar" >&2
+   { (exit 1); exit 1; }; }
+    ac_optarg=`echo "$ac_optarg" | sed "s/'/'\\\\\\\\''/g"`
+    eval "$ac_envvar='$ac_optarg'"
+    export $ac_envvar ;;
+
   *)
-    if test -n "`echo $ac_option| sed 's/[-a-z0-9.]//g'`"; then
-      echo "configure: warning: $ac_option: invalid host type" 1>&2
-    fi
-    if test "x$nonopt" != xNONE; then
-      { echo "configure: error: can only configure for one host and one target at a time" 1>&2; exit 1; }
-    fi
-    nonopt="$ac_option"
+    # FIXME: should be removed in autoconf 3.0.
+    echo "$as_me: WARNING: you should use --build, --host, --target" >&2
+    expr "x$ac_option" : ".*[^-._$as_cr_alnum]" >/dev/null &&
+      echo "$as_me: WARNING: invalid host type: $ac_option" >&2
+    : ${build_alias=$ac_option} ${host_alias=$ac_option} ${target_alias=$ac_option}
     ;;
 
   esac
 done
 
 if test -n "$ac_prev"; then
-  { echo "configure: error: missing argument to --`echo $ac_prev | sed 's/_/-/g'`" 1>&2; exit 1; }
-fi
-
-trap 'rm -fr conftest* confdefs* core core.* *.core $ac_clean_files; exit 1' 1 2 15
-
-# File descriptor usage:
-# 0 standard input
-# 1 file creation
-# 2 errors and warnings
-# 3 some systems may open it to /dev/tty
-# 4 used on the Kubota Titan
-# 6 checking for... messages and results
-# 5 compiler messages saved in config.log
-if test "$silent" = yes; then
-  exec 6>/dev/null
-else
-  exec 6>&1
+  ac_option=--`echo $ac_prev | sed 's/_/-/g'`
+  { echo "$as_me: error: missing argument to $ac_option" >&2
+   { (exit 1); exit 1; }; }
 fi
-exec 5>./config.log
 
-echo "\
-This file contains any messages produced by compilers while
-running configure, to aid debugging if configure makes a mistake.
-" 1>&5
+# Be sure to have absolute paths.
+for ac_var in exec_prefix prefix
+do
+  eval ac_val=$`echo $ac_var`
+  case $ac_val in
+    [\\/$]* | ?:[\\/]* | NONE | '' ) ;;
+    *)  { echo "$as_me: error: expected an absolute directory name for --$ac_var: $ac_val" >&2
+   { (exit 1); exit 1; }; };;
+  esac
+done
 
-# Strip out --no-create and --no-recursion so they do not pile up.
-# Also quote any args containing shell metacharacters.
-ac_configure_args=
-for ac_arg
+# Be sure to have absolute paths.
+for ac_var in bindir sbindir libexecdir datadir sysconfdir sharedstatedir \
+	      localstatedir libdir includedir oldincludedir infodir mandir
 do
-  case "$ac_arg" in
-  -no-create | --no-create | --no-creat | --no-crea | --no-cre \
-  | --no-cr | --no-c) ;;
-  -no-recursion | --no-recursion | --no-recursio | --no-recursi \
-  | --no-recurs | --no-recur | --no-recu | --no-rec | --no-re | --no-r) ;;
-  *" "*|*"	"*|*[\[\]\~\#\$\^\&\*\(\)\{\}\\\|\;\<\>\?]*)
-  ac_configure_args="$ac_configure_args '$ac_arg'" ;;
-  *) ac_configure_args="$ac_configure_args $ac_arg" ;;
+  eval ac_val=$`echo $ac_var`
+  case $ac_val in
+    [\\/$]* | ?:[\\/]* ) ;;
+    *)  { echo "$as_me: error: expected an absolute directory name for --$ac_var: $ac_val" >&2
+   { (exit 1); exit 1; }; };;
   esac
 done
 
-# NLS nuisances.
-# Only set these to C if already set.  These must not be set unconditionally
-# because not all systems understand e.g. LANG=C (notably SCO).
-# Fixing LC_MESSAGES prevents Solaris sh from translating var values in `set'!
-# Non-C LC_CTYPE values break the ctype check.
-if test "${LANG+set}"   = set; then LANG=C;   export LANG;   fi
-if test "${LC_ALL+set}" = set; then LC_ALL=C; export LC_ALL; fi
-if test "${LC_MESSAGES+set}" = set; then LC_MESSAGES=C; export LC_MESSAGES; fi
-if test "${LC_CTYPE+set}"    = set; then LC_CTYPE=C;    export LC_CTYPE;    fi
+# There might be people who depend on the old broken behavior: `$host'
+# used to hold the argument of --host etc.
+# FIXME: To remove some day.
+build=$build_alias
+host=$host_alias
+target=$target_alias
+
+# FIXME: To remove some day.
+if test "x$host_alias" != x; then
+  if test "x$build_alias" = x; then
+    cross_compiling=maybe
+    echo "$as_me: WARNING: If you wanted to set the --build type, don't use --host.
+    If a cross compiler is detected then cross compile mode will be used." >&2
+  elif test "x$build_alias" != "x$host_alias"; then
+    cross_compiling=yes
+  fi
+fi
 
-# confdefs.h avoids OS command line length limits that DEFS can exceed.
-rm -rf conftest* confdefs.h
-# AIX cpp loses on an empty file, so make sure it contains at least a newline.
-echo > confdefs.h
+ac_tool_prefix=
+test -n "$host_alias" && ac_tool_prefix=$host_alias-
+
+test "$silent" = yes && exec 6>/dev/null
 
-# A filename unique to this package, relative to the directory that
-# configure is in, which we can look for to find out if srcdir is correct.
-ac_unique_file=l2tp.h
 
 # Find the source files, if location was not specified.
 if test -z "$srcdir"; then
   ac_srcdir_defaulted=yes
   # Try the directory containing this script, then its parent.
-  ac_prog=$0
-  ac_confdir=`echo $ac_prog|sed 's%/[^/][^/]*$%%'`
-  test "x$ac_confdir" = "x$ac_prog" && ac_confdir=.
+  ac_confdir=`(dirname "$0") 2>/dev/null ||
+$as_expr X"$0" : 'X\(.*[^/]\)//*[^/][^/]*/*$' \| \
+	 X"$0" : 'X\(//\)[^/]' \| \
+	 X"$0" : 'X\(//\)$' \| \
+	 X"$0" : 'X\(/\)' \| \
+	 .     : '\(.\)' 2>/dev/null ||
+echo X"$0" |
+    sed '/^X\(.*[^/]\)\/\/*[^/][^/]*\/*$/{ s//\1/; q; }
+  	  /^X\(\/\/\)[^/].*/{ s//\1/; q; }
+  	  /^X\(\/\/\)$/{ s//\1/; q; }
+  	  /^X\(\/\).*/{ s//\1/; q; }
+  	  s/.*/./; q'`
   srcdir=$ac_confdir
   if test ! -r $srcdir/$ac_unique_file; then
     srcdir=..
@@ -469,280 +727,1493 @@ else
 fi
 if test ! -r $srcdir/$ac_unique_file; then
   if test "$ac_srcdir_defaulted" = yes; then
-    { echo "configure: error: can not find sources in $ac_confdir or .." 1>&2; exit 1; }
+    { echo "$as_me: error: cannot find sources ($ac_unique_file) in $ac_confdir or .." >&2
+   { (exit 1); exit 1; }; }
   else
-    { echo "configure: error: can not find sources in $srcdir" 1>&2; exit 1; }
+    { echo "$as_me: error: cannot find sources ($ac_unique_file) in $srcdir" >&2
+   { (exit 1); exit 1; }; }
   fi
 fi
-srcdir=`echo "${srcdir}" | sed 's%\([^/]\)/*$%\1%'`
+(cd $srcdir && test -r ./$ac_unique_file) 2>/dev/null ||
+  { echo "$as_me: error: sources are in $srcdir, but \`cd $srcdir' does not work" >&2
+   { (exit 1); exit 1; }; }
+srcdir=`echo "$srcdir" | sed 's%\([^\\/]\)[\\/]*$%\1%'`
+ac_env_build_alias_set=${build_alias+set}
+ac_env_build_alias_value=$build_alias
+ac_cv_env_build_alias_set=${build_alias+set}
+ac_cv_env_build_alias_value=$build_alias
+ac_env_host_alias_set=${host_alias+set}
+ac_env_host_alias_value=$host_alias
+ac_cv_env_host_alias_set=${host_alias+set}
+ac_cv_env_host_alias_value=$host_alias
+ac_env_target_alias_set=${target_alias+set}
+ac_env_target_alias_value=$target_alias
+ac_cv_env_target_alias_set=${target_alias+set}
+ac_cv_env_target_alias_value=$target_alias
+ac_env_CC_set=${CC+set}
+ac_env_CC_value=$CC
+ac_cv_env_CC_set=${CC+set}
+ac_cv_env_CC_value=$CC
+ac_env_CFLAGS_set=${CFLAGS+set}
+ac_env_CFLAGS_value=$CFLAGS
+ac_cv_env_CFLAGS_set=${CFLAGS+set}
+ac_cv_env_CFLAGS_value=$CFLAGS
+ac_env_LDFLAGS_set=${LDFLAGS+set}
+ac_env_LDFLAGS_value=$LDFLAGS
+ac_cv_env_LDFLAGS_set=${LDFLAGS+set}
+ac_cv_env_LDFLAGS_value=$LDFLAGS
+ac_env_CPPFLAGS_set=${CPPFLAGS+set}
+ac_env_CPPFLAGS_value=$CPPFLAGS
+ac_cv_env_CPPFLAGS_set=${CPPFLAGS+set}
+ac_cv_env_CPPFLAGS_value=$CPPFLAGS
+ac_env_CPP_set=${CPP+set}
+ac_env_CPP_value=$CPP
+ac_cv_env_CPP_set=${CPP+set}
+ac_cv_env_CPP_value=$CPP
 
-# Prefer explicitly selected file to automatically selected ones.
-if test -z "$CONFIG_SITE"; then
-  if test "x$prefix" != xNONE; then
-    CONFIG_SITE="$prefix/share/config.site $prefix/etc/config.site"
-  else
-    CONFIG_SITE="$ac_default_prefix/share/config.site $ac_default_prefix/etc/config.site"
-  fi
-fi
-for ac_site_file in $CONFIG_SITE; do
-  if test -r "$ac_site_file"; then
-    echo "loading site script $ac_site_file"
-    . "$ac_site_file"
-  fi
-done
+#
+# Report the --help message.
+#
+if test "$ac_init_help" = "long"; then
+  # Omit some internal or obsolete options to make the list less imposing.
+  # This message is too long to be a string in the A/UX 3.1 sh.
+  cat <<_ACEOF
+\`configure' configures this package to adapt to many kinds of systems.
 
-if test -r "$cache_file"; then
-  echo "loading cache $cache_file"
-  . $cache_file
-else
-  echo "creating cache $cache_file"
-  > $cache_file
-fi
+Usage: $0 [OPTION]... [VAR=VALUE]...
 
-ac_ext=c
-# CFLAGS is not in ac_cpp because -g, -O, etc. are not valid cpp options.
-ac_cpp='$CPP $CPPFLAGS'
-ac_compile='${CC-cc} -c $CFLAGS $CPPFLAGS conftest.$ac_ext 1>&5'
-ac_link='${CC-cc} -o conftest${ac_exeext} $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS 1>&5'
-cross_compiling=$ac_cv_prog_cc_cross
-
-ac_exeext=
-ac_objext=o
-if (echo "testing\c"; echo 1,2,3) | grep c >/dev/null; then
-  # Stardent Vistra SVR4 grep lacks -e, says ghazi@caip.rutgers.edu.
-  if (echo -n testing; echo 1,2,3) | sed s/-n/xn/ | grep xn >/dev/null; then
-    ac_n= ac_c='
-' ac_t='	'
-  else
-    ac_n=-n ac_c= ac_t=
-  fi
-else
-  ac_n= ac_c='\c' ac_t=
-fi
+To assign environment variables (e.g., CC, CFLAGS...), specify them as
+VAR=VALUE.  See below for descriptions of some of the useful variables.
 
+Defaults for the options are specified in brackets.
 
+Configuration:
+  -h, --help              display this help and exit
+      --help=short        display options specific to this package
+      --help=recursive    display the short help of all the included packages
+  -V, --version           display version information and exit
+  -q, --quiet, --silent   do not print \`checking...' messages
+      --cache-file=FILE   cache test results in FILE [disabled]
+  -C, --config-cache      alias for \`--cache-file=config.cache'
+  -n, --no-create         do not create output files
+      --srcdir=DIR        find the sources in DIR [configure dir or \`..']
 
-# Extract the first word of "gcc", so it can be a program name with args.
-set dummy gcc; ac_word=$2
-echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
-echo "configure:529: checking for $ac_word" >&5
-if eval "test \"`echo '$''{'ac_cv_prog_CC'+set}'`\" = set"; then
-  echo $ac_n "(cached) $ac_c" 1>&6
-else
-  if test -n "$CC"; then
-  ac_cv_prog_CC="$CC" # Let the user override the test.
-else
-  IFS="${IFS= 	}"; ac_save_ifs="$IFS"; IFS=":"
-  ac_dummy="$PATH"
-  for ac_dir in $ac_dummy; do
-    test -z "$ac_dir" && ac_dir=.
-    if test -f $ac_dir/$ac_word; then
-      ac_cv_prog_CC="gcc"
-      break
-    fi
-  done
-  IFS="$ac_save_ifs"
-fi
-fi
-CC="$ac_cv_prog_CC"
-if test -n "$CC"; then
-  echo "$ac_t""$CC" 1>&6
-else
-  echo "$ac_t""no" 1>&6
-fi
+_ACEOF
 
-if test -z "$CC"; then
-  # Extract the first word of "cc", so it can be a program name with args.
-set dummy cc; ac_word=$2
-echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
-echo "configure:559: checking for $ac_word" >&5
-if eval "test \"`echo '$''{'ac_cv_prog_CC'+set}'`\" = set"; then
-  echo $ac_n "(cached) $ac_c" 1>&6
-else
-  if test -n "$CC"; then
-  ac_cv_prog_CC="$CC" # Let the user override the test.
-else
-  IFS="${IFS= 	}"; ac_save_ifs="$IFS"; IFS=":"
-  ac_prog_rejected=no
-  ac_dummy="$PATH"
-  for ac_dir in $ac_dummy; do
-    test -z "$ac_dir" && ac_dir=.
-    if test -f $ac_dir/$ac_word; then
-      if test "$ac_dir/$ac_word" = "/usr/ucb/cc"; then
-        ac_prog_rejected=yes
-	continue
-      fi
-      ac_cv_prog_CC="cc"
-      break
-    fi
-  done
-  IFS="$ac_save_ifs"
-if test $ac_prog_rejected = yes; then
-  # We found a bogon in the path, so make sure we never use it.
-  set dummy $ac_cv_prog_CC
-  shift
-  if test $# -gt 0; then
-    # We chose a different compiler from the bogus one.
-    # However, it has the same basename, so the bogon will be chosen
-    # first if we set CC to just the basename; use the full file name.
-    shift
-    set dummy "$ac_dir/$ac_word" "$@"
-    shift
-    ac_cv_prog_CC="$@"
-  fi
-fi
-fi
-fi
-CC="$ac_cv_prog_CC"
-if test -n "$CC"; then
-  echo "$ac_t""$CC" 1>&6
+  cat <<_ACEOF
+Installation directories:
+  --prefix=PREFIX         install architecture-independent files in PREFIX
+			  [$ac_default_prefix]
+  --exec-prefix=EPREFIX   install architecture-dependent files in EPREFIX
+			  [PREFIX]
+
+By default, \`make install' will install all the files in
+\`$ac_default_prefix/bin', \`$ac_default_prefix/lib' etc.  You can specify
+an installation prefix other than \`$ac_default_prefix' using \`--prefix',
+for instance \`--prefix=\$HOME'.
+
+For better control, use the options below.
+
+Fine tuning of the installation directories:
+  --bindir=DIR           user executables [EPREFIX/bin]
+  --sbindir=DIR          system admin executables [EPREFIX/sbin]
+  --libexecdir=DIR       program executables [EPREFIX/libexec]
+  --datadir=DIR          read-only architecture-independent data [PREFIX/share]
+  --sysconfdir=DIR       read-only single-machine data [PREFIX/etc]
+  --sharedstatedir=DIR   modifiable architecture-independent data [PREFIX/com]
+  --localstatedir=DIR    modifiable single-machine data [PREFIX/var]
+  --libdir=DIR           object code libraries [EPREFIX/lib]
+  --includedir=DIR       C header files [PREFIX/include]
+  --oldincludedir=DIR    C header files for non-gcc [/usr/include]
+  --infodir=DIR          info documentation [PREFIX/info]
+  --mandir=DIR           man documentation [PREFIX/man]
+_ACEOF
+
+  cat <<\_ACEOF
+_ACEOF
+fi
+
+if test -n "$ac_init_help"; then
+
+  cat <<\_ACEOF
+
+Some influential environment variables:
+  CC          C compiler command
+  CFLAGS      C compiler flags
+  LDFLAGS     linker flags, e.g. -L<lib dir> if you have libraries in a
+              nonstandard directory <lib dir>
+  CPPFLAGS    C/C++ preprocessor flags, e.g. -I<include dir> if you have
+              headers in a nonstandard directory <include dir>
+  CPP         C preprocessor
+
+Use these variables to override the choices made by `configure' or to help
+it to find libraries and programs with nonstandard names/locations.
+
+_ACEOF
+fi
+
+if test "$ac_init_help" = "recursive"; then
+  # If there are subdirs, report their specific --help.
+  ac_popdir=`pwd`
+  for ac_dir in : $ac_subdirs_all; do test "x$ac_dir" = x: && continue
+    test -d $ac_dir || continue
+    ac_builddir=.
+
+if test "$ac_dir" != .; then
+  ac_dir_suffix=/`echo "$ac_dir" | sed 's,^\.[\\/],,'`
+  # A "../" for each directory in $ac_dir_suffix.
+  ac_top_builddir=`echo "$ac_dir_suffix" | sed 's,/[^\\/]*,../,g'`
 else
-  echo "$ac_t""no" 1>&6
+  ac_dir_suffix= ac_top_builddir=
 fi
 
-  if test -z "$CC"; then
-    case "`uname -s`" in
-    *win32* | *WIN32*)
-      # Extract the first word of "cl", so it can be a program name with args.
-set dummy cl; ac_word=$2
-echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
-echo "configure:610: checking for $ac_word" >&5
-if eval "test \"`echo '$''{'ac_cv_prog_CC'+set}'`\" = set"; then
-  echo $ac_n "(cached) $ac_c" 1>&6
-else
-  if test -n "$CC"; then
-  ac_cv_prog_CC="$CC" # Let the user override the test.
+case $srcdir in
+  .)  # No --srcdir option.  We are building in place.
+    ac_srcdir=.
+    if test -z "$ac_top_builddir"; then
+       ac_top_srcdir=.
+    else
+       ac_top_srcdir=`echo $ac_top_builddir | sed 's,/$,,'`
+    fi ;;
+  [\\/]* | ?:[\\/]* )  # Absolute path.
+    ac_srcdir=$srcdir$ac_dir_suffix;
+    ac_top_srcdir=$srcdir ;;
+  *) # Relative path.
+    ac_srcdir=$ac_top_builddir$srcdir$ac_dir_suffix
+    ac_top_srcdir=$ac_top_builddir$srcdir ;;
+esac
+
+# Do not use `cd foo && pwd` to compute absolute paths, because
+# the directories may not exist.
+case `pwd` in
+.) ac_abs_builddir="$ac_dir";;
+*)
+  case "$ac_dir" in
+  .) ac_abs_builddir=`pwd`;;
+  [\\/]* | ?:[\\/]* ) ac_abs_builddir="$ac_dir";;
+  *) ac_abs_builddir=`pwd`/"$ac_dir";;
+  esac;;
+esac
+case $ac_abs_builddir in
+.) ac_abs_top_builddir=${ac_top_builddir}.;;
+*)
+  case ${ac_top_builddir}. in
+  .) ac_abs_top_builddir=$ac_abs_builddir;;
+  [\\/]* | ?:[\\/]* ) ac_abs_top_builddir=${ac_top_builddir}.;;
+  *) ac_abs_top_builddir=$ac_abs_builddir/${ac_top_builddir}.;;
+  esac;;
+esac
+case $ac_abs_builddir in
+.) ac_abs_srcdir=$ac_srcdir;;
+*)
+  case $ac_srcdir in
+  .) ac_abs_srcdir=$ac_abs_builddir;;
+  [\\/]* | ?:[\\/]* ) ac_abs_srcdir=$ac_srcdir;;
+  *) ac_abs_srcdir=$ac_abs_builddir/$ac_srcdir;;
+  esac;;
+esac
+case $ac_abs_builddir in
+.) ac_abs_top_srcdir=$ac_top_srcdir;;
+*)
+  case $ac_top_srcdir in
+  .) ac_abs_top_srcdir=$ac_abs_builddir;;
+  [\\/]* | ?:[\\/]* ) ac_abs_top_srcdir=$ac_top_srcdir;;
+  *) ac_abs_top_srcdir=$ac_abs_builddir/$ac_top_srcdir;;
+  esac;;
+esac
+
+    cd $ac_dir
+    # Check for guested configure; otherwise get Cygnus style configure.
+    if test -f $ac_srcdir/configure.gnu; then
+      echo
+      $SHELL $ac_srcdir/configure.gnu  --help=recursive
+    elif test -f $ac_srcdir/configure; then
+      echo
+      $SHELL $ac_srcdir/configure  --help=recursive
+    elif test -f $ac_srcdir/configure.ac ||
+	   test -f $ac_srcdir/configure.in; then
+      echo
+      $ac_configure --help
 else
-  IFS="${IFS= 	}"; ac_save_ifs="$IFS"; IFS=":"
-  ac_dummy="$PATH"
-  for ac_dir in $ac_dummy; do
-    test -z "$ac_dir" && ac_dir=.
-    if test -f $ac_dir/$ac_word; then
-      ac_cv_prog_CC="cl"
-      break
+      echo "$as_me: WARNING: no configuration information is in $ac_dir" >&2
     fi
+    cd $ac_popdir
   done
-  IFS="$ac_save_ifs"
-fi
-fi
-CC="$ac_cv_prog_CC"
-if test -n "$CC"; then
-  echo "$ac_t""$CC" 1>&6
-else
-  echo "$ac_t""no" 1>&6
-fi
- ;;
-    esac
   fi
-  test -z "$CC" && { echo "configure: error: no acceptable cc found in \$PATH" 1>&2; exit 1; }
+
+test -n "$ac_init_help" && exit 0
+if $ac_init_version; then
+  cat <<\_ACEOF
+
+Copyright (C) 2003 Free Software Foundation, Inc.
+This configure script is free software; the Free Software Foundation
+gives unlimited permission to copy, distribute and modify it.
+_ACEOF
+  exit 0
 fi
+exec 5>config.log
+cat >&5 <<_ACEOF
+This file contains any messages produced by compilers while
+running configure, to aid debugging if configure makes a mistake.
 
-echo $ac_n "checking whether the C compiler ($CC $CFLAGS $LDFLAGS) works""... $ac_c" 1>&6
-echo "configure:642: checking whether the C compiler ($CC $CFLAGS $LDFLAGS) works" >&5
+It was created by $as_me, which was
+generated by GNU Autoconf 2.59.  Invocation command line was
 
-ac_ext=c
-# CFLAGS is not in ac_cpp because -g, -O, etc. are not valid cpp options.
-ac_cpp='$CPP $CPPFLAGS'
-ac_compile='${CC-cc} -c $CFLAGS $CPPFLAGS conftest.$ac_ext 1>&5'
-ac_link='${CC-cc} -o conftest${ac_exeext} $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS 1>&5'
-cross_compiling=$ac_cv_prog_cc_cross
+  $ $0 $@
 
-cat > conftest.$ac_ext << EOF
+_ACEOF
+{
+cat <<_ASUNAME
+## --------- ##
+## Platform. ##
+## --------- ##
+
+hostname = `(hostname || uname -n) 2>/dev/null | sed 1q`
+uname -m = `(uname -m) 2>/dev/null || echo unknown`
+uname -r = `(uname -r) 2>/dev/null || echo unknown`
+uname -s = `(uname -s) 2>/dev/null || echo unknown`
+uname -v = `(uname -v) 2>/dev/null || echo unknown`
+
+/usr/bin/uname -p = `(/usr/bin/uname -p) 2>/dev/null || echo unknown`
+/bin/uname -X     = `(/bin/uname -X) 2>/dev/null     || echo unknown`
+
+/bin/arch              = `(/bin/arch) 2>/dev/null              || echo unknown`
+/usr/bin/arch -k       = `(/usr/bin/arch -k) 2>/dev/null       || echo unknown`
+/usr/convex/getsysinfo = `(/usr/convex/getsysinfo) 2>/dev/null || echo unknown`
+hostinfo               = `(hostinfo) 2>/dev/null               || echo unknown`
+/bin/machine           = `(/bin/machine) 2>/dev/null           || echo unknown`
+/usr/bin/oslevel       = `(/usr/bin/oslevel) 2>/dev/null       || echo unknown`
+/bin/universe          = `(/bin/universe) 2>/dev/null          || echo unknown`
 
-#line 653 "configure"
-#include "confdefs.h"
+_ASUNAME
 
-main(){return(0);}
-EOF
-if { (eval echo configure:658: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
-  ac_cv_prog_cc_works=yes
-  # If we can't run a trivial program, we are probably using a cross compiler.
-  if (./conftest; exit) 2>/dev/null; then
-    ac_cv_prog_cc_cross=no
-  else
-    ac_cv_prog_cc_cross=yes
-  fi
-else
-  echo "configure: failed program was:" >&5
-  cat conftest.$ac_ext >&5
-  ac_cv_prog_cc_works=no
-fi
-rm -fr conftest*
-ac_ext=c
-# CFLAGS is not in ac_cpp because -g, -O, etc. are not valid cpp options.
-ac_cpp='$CPP $CPPFLAGS'
-ac_compile='${CC-cc} -c $CFLAGS $CPPFLAGS conftest.$ac_ext 1>&5'
-ac_link='${CC-cc} -o conftest${ac_exeext} $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS 1>&5'
-cross_compiling=$ac_cv_prog_cc_cross
+as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
+for as_dir in $PATH
+do
+  IFS=$as_save_IFS
+  test -z "$as_dir" && as_dir=.
+  echo "PATH: $as_dir"
+done
 
-echo "$ac_t""$ac_cv_prog_cc_works" 1>&6
-if test $ac_cv_prog_cc_works = no; then
-  { echo "configure: error: installation or configuration problem: C compiler cannot create executables." 1>&2; exit 1; }
-fi
-echo $ac_n "checking whether the C compiler ($CC $CFLAGS $LDFLAGS) is a cross-compiler""... $ac_c" 1>&6
-echo "configure:684: checking whether the C compiler ($CC $CFLAGS $LDFLAGS) is a cross-compiler" >&5
-echo "$ac_t""$ac_cv_prog_cc_cross" 1>&6
-cross_compiling=$ac_cv_prog_cc_cross
+} >&5
 
-echo $ac_n "checking whether we are using GNU C""... $ac_c" 1>&6
-echo "configure:689: checking whether we are using GNU C" >&5
-if eval "test \"`echo '$''{'ac_cv_prog_gcc'+set}'`\" = set"; then
-  echo $ac_n "(cached) $ac_c" 1>&6
-else
-  cat > conftest.c <<EOF
-#ifdef __GNUC__
-  yes;
-#endif
-EOF
-if { ac_try='${CC-cc} -E conftest.c'; { (eval echo configure:698: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }; } | egrep yes >/dev/null 2>&1; then
-  ac_cv_prog_gcc=yes
-else
-  ac_cv_prog_gcc=no
-fi
-fi
+cat >&5 <<_ACEOF
 
-echo "$ac_t""$ac_cv_prog_gcc" 1>&6
 
-if test $ac_cv_prog_gcc = yes; then
-  GCC=yes
-else
-  GCC=
-fi
+## ----------- ##
+## Core tests. ##
+## ----------- ##
+
+_ACEOF
+
+
+# Keep a trace of the command line.
+# Strip out --no-create and --no-recursion so they do not pile up.
+# Strip out --silent because we don't want to record it for future runs.
+# Also quote any args containing shell meta-characters.
+# Make two passes to allow for proper duplicate-argument suppression.
+ac_configure_args=
+ac_configure_args0=
+ac_configure_args1=
+ac_sep=
+ac_must_keep_next=false
+for ac_pass in 1 2
+do
+  for ac_arg
+  do
+    case $ac_arg in
+    -no-create | --no-c* | -n | -no-recursion | --no-r*) continue ;;
+    -q | -quiet | --quiet | --quie | --qui | --qu | --q \
+    | -silent | --silent | --silen | --sile | --sil)
+      continue ;;
+    *" "*|*"	"*|*[\[\]\~\#\$\^\&\*\(\)\{\}\\\|\;\<\>\?\"\']*)
+      ac_arg=`echo "$ac_arg" | sed "s/'/'\\\\\\\\''/g"` ;;
+    esac
+    case $ac_pass in
+    1) ac_configure_args0="$ac_configure_args0 '$ac_arg'" ;;
+    2)
+      ac_configure_args1="$ac_configure_args1 '$ac_arg'"
+      if test $ac_must_keep_next = true; then
+	ac_must_keep_next=false # Got value, back to normal.
+      else
+	case $ac_arg in
+	  *=* | --config-cache | -C | -disable-* | --disable-* \
+	  | -enable-* | --enable-* | -gas | --g* | -nfp | --nf* \
+	  | -q | -quiet | --q* | -silent | --sil* | -v | -verb* \
+	  | -with-* | --with-* | -without-* | --without-* | --x)
+	    case "$ac_configure_args0 " in
+	      "$ac_configure_args1"*" '$ac_arg' "* ) continue ;;
+	    esac
+	    ;;
+	  -* ) ac_must_keep_next=true ;;
+	esac
+      fi
+      ac_configure_args="$ac_configure_args$ac_sep'$ac_arg'"
+      # Get rid of the leading space.
+      ac_sep=" "
+      ;;
+    esac
+  done
+done
+$as_unset ac_configure_args0 || test "${ac_configure_args0+set}" != set || { ac_configure_args0=; export ac_configure_args0; }
+$as_unset ac_configure_args1 || test "${ac_configure_args1+set}" != set || { ac_configure_args1=; export ac_configure_args1; }
+
+# When interrupted or exit'd, cleanup temporary files, and complete
+# config.log.  We remove comments because anyway the quotes in there
+# would cause problems or look ugly.
+# WARNING: Be sure not to use single quotes in there, as some shells,
+# such as our DU 5.0 friend, will then `close' the trap.
+trap 'exit_status=$?
+  # Save into config.log some information that might help in debugging.
+  {
+    echo
+
+    cat <<\_ASBOX
+## ---------------- ##
+## Cache variables. ##
+## ---------------- ##
+_ASBOX
+    echo
+    # The following way of writing the cache mishandles newlines in values,
+{
+  (set) 2>&1 |
+    case `(ac_space='"'"' '"'"'; set | grep ac_space) 2>&1` in
+    *ac_space=\ *)
+      sed -n \
+	"s/'"'"'/'"'"'\\\\'"'"''"'"'/g;
+	  s/^\\([_$as_cr_alnum]*_cv_[_$as_cr_alnum]*\\)=\\(.*\\)/\\1='"'"'\\2'"'"'/p"
+      ;;
+    *)
+      sed -n \
+	"s/^\\([_$as_cr_alnum]*_cv_[_$as_cr_alnum]*\\)=\\(.*\\)/\\1=\\2/p"
+      ;;
+    esac;
+}
+    echo
+
+    cat <<\_ASBOX
+## ----------------- ##
+## Output variables. ##
+## ----------------- ##
+_ASBOX
+    echo
+    for ac_var in $ac_subst_vars
+    do
+      eval ac_val=$`echo $ac_var`
+      echo "$ac_var='"'"'$ac_val'"'"'"
+    done | sort
+    echo
+
+    if test -n "$ac_subst_files"; then
+      cat <<\_ASBOX
+## ------------- ##
+## Output files. ##
+## ------------- ##
+_ASBOX
+      echo
+      for ac_var in $ac_subst_files
+      do
+	eval ac_val=$`echo $ac_var`
+	echo "$ac_var='"'"'$ac_val'"'"'"
+      done | sort
+      echo
+    fi
+
+    if test -s confdefs.h; then
+      cat <<\_ASBOX
+## ----------- ##
+## confdefs.h. ##
+## ----------- ##
+_ASBOX
+      echo
+      sed "/^$/d" confdefs.h | sort
+      echo
+    fi
+    test "$ac_signal" != 0 &&
+      echo "$as_me: caught signal $ac_signal"
+    echo "$as_me: exit $exit_status"
+  } >&5
+  rm -f core *.core &&
+  rm -rf conftest* confdefs* conf$$* $ac_clean_files &&
+    exit $exit_status
+     ' 0
+for ac_signal in 1 2 13 15; do
+  trap 'ac_signal='$ac_signal'; { (exit 1); exit 1; }' $ac_signal
+done
+ac_signal=0
+
+# confdefs.h avoids OS command line length limits that DEFS can exceed.
+rm -rf conftest* confdefs.h
+# AIX cpp loses on an empty file, so make sure it contains at least a newline.
+echo >confdefs.h
+
+# Predefined preprocessor variables.
+
+cat >>confdefs.h <<_ACEOF
+#define PACKAGE_NAME "$PACKAGE_NAME"
+_ACEOF
+
+
+cat >>confdefs.h <<_ACEOF
+#define PACKAGE_TARNAME "$PACKAGE_TARNAME"
+_ACEOF
+
+
+cat >>confdefs.h <<_ACEOF
+#define PACKAGE_VERSION "$PACKAGE_VERSION"
+_ACEOF
+
+
+cat >>confdefs.h <<_ACEOF
+#define PACKAGE_STRING "$PACKAGE_STRING"
+_ACEOF
+
+
+cat >>confdefs.h <<_ACEOF
+#define PACKAGE_BUGREPORT "$PACKAGE_BUGREPORT"
+_ACEOF
+
+
+# Let the site file select an alternate cache file if it wants to.
+# Prefer explicitly selected file to automatically selected ones.
+if test -z "$CONFIG_SITE"; then
+  if test "x$prefix" != xNONE; then
+    CONFIG_SITE="$prefix/share/config.site $prefix/etc/config.site"
+  else
+    CONFIG_SITE="$ac_default_prefix/share/config.site $ac_default_prefix/etc/config.site"
+  fi
+fi
+for ac_site_file in $CONFIG_SITE; do
+  if test -r "$ac_site_file"; then
+    { echo "$as_me:$LINENO: loading site script $ac_site_file" >&5
+echo "$as_me: loading site script $ac_site_file" >&6;}
+    sed 's/^/| /' "$ac_site_file" >&5
+    . "$ac_site_file"
+  fi
+done
+
+if test -r "$cache_file"; then
+  # Some versions of bash will fail to source /dev/null (special
+  # files actually), so we avoid doing that.
+  if test -f "$cache_file"; then
+    { echo "$as_me:$LINENO: loading cache $cache_file" >&5
+echo "$as_me: loading cache $cache_file" >&6;}
+    case $cache_file in
+      [\\/]* | ?:[\\/]* ) . $cache_file;;
+      *)                      . ./$cache_file;;
+    esac
+  fi
+else
+  { echo "$as_me:$LINENO: creating cache $cache_file" >&5
+echo "$as_me: creating cache $cache_file" >&6;}
+  >$cache_file
+fi
+
+# Check that the precious variables saved in the cache have kept the same
+# value.
+ac_cache_corrupted=false
+for ac_var in `(set) 2>&1 |
+	       sed -n 's/^ac_env_\([a-zA-Z_0-9]*\)_set=.*/\1/p'`; do
+  eval ac_old_set=\$ac_cv_env_${ac_var}_set
+  eval ac_new_set=\$ac_env_${ac_var}_set
+  eval ac_old_val="\$ac_cv_env_${ac_var}_value"
+  eval ac_new_val="\$ac_env_${ac_var}_value"
+  case $ac_old_set,$ac_new_set in
+    set,)
+      { echo "$as_me:$LINENO: error: \`$ac_var' was set to \`$ac_old_val' in the previous run" >&5
+echo "$as_me: error: \`$ac_var' was set to \`$ac_old_val' in the previous run" >&2;}
+      ac_cache_corrupted=: ;;
+    ,set)
+      { echo "$as_me:$LINENO: error: \`$ac_var' was not set in the previous run" >&5
+echo "$as_me: error: \`$ac_var' was not set in the previous run" >&2;}
+      ac_cache_corrupted=: ;;
+    ,);;
+    *)
+      if test "x$ac_old_val" != "x$ac_new_val"; then
+	{ echo "$as_me:$LINENO: error: \`$ac_var' has changed since the previous run:" >&5
+echo "$as_me: error: \`$ac_var' has changed since the previous run:" >&2;}
+	{ echo "$as_me:$LINENO:   former value:  $ac_old_val" >&5
+echo "$as_me:   former value:  $ac_old_val" >&2;}
+	{ echo "$as_me:$LINENO:   current value: $ac_new_val" >&5
+echo "$as_me:   current value: $ac_new_val" >&2;}
+	ac_cache_corrupted=:
+      fi;;
+  esac
+  # Pass precious variables to config.status.
+  if test "$ac_new_set" = set; then
+    case $ac_new_val in
+    *" "*|*"	"*|*[\[\]\~\#\$\^\&\*\(\)\{\}\\\|\;\<\>\?\"\']*)
+      ac_arg=$ac_var=`echo "$ac_new_val" | sed "s/'/'\\\\\\\\''/g"` ;;
+    *) ac_arg=$ac_var=$ac_new_val ;;
+    esac
+    case " $ac_configure_args " in
+      *" '$ac_arg' "*) ;; # Avoid dups.  Use of quotes ensures accuracy.
+      *) ac_configure_args="$ac_configure_args '$ac_arg'" ;;
+    esac
+  fi
+done
+if $ac_cache_corrupted; then
+  { echo "$as_me:$LINENO: error: changes in the environment can compromise the build" >&5
+echo "$as_me: error: changes in the environment can compromise the build" >&2;}
+  { { echo "$as_me:$LINENO: error: run \`make distclean' and/or \`rm $cache_file' and start over" >&5
+echo "$as_me: error: run \`make distclean' and/or \`rm $cache_file' and start over" >&2;}
+   { (exit 1); exit 1; }; }
+fi
+
+ac_ext=c
+ac_cpp='$CPP $CPPFLAGS'
+ac_compile='$CC -c $CFLAGS $CPPFLAGS conftest.$ac_ext >&5'
+ac_link='$CC -o conftest$ac_exeext $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
+ac_compiler_gnu=$ac_cv_c_compiler_gnu
+
+
+
+
+
+
+
+
+
+
+
+
+
+
+
+
+
+
+
+
+ac_ext=c
+ac_cpp='$CPP $CPPFLAGS'
+ac_compile='$CC -c $CFLAGS $CPPFLAGS conftest.$ac_ext >&5'
+ac_link='$CC -o conftest$ac_exeext $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
+ac_compiler_gnu=$ac_cv_c_compiler_gnu
+if test -n "$ac_tool_prefix"; then
+  # Extract the first word of "${ac_tool_prefix}gcc", so it can be a program name with args.
+set dummy ${ac_tool_prefix}gcc; ac_word=$2
+echo "$as_me:$LINENO: checking for $ac_word" >&5
+echo $ECHO_N "checking for $ac_word... $ECHO_C" >&6
+if test "${ac_cv_prog_CC+set}" = set; then
+  echo $ECHO_N "(cached) $ECHO_C" >&6
+else
+  if test -n "$CC"; then
+  ac_cv_prog_CC="$CC" # Let the user override the test.
+else
+as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
+for as_dir in $PATH
+do
+  IFS=$as_save_IFS
+  test -z "$as_dir" && as_dir=.
+  for ac_exec_ext in '' $ac_executable_extensions; do
+  if $as_executable_p "$as_dir/$ac_word$ac_exec_ext"; then
+    ac_cv_prog_CC="${ac_tool_prefix}gcc"
+    echo "$as_me:$LINENO: found $as_dir/$ac_word$ac_exec_ext" >&5
+    break 2
+  fi
+done
+done
+
+fi
+fi
+CC=$ac_cv_prog_CC
+if test -n "$CC"; then
+  echo "$as_me:$LINENO: result: $CC" >&5
+echo "${ECHO_T}$CC" >&6
+else
+  echo "$as_me:$LINENO: result: no" >&5
+echo "${ECHO_T}no" >&6
+fi
+
+fi
+if test -z "$ac_cv_prog_CC"; then
+  ac_ct_CC=$CC
+  # Extract the first word of "gcc", so it can be a program name with args.
+set dummy gcc; ac_word=$2
+echo "$as_me:$LINENO: checking for $ac_word" >&5
+echo $ECHO_N "checking for $ac_word... $ECHO_C" >&6
+if test "${ac_cv_prog_ac_ct_CC+set}" = set; then
+  echo $ECHO_N "(cached) $ECHO_C" >&6
+else
+  if test -n "$ac_ct_CC"; then
+  ac_cv_prog_ac_ct_CC="$ac_ct_CC" # Let the user override the test.
+else
+as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
+for as_dir in $PATH
+do
+  IFS=$as_save_IFS
+  test -z "$as_dir" && as_dir=.
+  for ac_exec_ext in '' $ac_executable_extensions; do
+  if $as_executable_p "$as_dir/$ac_word$ac_exec_ext"; then
+    ac_cv_prog_ac_ct_CC="gcc"
+    echo "$as_me:$LINENO: found $as_dir/$ac_word$ac_exec_ext" >&5
+    break 2
+  fi
+done
+done
+
+fi
+fi
+ac_ct_CC=$ac_cv_prog_ac_ct_CC
+if test -n "$ac_ct_CC"; then
+  echo "$as_me:$LINENO: result: $ac_ct_CC" >&5
+echo "${ECHO_T}$ac_ct_CC" >&6
+else
+  echo "$as_me:$LINENO: result: no" >&5
+echo "${ECHO_T}no" >&6
+fi
+
+  CC=$ac_ct_CC
+else
+  CC="$ac_cv_prog_CC"
+fi
+
+if test -z "$CC"; then
+  if test -n "$ac_tool_prefix"; then
+  # Extract the first word of "${ac_tool_prefix}cc", so it can be a program name with args.
+set dummy ${ac_tool_prefix}cc; ac_word=$2
+echo "$as_me:$LINENO: checking for $ac_word" >&5
+echo $ECHO_N "checking for $ac_word... $ECHO_C" >&6
+if test "${ac_cv_prog_CC+set}" = set; then
+  echo $ECHO_N "(cached) $ECHO_C" >&6
+else
+  if test -n "$CC"; then
+  ac_cv_prog_CC="$CC" # Let the user override the test.
+else
+as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
+for as_dir in $PATH
+do
+  IFS=$as_save_IFS
+  test -z "$as_dir" && as_dir=.
+  for ac_exec_ext in '' $ac_executable_extensions; do
+  if $as_executable_p "$as_dir/$ac_word$ac_exec_ext"; then
+    ac_cv_prog_CC="${ac_tool_prefix}cc"
+    echo "$as_me:$LINENO: found $as_dir/$ac_word$ac_exec_ext" >&5
+    break 2
+  fi
+done
+done
+
+fi
+fi
+CC=$ac_cv_prog_CC
+if test -n "$CC"; then
+  echo "$as_me:$LINENO: result: $CC" >&5
+echo "${ECHO_T}$CC" >&6
+else
+  echo "$as_me:$LINENO: result: no" >&5
+echo "${ECHO_T}no" >&6
+fi
+
+fi
+if test -z "$ac_cv_prog_CC"; then
+  ac_ct_CC=$CC
+  # Extract the first word of "cc", so it can be a program name with args.
+set dummy cc; ac_word=$2
+echo "$as_me:$LINENO: checking for $ac_word" >&5
+echo $ECHO_N "checking for $ac_word... $ECHO_C" >&6
+if test "${ac_cv_prog_ac_ct_CC+set}" = set; then
+  echo $ECHO_N "(cached) $ECHO_C" >&6
+else
+  if test -n "$ac_ct_CC"; then
+  ac_cv_prog_ac_ct_CC="$ac_ct_CC" # Let the user override the test.
+else
+as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
+for as_dir in $PATH
+do
+  IFS=$as_save_IFS
+  test -z "$as_dir" && as_dir=.
+  for ac_exec_ext in '' $ac_executable_extensions; do
+  if $as_executable_p "$as_dir/$ac_word$ac_exec_ext"; then
+    ac_cv_prog_ac_ct_CC="cc"
+    echo "$as_me:$LINENO: found $as_dir/$ac_word$ac_exec_ext" >&5
+    break 2
+  fi
+done
+done
+
+fi
+fi
+ac_ct_CC=$ac_cv_prog_ac_ct_CC
+if test -n "$ac_ct_CC"; then
+  echo "$as_me:$LINENO: result: $ac_ct_CC" >&5
+echo "${ECHO_T}$ac_ct_CC" >&6
+else
+  echo "$as_me:$LINENO: result: no" >&5
+echo "${ECHO_T}no" >&6
+fi
+
+  CC=$ac_ct_CC
+else
+  CC="$ac_cv_prog_CC"
+fi
+
+fi
+if test -z "$CC"; then
+  # Extract the first word of "cc", so it can be a program name with args.
+set dummy cc; ac_word=$2
+echo "$as_me:$LINENO: checking for $ac_word" >&5
+echo $ECHO_N "checking for $ac_word... $ECHO_C" >&6
+if test "${ac_cv_prog_CC+set}" = set; then
+  echo $ECHO_N "(cached) $ECHO_C" >&6
+else
+  if test -n "$CC"; then
+  ac_cv_prog_CC="$CC" # Let the user override the test.
+else
+  ac_prog_rejected=no
+as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
+for as_dir in $PATH
+do
+  IFS=$as_save_IFS
+  test -z "$as_dir" && as_dir=.
+  for ac_exec_ext in '' $ac_executable_extensions; do
+  if $as_executable_p "$as_dir/$ac_word$ac_exec_ext"; then
+    if test "$as_dir/$ac_word$ac_exec_ext" = "/usr/ucb/cc"; then
+       ac_prog_rejected=yes
+       continue
+     fi
+    ac_cv_prog_CC="cc"
+    echo "$as_me:$LINENO: found $as_dir/$ac_word$ac_exec_ext" >&5
+    break 2
+  fi
+done
+done
+
+if test $ac_prog_rejected = yes; then
+  # We found a bogon in the path, so make sure we never use it.
+  set dummy $ac_cv_prog_CC
+  shift
+  if test $# != 0; then
+    # We chose a different compiler from the bogus one.
+    # However, it has the same basename, so the bogon will be chosen
+    # first if we set CC to just the basename; use the full file name.
+    shift
+    ac_cv_prog_CC="$as_dir/$ac_word${1+' '}$@"
+  fi
+fi
+fi
+fi
+CC=$ac_cv_prog_CC
+if test -n "$CC"; then
+  echo "$as_me:$LINENO: result: $CC" >&5
+echo "${ECHO_T}$CC" >&6
+else
+  echo "$as_me:$LINENO: result: no" >&5
+echo "${ECHO_T}no" >&6
+fi
+
+fi
+if test -z "$CC"; then
+  if test -n "$ac_tool_prefix"; then
+  for ac_prog in cl
+  do
+    # Extract the first word of "$ac_tool_prefix$ac_prog", so it can be a program name with args.
+set dummy $ac_tool_prefix$ac_prog; ac_word=$2
+echo "$as_me:$LINENO: checking for $ac_word" >&5
+echo $ECHO_N "checking for $ac_word... $ECHO_C" >&6
+if test "${ac_cv_prog_CC+set}" = set; then
+  echo $ECHO_N "(cached) $ECHO_C" >&6
+else
+  if test -n "$CC"; then
+  ac_cv_prog_CC="$CC" # Let the user override the test.
+else
+as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
+for as_dir in $PATH
+do
+  IFS=$as_save_IFS
+  test -z "$as_dir" && as_dir=.
+  for ac_exec_ext in '' $ac_executable_extensions; do
+  if $as_executable_p "$as_dir/$ac_word$ac_exec_ext"; then
+    ac_cv_prog_CC="$ac_tool_prefix$ac_prog"
+    echo "$as_me:$LINENO: found $as_dir/$ac_word$ac_exec_ext" >&5
+    break 2
+  fi
+done
+done
+
+fi
+fi
+CC=$ac_cv_prog_CC
+if test -n "$CC"; then
+  echo "$as_me:$LINENO: result: $CC" >&5
+echo "${ECHO_T}$CC" >&6
+else
+  echo "$as_me:$LINENO: result: no" >&5
+echo "${ECHO_T}no" >&6
+fi
+
+    test -n "$CC" && break
+  done
+fi
+if test -z "$CC"; then
+  ac_ct_CC=$CC
+  for ac_prog in cl
+do
+  # Extract the first word of "$ac_prog", so it can be a program name with args.
+set dummy $ac_prog; ac_word=$2
+echo "$as_me:$LINENO: checking for $ac_word" >&5
+echo $ECHO_N "checking for $ac_word... $ECHO_C" >&6
+if test "${ac_cv_prog_ac_ct_CC+set}" = set; then
+  echo $ECHO_N "(cached) $ECHO_C" >&6
+else
+  if test -n "$ac_ct_CC"; then
+  ac_cv_prog_ac_ct_CC="$ac_ct_CC" # Let the user override the test.
+else
+as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
+for as_dir in $PATH
+do
+  IFS=$as_save_IFS
+  test -z "$as_dir" && as_dir=.
+  for ac_exec_ext in '' $ac_executable_extensions; do
+  if $as_executable_p "$as_dir/$ac_word$ac_exec_ext"; then
+    ac_cv_prog_ac_ct_CC="$ac_prog"
+    echo "$as_me:$LINENO: found $as_dir/$ac_word$ac_exec_ext" >&5
+    break 2
+  fi
+done
+done
+
+fi
+fi
+ac_ct_CC=$ac_cv_prog_ac_ct_CC
+if test -n "$ac_ct_CC"; then
+  echo "$as_me:$LINENO: result: $ac_ct_CC" >&5
+echo "${ECHO_T}$ac_ct_CC" >&6
+else
+  echo "$as_me:$LINENO: result: no" >&5
+echo "${ECHO_T}no" >&6
+fi
+
+  test -n "$ac_ct_CC" && break
+done
+
+  CC=$ac_ct_CC
+fi
+
+fi
+
+
+test -z "$CC" && { { echo "$as_me:$LINENO: error: no acceptable C compiler found in \$PATH
+See \`config.log' for more details." >&5
+echo "$as_me: error: no acceptable C compiler found in \$PATH
+See \`config.log' for more details." >&2;}
+   { (exit 1); exit 1; }; }
+
+# Provide some information about the compiler.
+echo "$as_me:$LINENO:" \
+     "checking for C compiler version" >&5
+ac_compiler=`set X $ac_compile; echo $2`
+{ (eval echo "$as_me:$LINENO: \"$ac_compiler --version </dev/null >&5\"") >&5
+  (eval $ac_compiler --version </dev/null >&5) 2>&5
+  ac_status=$?
+  echo "$as_me:$LINENO: \$? = $ac_status" >&5
+  (exit $ac_status); }
+{ (eval echo "$as_me:$LINENO: \"$ac_compiler -v </dev/null >&5\"") >&5
+  (eval $ac_compiler -v </dev/null >&5) 2>&5
+  ac_status=$?
+  echo "$as_me:$LINENO: \$? = $ac_status" >&5
+  (exit $ac_status); }
+{ (eval echo "$as_me:$LINENO: \"$ac_compiler -V </dev/null >&5\"") >&5
+  (eval $ac_compiler -V </dev/null >&5) 2>&5
+  ac_status=$?
+  echo "$as_me:$LINENO: \$? = $ac_status" >&5
+  (exit $ac_status); }
+
+cat >conftest.$ac_ext <<_ACEOF
+/* confdefs.h.  */
+_ACEOF
+cat confdefs.h >>conftest.$ac_ext
+cat >>conftest.$ac_ext <<_ACEOF
+/* end confdefs.h.  */
+
+int
+main ()
+{
+
+  ;
+  return 0;
+}
+_ACEOF
+ac_clean_files_save=$ac_clean_files
+ac_clean_files="$ac_clean_files a.out a.exe b.out"
+# Try to create an executable without -o first, disregard a.out.
+# It will help us diagnose broken compilers, and finding out an intuition
+# of exeext.
+echo "$as_me:$LINENO: checking for C compiler default output file name" >&5
+echo $ECHO_N "checking for C compiler default output file name... $ECHO_C" >&6
+ac_link_default=`echo "$ac_link" | sed 's/ -o *conftest[^ ]*//'`
+if { (eval echo "$as_me:$LINENO: \"$ac_link_default\"") >&5
+  (eval $ac_link_default) 2>&5
+  ac_status=$?
+  echo "$as_me:$LINENO: \$? = $ac_status" >&5
+  (exit $ac_status); }; then
+  # Find the output, starting from the most likely.  This scheme is
+# not robust to junk in `.', hence go to wildcards (a.*) only as a last
+# resort.
+
+# Be careful to initialize this variable, since it used to be cached.
+# Otherwise an old cache value of `no' led to `EXEEXT = no' in a Makefile.
+ac_cv_exeext=
+# b.out is created by i960 compilers.
+for ac_file in a_out.exe a.exe conftest.exe a.out conftest a.* conftest.* b.out
+do
+  test -f "$ac_file" || continue
+  case $ac_file in
+    *.$ac_ext | *.xcoff | *.tds | *.d | *.pdb | *.xSYM | *.bb | *.bbg | *.o | *.obj )
+	;;
+    conftest.$ac_ext )
+	# This is the source file.
+	;;
+    [ab].out )
+	# We found the default executable, but exeext='' is most
+	# certainly right.
+	break;;
+    *.* )
+	ac_cv_exeext=`expr "$ac_file" : '[^.]*\(\..*\)'`
+	# FIXME: I believe we export ac_cv_exeext for Libtool,
+	# but it would be cool to find out if it's true.  Does anybody
+	# maintain Libtool? --akim.
+	export ac_cv_exeext
+	break;;
+    * )
+	break;;
+  esac
+done
+else
+  echo "$as_me: failed program was:" >&5
+sed 's/^/| /' conftest.$ac_ext >&5
+
+{ { echo "$as_me:$LINENO: error: C compiler cannot create executables
+See \`config.log' for more details." >&5
+echo "$as_me: error: C compiler cannot create executables
+See \`config.log' for more details." >&2;}
+   { (exit 77); exit 77; }; }
+fi
+
+ac_exeext=$ac_cv_exeext
+echo "$as_me:$LINENO: result: $ac_file" >&5
+echo "${ECHO_T}$ac_file" >&6
+
+# Check the compiler produces executables we can run.  If not, either
+# the compiler is broken, or we cross compile.
+echo "$as_me:$LINENO: checking whether the C compiler works" >&5
+echo $ECHO_N "checking whether the C compiler works... $ECHO_C" >&6
+# FIXME: These cross compiler hacks should be removed for Autoconf 3.0
+# If not cross compiling, check that we can run a simple program.
+if test "$cross_compiling" != yes; then
+  if { ac_try='./$ac_file'
+  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
+  (eval $ac_try) 2>&5
+  ac_status=$?
+  echo "$as_me:$LINENO: \$? = $ac_status" >&5
+  (exit $ac_status); }; }; then
+    cross_compiling=no
+  else
+    if test "$cross_compiling" = maybe; then
+	cross_compiling=yes
+    else
+	{ { echo "$as_me:$LINENO: error: cannot run C compiled programs.
+If you meant to cross compile, use \`--host'.
+See \`config.log' for more details." >&5
+echo "$as_me: error: cannot run C compiled programs.
+If you meant to cross compile, use \`--host'.
+See \`config.log' for more details." >&2;}
+   { (exit 1); exit 1; }; }
+    fi
+  fi
+fi
+echo "$as_me:$LINENO: result: yes" >&5
+echo "${ECHO_T}yes" >&6
+
+rm -f a.out a.exe conftest$ac_cv_exeext b.out
+ac_clean_files=$ac_clean_files_save
+# Check the compiler produces executables we can run.  If not, either
+# the compiler is broken, or we cross compile.
+echo "$as_me:$LINENO: checking whether we are cross compiling" >&5
+echo $ECHO_N "checking whether we are cross compiling... $ECHO_C" >&6
+echo "$as_me:$LINENO: result: $cross_compiling" >&5
+echo "${ECHO_T}$cross_compiling" >&6
+
+echo "$as_me:$LINENO: checking for suffix of executables" >&5
+echo $ECHO_N "checking for suffix of executables... $ECHO_C" >&6
+if { (eval echo "$as_me:$LINENO: \"$ac_link\"") >&5
+  (eval $ac_link) 2>&5
+  ac_status=$?
+  echo "$as_me:$LINENO: \$? = $ac_status" >&5
+  (exit $ac_status); }; then
+  # If both `conftest.exe' and `conftest' are `present' (well, observable)
+# catch `conftest.exe'.  For instance with Cygwin, `ls conftest' will
+# work properly (i.e., refer to `conftest.exe'), while it won't with
+# `rm'.
+for ac_file in conftest.exe conftest conftest.*; do
+  test -f "$ac_file" || continue
+  case $ac_file in
+    *.$ac_ext | *.xcoff | *.tds | *.d | *.pdb | *.xSYM | *.bb | *.bbg | *.o | *.obj ) ;;
+    *.* ) ac_cv_exeext=`expr "$ac_file" : '[^.]*\(\..*\)'`
+	  export ac_cv_exeext
+	  break;;
+    * ) break;;
+  esac
+done
+else
+  { { echo "$as_me:$LINENO: error: cannot compute suffix of executables: cannot compile and link
+See \`config.log' for more details." >&5
+echo "$as_me: error: cannot compute suffix of executables: cannot compile and link
+See \`config.log' for more details." >&2;}
+   { (exit 1); exit 1; }; }
+fi
+
+rm -f conftest$ac_cv_exeext
+echo "$as_me:$LINENO: result: $ac_cv_exeext" >&5
+echo "${ECHO_T}$ac_cv_exeext" >&6
+
+rm -f conftest.$ac_ext
+EXEEXT=$ac_cv_exeext
+ac_exeext=$EXEEXT
+echo "$as_me:$LINENO: checking for suffix of object files" >&5
+echo $ECHO_N "checking for suffix of object files... $ECHO_C" >&6
+if test "${ac_cv_objext+set}" = set; then
+  echo $ECHO_N "(cached) $ECHO_C" >&6
+else
+  cat >conftest.$ac_ext <<_ACEOF
+/* confdefs.h.  */
+_ACEOF
+cat confdefs.h >>conftest.$ac_ext
+cat >>conftest.$ac_ext <<_ACEOF
+/* end confdefs.h.  */
+
+int
+main ()
+{
+
+  ;
+  return 0;
+}
+_ACEOF
+rm -f conftest.o conftest.obj
+if { (eval echo "$as_me:$LINENO: \"$ac_compile\"") >&5
+  (eval $ac_compile) 2>&5
+  ac_status=$?
+  echo "$as_me:$LINENO: \$? = $ac_status" >&5
+  (exit $ac_status); }; then
+  for ac_file in `(ls conftest.o conftest.obj; ls conftest.*) 2>/dev/null`; do
+  case $ac_file in
+    *.$ac_ext | *.xcoff | *.tds | *.d | *.pdb | *.xSYM | *.bb | *.bbg ) ;;
+    *) ac_cv_objext=`expr "$ac_file" : '.*\.\(.*\)'`
+       break;;
+  esac
+done
+else
+  echo "$as_me: failed program was:" >&5
+sed 's/^/| /' conftest.$ac_ext >&5
+
+{ { echo "$as_me:$LINENO: error: cannot compute suffix of object files: cannot compile
+See \`config.log' for more details." >&5
+echo "$as_me: error: cannot compute suffix of object files: cannot compile
+See \`config.log' for more details." >&2;}
+   { (exit 1); exit 1; }; }
+fi
+
+rm -f conftest.$ac_cv_objext conftest.$ac_ext
+fi
+echo "$as_me:$LINENO: result: $ac_cv_objext" >&5
+echo "${ECHO_T}$ac_cv_objext" >&6
+OBJEXT=$ac_cv_objext
+ac_objext=$OBJEXT
+echo "$as_me:$LINENO: checking whether we are using the GNU C compiler" >&5
+echo $ECHO_N "checking whether we are using the GNU C compiler... $ECHO_C" >&6
+if test "${ac_cv_c_compiler_gnu+set}" = set; then
+  echo $ECHO_N "(cached) $ECHO_C" >&6
+else
+  cat >conftest.$ac_ext <<_ACEOF
+/* confdefs.h.  */
+_ACEOF
+cat confdefs.h >>conftest.$ac_ext
+cat >>conftest.$ac_ext <<_ACEOF
+/* end confdefs.h.  */
+
+int
+main ()
+{
+#ifndef __GNUC__
+       choke me
+#endif
+
+  ;
+  return 0;
+}
+_ACEOF
+rm -f conftest.$ac_objext
+if { (eval echo "$as_me:$LINENO: \"$ac_compile\"") >&5
+  (eval $ac_compile) 2>conftest.er1
+  ac_status=$?
+  grep -v '^ *+' conftest.er1 >conftest.err
+  rm -f conftest.er1
+  cat conftest.err >&5
+  echo "$as_me:$LINENO: \$? = $ac_status" >&5
+  (exit $ac_status); } &&
+	 { ac_try='test -z "$ac_c_werror_flag"
+			 || test ! -s conftest.err'
+  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
+  (eval $ac_try) 2>&5
+  ac_status=$?
+  echo "$as_me:$LINENO: \$? = $ac_status" >&5
+  (exit $ac_status); }; } &&
+	 { ac_try='test -s conftest.$ac_objext'
+  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
+  (eval $ac_try) 2>&5
+  ac_status=$?
+  echo "$as_me:$LINENO: \$? = $ac_status" >&5
+  (exit $ac_status); }; }; then
+  ac_compiler_gnu=yes
+else
+  echo "$as_me: failed program was:" >&5
+sed 's/^/| /' conftest.$ac_ext >&5
+
+ac_compiler_gnu=no
+fi
+rm -f conftest.err conftest.$ac_objext conftest.$ac_ext
+ac_cv_c_compiler_gnu=$ac_compiler_gnu
+
+fi
+echo "$as_me:$LINENO: result: $ac_cv_c_compiler_gnu" >&5
+echo "${ECHO_T}$ac_cv_c_compiler_gnu" >&6
+GCC=`test $ac_compiler_gnu = yes && echo yes`
+ac_test_CFLAGS=${CFLAGS+set}
+ac_save_CFLAGS=$CFLAGS
+CFLAGS="-g"
+echo "$as_me:$LINENO: checking whether $CC accepts -g" >&5
+echo $ECHO_N "checking whether $CC accepts -g... $ECHO_C" >&6
+if test "${ac_cv_prog_cc_g+set}" = set; then
+  echo $ECHO_N "(cached) $ECHO_C" >&6
+else
+  cat >conftest.$ac_ext <<_ACEOF
+/* confdefs.h.  */
+_ACEOF
+cat confdefs.h >>conftest.$ac_ext
+cat >>conftest.$ac_ext <<_ACEOF
+/* end confdefs.h.  */
+
+int
+main ()
+{
+
+  ;
+  return 0;
+}
+_ACEOF
+rm -f conftest.$ac_objext
+if { (eval echo "$as_me:$LINENO: \"$ac_compile\"") >&5
+  (eval $ac_compile) 2>conftest.er1
+  ac_status=$?
+  grep -v '^ *+' conftest.er1 >conftest.err
+  rm -f conftest.er1
+  cat conftest.err >&5
+  echo "$as_me:$LINENO: \$? = $ac_status" >&5
+  (exit $ac_status); } &&
+	 { ac_try='test -z "$ac_c_werror_flag"
+			 || test ! -s conftest.err'
+  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
+  (eval $ac_try) 2>&5
+  ac_status=$?
+  echo "$as_me:$LINENO: \$? = $ac_status" >&5
+  (exit $ac_status); }; } &&
+	 { ac_try='test -s conftest.$ac_objext'
+  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
+  (eval $ac_try) 2>&5
+  ac_status=$?
+  echo "$as_me:$LINENO: \$? = $ac_status" >&5
+  (exit $ac_status); }; }; then
+  ac_cv_prog_cc_g=yes
+else
+  echo "$as_me: failed program was:" >&5
+sed 's/^/| /' conftest.$ac_ext >&5
 
-ac_test_CFLAGS="${CFLAGS+set}"
-ac_save_CFLAGS="$CFLAGS"
-CFLAGS=
-echo $ac_n "checking whether ${CC-cc} accepts -g""... $ac_c" 1>&6
-echo "configure:717: checking whether ${CC-cc} accepts -g" >&5
-if eval "test \"`echo '$''{'ac_cv_prog_cc_g'+set}'`\" = set"; then
-  echo $ac_n "(cached) $ac_c" 1>&6
-else
-  echo 'void f(){}' > conftest.c
-if test -z "`${CC-cc} -g -c conftest.c 2>&1`"; then
-  ac_cv_prog_cc_g=yes
-else
   ac_cv_prog_cc_g=no
 fi
-rm -f conftest*
+rm -f conftest.err conftest.$ac_objext conftest.$ac_ext
+fi
+echo "$as_me:$LINENO: result: $ac_cv_prog_cc_g" >&5
+echo "${ECHO_T}$ac_cv_prog_cc_g" >&6
+if test "$ac_test_CFLAGS" = set; then
+  CFLAGS=$ac_save_CFLAGS
+elif test $ac_cv_prog_cc_g = yes; then
+  if test "$GCC" = yes; then
+    CFLAGS="-g -O2"
+  else
+    CFLAGS="-g"
+  fi
+else
+  if test "$GCC" = yes; then
+    CFLAGS="-O2"
+  else
+    CFLAGS=
+  fi
+fi
+echo "$as_me:$LINENO: checking for $CC option to accept ANSI C" >&5
+echo $ECHO_N "checking for $CC option to accept ANSI C... $ECHO_C" >&6
+if test "${ac_cv_prog_cc_stdc+set}" = set; then
+  echo $ECHO_N "(cached) $ECHO_C" >&6
+else
+  ac_cv_prog_cc_stdc=no
+ac_save_CC=$CC
+cat >conftest.$ac_ext <<_ACEOF
+/* confdefs.h.  */
+_ACEOF
+cat confdefs.h >>conftest.$ac_ext
+cat >>conftest.$ac_ext <<_ACEOF
+/* end confdefs.h.  */
+#include <stdarg.h>
+#include <stdio.h>
+#include <sys/types.h>
+#include <sys/stat.h>
+/* Most of the following tests are stolen from RCS 5.7's src/conf.sh.  */
+struct buf { int x; };
+FILE * (*rcsopen) (struct buf *, struct stat *, int);
+static char *e (p, i)
+     char **p;
+     int i;
+{
+  return p[i];
+}
+static char *f (char * (*g) (char **, int), char **p, ...)
+{
+  char *s;
+  va_list v;
+  va_start (v,p);
+  s = g (p, va_arg (v,int));
+  va_end (v);
+  return s;
+}
+
+/* OSF 4.0 Compaq cc is some sort of almost-ANSI by default.  It has
+   function prototypes and stuff, but not '\xHH' hex character constants.
+   These don't provoke an error unfortunately, instead are silently treated
+   as 'x'.  The following induces an error, until -std1 is added to get
+   proper ANSI mode.  Curiously '\x00'!='x' always comes out true, for an
+   array size at least.  It's necessary to write '\x00'==0 to get something
+   that's true only with -std1.  */
+int osf4_cc_array ['\x00' == 0 ? 1 : -1];
+
+int test (int i, double x);
+struct s1 {int (*f) (int a);};
+struct s2 {int (*f) (double a);};
+int pairnames (int, char **, FILE *(*)(struct buf *, struct stat *, int), int, int);
+int argc;
+char **argv;
+int
+main ()
+{
+return f (e, argv, 0) != argv[0]  ||  f (e, argv, 1) != argv[1];
+  ;
+  return 0;
+}
+_ACEOF
+# Don't try gcc -ansi; that turns off useful extensions and
+# breaks some systems' header files.
+# AIX			-qlanglvl=ansi
+# Ultrix and OSF/1	-std1
+# HP-UX 10.20 and later	-Ae
+# HP-UX older versions	-Aa -D_HPUX_SOURCE
+# SVR4			-Xc -D__EXTENSIONS__
+for ac_arg in "" -qlanglvl=ansi -std1 -Ae "-Aa -D_HPUX_SOURCE" "-Xc -D__EXTENSIONS__"
+do
+  CC="$ac_save_CC $ac_arg"
+  rm -f conftest.$ac_objext
+if { (eval echo "$as_me:$LINENO: \"$ac_compile\"") >&5
+  (eval $ac_compile) 2>conftest.er1
+  ac_status=$?
+  grep -v '^ *+' conftest.er1 >conftest.err
+  rm -f conftest.er1
+  cat conftest.err >&5
+  echo "$as_me:$LINENO: \$? = $ac_status" >&5
+  (exit $ac_status); } &&
+	 { ac_try='test -z "$ac_c_werror_flag"
+			 || test ! -s conftest.err'
+  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
+  (eval $ac_try) 2>&5
+  ac_status=$?
+  echo "$as_me:$LINENO: \$? = $ac_status" >&5
+  (exit $ac_status); }; } &&
+	 { ac_try='test -s conftest.$ac_objext'
+  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
+  (eval $ac_try) 2>&5
+  ac_status=$?
+  echo "$as_me:$LINENO: \$? = $ac_status" >&5
+  (exit $ac_status); }; }; then
+  ac_cv_prog_cc_stdc=$ac_arg
+break
+else
+  echo "$as_me: failed program was:" >&5
+sed 's/^/| /' conftest.$ac_ext >&5
+
+fi
+rm -f conftest.err conftest.$ac_objext
+done
+rm -f conftest.$ac_ext conftest.$ac_objext
+CC=$ac_save_CC
 
 fi
 
-echo "$ac_t""$ac_cv_prog_cc_g" 1>&6
-if test "$ac_test_CFLAGS" = set; then
-  CFLAGS="$ac_save_CFLAGS"
-elif test $ac_cv_prog_cc_g = yes; then
-  if test "$GCC" = yes; then
-    CFLAGS="-g -O2"
+case "x$ac_cv_prog_cc_stdc" in
+  x|xno)
+    echo "$as_me:$LINENO: result: none needed" >&5
+echo "${ECHO_T}none needed" >&6 ;;
+  *)
+    echo "$as_me:$LINENO: result: $ac_cv_prog_cc_stdc" >&5
+echo "${ECHO_T}$ac_cv_prog_cc_stdc" >&6
+    CC="$CC $ac_cv_prog_cc_stdc" ;;
+esac
+
+# Some people use a C++ compiler to compile C.  Since we use `exit',
+# in C++ we need to declare it.  In case someone uses the same compiler
+# for both compiling C and C++ we need to have the C++ compiler decide
+# the declaration of exit, since it's the most demanding environment.
+cat >conftest.$ac_ext <<_ACEOF
+#ifndef __cplusplus
+  choke me
+#endif
+_ACEOF
+rm -f conftest.$ac_objext
+if { (eval echo "$as_me:$LINENO: \"$ac_compile\"") >&5
+  (eval $ac_compile) 2>conftest.er1
+  ac_status=$?
+  grep -v '^ *+' conftest.er1 >conftest.err
+  rm -f conftest.er1
+  cat conftest.err >&5
+  echo "$as_me:$LINENO: \$? = $ac_status" >&5
+  (exit $ac_status); } &&
+	 { ac_try='test -z "$ac_c_werror_flag"
+			 || test ! -s conftest.err'
+  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
+  (eval $ac_try) 2>&5
+  ac_status=$?
+  echo "$as_me:$LINENO: \$? = $ac_status" >&5
+  (exit $ac_status); }; } &&
+	 { ac_try='test -s conftest.$ac_objext'
+  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
+  (eval $ac_try) 2>&5
+  ac_status=$?
+  echo "$as_me:$LINENO: \$? = $ac_status" >&5
+  (exit $ac_status); }; }; then
+  for ac_declaration in \
+   '' \
+   'extern "C" void std::exit (int) throw (); using std::exit;' \
+   'extern "C" void std::exit (int); using std::exit;' \
+   'extern "C" void exit (int) throw ();' \
+   'extern "C" void exit (int);' \
+   'void exit (int);'
+do
+  cat >conftest.$ac_ext <<_ACEOF
+/* confdefs.h.  */
+_ACEOF
+cat confdefs.h >>conftest.$ac_ext
+cat >>conftest.$ac_ext <<_ACEOF
+/* end confdefs.h.  */
+$ac_declaration
+#include <stdlib.h>
+int
+main ()
+{
+exit (42);
+  ;
+  return 0;
+}
+_ACEOF
+rm -f conftest.$ac_objext
+if { (eval echo "$as_me:$LINENO: \"$ac_compile\"") >&5
+  (eval $ac_compile) 2>conftest.er1
+  ac_status=$?
+  grep -v '^ *+' conftest.er1 >conftest.err
+  rm -f conftest.er1
+  cat conftest.err >&5
+  echo "$as_me:$LINENO: \$? = $ac_status" >&5
+  (exit $ac_status); } &&
+	 { ac_try='test -z "$ac_c_werror_flag"
+			 || test ! -s conftest.err'
+  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
+  (eval $ac_try) 2>&5
+  ac_status=$?
+  echo "$as_me:$LINENO: \$? = $ac_status" >&5
+  (exit $ac_status); }; } &&
+	 { ac_try='test -s conftest.$ac_objext'
+  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
+  (eval $ac_try) 2>&5
+  ac_status=$?
+  echo "$as_me:$LINENO: \$? = $ac_status" >&5
+  (exit $ac_status); }; }; then
+  :
   else
-    CFLAGS="-g"
+  echo "$as_me: failed program was:" >&5
+sed 's/^/| /' conftest.$ac_ext >&5
+
+continue
   fi
+rm -f conftest.err conftest.$ac_objext conftest.$ac_ext
+  cat >conftest.$ac_ext <<_ACEOF
+/* confdefs.h.  */
+_ACEOF
+cat confdefs.h >>conftest.$ac_ext
+cat >>conftest.$ac_ext <<_ACEOF
+/* end confdefs.h.  */
+$ac_declaration
+int
+main ()
+{
+exit (42);
+  ;
+  return 0;
+}
+_ACEOF
+rm -f conftest.$ac_objext
+if { (eval echo "$as_me:$LINENO: \"$ac_compile\"") >&5
+  (eval $ac_compile) 2>conftest.er1
+  ac_status=$?
+  grep -v '^ *+' conftest.er1 >conftest.err
+  rm -f conftest.er1
+  cat conftest.err >&5
+  echo "$as_me:$LINENO: \$? = $ac_status" >&5
+  (exit $ac_status); } &&
+	 { ac_try='test -z "$ac_c_werror_flag"
+			 || test ! -s conftest.err'
+  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
+  (eval $ac_try) 2>&5
+  ac_status=$?
+  echo "$as_me:$LINENO: \$? = $ac_status" >&5
+  (exit $ac_status); }; } &&
+	 { ac_try='test -s conftest.$ac_objext'
+  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
+  (eval $ac_try) 2>&5
+  ac_status=$?
+  echo "$as_me:$LINENO: \$? = $ac_status" >&5
+  (exit $ac_status); }; }; then
+  break
 else
-  if test "$GCC" = yes; then
-    CFLAGS="-O2"
-  else
-    CFLAGS=
+  echo "$as_me: failed program was:" >&5
+sed 's/^/| /' conftest.$ac_ext >&5
+
+fi
+rm -f conftest.err conftest.$ac_objext conftest.$ac_ext
+done
+rm -f conftest*
+if test -n "$ac_declaration"; then
+  echo '#ifdef __cplusplus' >>confdefs.h
+  echo $ac_declaration      >>confdefs.h
+  echo '#endif'             >>confdefs.h
   fi
+
+else
+  echo "$as_me: failed program was:" >&5
+sed 's/^/| /' conftest.$ac_ext >&5
+
 fi
+rm -f conftest.err conftest.$ac_objext conftest.$ac_ext
+ac_ext=c
+ac_cpp='$CPP $CPPFLAGS'
+ac_compile='$CC -c $CFLAGS $CPPFLAGS conftest.$ac_ext >&5'
+ac_link='$CC -o conftest$ac_exeext $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
+ac_compiler_gnu=$ac_cv_c_compiler_gnu
 
 ac_aux_dir=
 for ac_dir in $srcdir $srcdir/.. $srcdir/../..; do
@@ -754,14 +2225,20 @@ for ac_dir in $srcdir $srcdir/.. $srcdir
     ac_aux_dir=$ac_dir
     ac_install_sh="$ac_aux_dir/install.sh -c"
     break
+  elif test -f $ac_dir/shtool; then
+    ac_aux_dir=$ac_dir
+    ac_install_sh="$ac_aux_dir/shtool install -c"
+    break
   fi
 done
 if test -z "$ac_aux_dir"; then
-  { echo "configure: error: can not find install-sh or install.sh in $srcdir $srcdir/.. $srcdir/../.." 1>&2; exit 1; }
-fi
-ac_config_guess=$ac_aux_dir/config.guess
-ac_config_sub=$ac_aux_dir/config.sub
-ac_configure=$ac_aux_dir/configure # This should be Cygnus configure.
+  { { echo "$as_me:$LINENO: error: cannot find install-sh or install.sh in $srcdir $srcdir/.. $srcdir/../.." >&5
+echo "$as_me: error: cannot find install-sh or install.sh in $srcdir $srcdir/.. $srcdir/../.." >&2;}
+   { (exit 1); exit 1; }; }
+fi
+ac_config_guess="$SHELL $ac_aux_dir/config.guess"
+ac_config_sub="$SHELL $ac_aux_dir/config.sub"
+ac_configure="$SHELL $ac_aux_dir/configure" # This should be Cygnus configure.
 
 # Find a good install program.  We prefer a C program (faster),
 # so one script is as good as another.  But avoid the broken or
@@ -770,262 +2247,555 @@ ac_configure=$ac_aux_dir/configure # Thi
 # SunOS /usr/etc/install
 # IRIX /sbin/install
 # AIX /bin/install
+# AmigaOS /C/install, which installs bootblocks on floppy discs
 # AIX 4 /usr/bin/installbsd, which doesn't work without a -g flag
 # AFS /usr/afsws/bin/install, which mishandles nonexistent args
 # SVR4 /usr/ucb/install, which tries to use the nonexistent group "staff"
+# OS/2's system install, which has a completely different semantic
 # ./install, which can be erroneously created by make from ./install.sh.
-echo $ac_n "checking for a BSD compatible install""... $ac_c" 1>&6
-echo "configure:779: checking for a BSD compatible install" >&5
+echo "$as_me:$LINENO: checking for a BSD-compatible install" >&5
+echo $ECHO_N "checking for a BSD-compatible install... $ECHO_C" >&6
 if test -z "$INSTALL"; then
-if eval "test \"`echo '$''{'ac_cv_path_install'+set}'`\" = set"; then
-  echo $ac_n "(cached) $ac_c" 1>&6
+if test "${ac_cv_path_install+set}" = set; then
+  echo $ECHO_N "(cached) $ECHO_C" >&6
 else
-    IFS="${IFS= 	}"; ac_save_IFS="$IFS"; IFS=":"
-  for ac_dir in $PATH; do
+  as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
+for as_dir in $PATH
+do
+  IFS=$as_save_IFS
+  test -z "$as_dir" && as_dir=.
     # Account for people who put trailing slashes in PATH elements.
-    case "$ac_dir/" in
-    /|./|.//|/etc/*|/usr/sbin/*|/usr/etc/*|/sbin/*|/usr/afsws/bin/*|/usr/ucb/*) ;;
+case $as_dir/ in
+  ./ | .// | /cC/* | \
+  /etc/* | /usr/sbin/* | /usr/etc/* | /sbin/* | /usr/afsws/bin/* | \
+  ?:\\/os2\\/install\\/* | ?:\\/OS2\\/INSTALL\\/* | \
+  /usr/ucb/* ) ;;
     *)
       # OSF1 and SCO ODT 3.0 have their own names for install.
       # Don't use installbsd from OSF since it installs stuff as root
       # by default.
       for ac_prog in ginstall scoinst install; do
-        if test -f $ac_dir/$ac_prog; then
+      for ac_exec_ext in '' $ac_executable_extensions; do
+	if $as_executable_p "$as_dir/$ac_prog$ac_exec_ext"; then
 	  if test $ac_prog = install &&
-            grep dspmsg $ac_dir/$ac_prog >/dev/null 2>&1; then
+	    grep dspmsg "$as_dir/$ac_prog$ac_exec_ext" >/dev/null 2>&1; then
 	    # AIX install.  It has an incompatible calling convention.
 	    :
+	  elif test $ac_prog = install &&
+	    grep pwplus "$as_dir/$ac_prog$ac_exec_ext" >/dev/null 2>&1; then
+	    # program-specific install script used by HP pwplus--don't use.
+	    :
 	  else
-	    ac_cv_path_install="$ac_dir/$ac_prog -c"
-	    break 2
+	    ac_cv_path_install="$as_dir/$ac_prog$ac_exec_ext -c"
+	    break 3
 	  fi
 	fi
       done
+    done
       ;;
     esac
   done
-  IFS="$ac_save_IFS"
+
 
 fi
   if test "${ac_cv_path_install+set}" = set; then
-    INSTALL="$ac_cv_path_install"
+    INSTALL=$ac_cv_path_install
   else
     # As a last resort, use the slow shell script.  We don't cache a
     # path for INSTALL within a source directory, because that will
     # break other packages using the cache if that directory is
     # removed, or if the path is relative.
-    INSTALL="$ac_install_sh"
+    INSTALL=$ac_install_sh
   fi
 fi
-echo "$ac_t""$INSTALL" 1>&6
+echo "$as_me:$LINENO: result: $INSTALL" >&5
+echo "${ECHO_T}$INSTALL" >&6
 
 # Use test -z because SunOS4 sh mishandles braces in ${var-val}.
 # It thinks the first close brace ends the variable substitution.
 test -z "$INSTALL_PROGRAM" && INSTALL_PROGRAM='${INSTALL}'
 
-test -z "$INSTALL_SCRIPT" && INSTALL_SCRIPT='${INSTALL_PROGRAM}'
+test -z "$INSTALL_SCRIPT" && INSTALL_SCRIPT='${INSTALL}'
 
 test -z "$INSTALL_DATA" && INSTALL_DATA='${INSTALL} -m 644'
 
-# Extract the first word of "ranlib", so it can be a program name with args.
-set dummy ranlib; ac_word=$2
-echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
-echo "configure:834: checking for $ac_word" >&5
-if eval "test \"`echo '$''{'ac_cv_prog_RANLIB'+set}'`\" = set"; then
-  echo $ac_n "(cached) $ac_c" 1>&6
+if test -n "$ac_tool_prefix"; then
+  # Extract the first word of "${ac_tool_prefix}ranlib", so it can be a program name with args.
+set dummy ${ac_tool_prefix}ranlib; ac_word=$2
+echo "$as_me:$LINENO: checking for $ac_word" >&5
+echo $ECHO_N "checking for $ac_word... $ECHO_C" >&6
+if test "${ac_cv_prog_RANLIB+set}" = set; then
+  echo $ECHO_N "(cached) $ECHO_C" >&6
 else
   if test -n "$RANLIB"; then
   ac_cv_prog_RANLIB="$RANLIB" # Let the user override the test.
 else
-  IFS="${IFS= 	}"; ac_save_ifs="$IFS"; IFS=":"
-  ac_dummy="$PATH"
-  for ac_dir in $ac_dummy; do
-    test -z "$ac_dir" && ac_dir=.
-    if test -f $ac_dir/$ac_word; then
-      ac_cv_prog_RANLIB="ranlib"
-      break
+as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
+for as_dir in $PATH
+do
+  IFS=$as_save_IFS
+  test -z "$as_dir" && as_dir=.
+  for ac_exec_ext in '' $ac_executable_extensions; do
+  if $as_executable_p "$as_dir/$ac_word$ac_exec_ext"; then
+    ac_cv_prog_RANLIB="${ac_tool_prefix}ranlib"
+    echo "$as_me:$LINENO: found $as_dir/$ac_word$ac_exec_ext" >&5
+    break 2
     fi
   done
-  IFS="$ac_save_ifs"
-  test -z "$ac_cv_prog_RANLIB" && ac_cv_prog_RANLIB=":"
+done
+
 fi
 fi
-RANLIB="$ac_cv_prog_RANLIB"
+RANLIB=$ac_cv_prog_RANLIB
 if test -n "$RANLIB"; then
-  echo "$ac_t""$RANLIB" 1>&6
+  echo "$as_me:$LINENO: result: $RANLIB" >&5
+echo "${ECHO_T}$RANLIB" >&6
+else
+  echo "$as_me:$LINENO: result: no" >&5
+echo "${ECHO_T}no" >&6
+fi
+
+fi
+if test -z "$ac_cv_prog_RANLIB"; then
+  ac_ct_RANLIB=$RANLIB
+  # Extract the first word of "ranlib", so it can be a program name with args.
+set dummy ranlib; ac_word=$2
+echo "$as_me:$LINENO: checking for $ac_word" >&5
+echo $ECHO_N "checking for $ac_word... $ECHO_C" >&6
+if test "${ac_cv_prog_ac_ct_RANLIB+set}" = set; then
+  echo $ECHO_N "(cached) $ECHO_C" >&6
 else
-  echo "$ac_t""no" 1>&6
+  if test -n "$ac_ct_RANLIB"; then
+  ac_cv_prog_ac_ct_RANLIB="$ac_ct_RANLIB" # Let the user override the test.
+else
+as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
+for as_dir in $PATH
+do
+  IFS=$as_save_IFS
+  test -z "$as_dir" && as_dir=.
+  for ac_exec_ext in '' $ac_executable_extensions; do
+  if $as_executable_p "$as_dir/$ac_word$ac_exec_ext"; then
+    ac_cv_prog_ac_ct_RANLIB="ranlib"
+    echo "$as_me:$LINENO: found $as_dir/$ac_word$ac_exec_ext" >&5
+    break 2
+  fi
+done
+done
+
+  test -z "$ac_cv_prog_ac_ct_RANLIB" && ac_cv_prog_ac_ct_RANLIB=":"
+fi
 fi
+ac_ct_RANLIB=$ac_cv_prog_ac_ct_RANLIB
+if test -n "$ac_ct_RANLIB"; then
+  echo "$as_me:$LINENO: result: $ac_ct_RANLIB" >&5
+echo "${ECHO_T}$ac_ct_RANLIB" >&6
+else
+  echo "$as_me:$LINENO: result: no" >&5
+echo "${ECHO_T}no" >&6
+fi
+
+  RANLIB=$ac_ct_RANLIB
+else
+  RANLIB="$ac_cv_prog_RANLIB"
+fi
+
+
 
 
-echo $ac_n "checking for dlopen in -ldl""... $ac_c" 1>&6
-echo "configure:863: checking for dlopen in -ldl" >&5
-ac_lib_var=`echo dl'_'dlopen | sed 'y%./+-%__p_%'`
-if eval "test \"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\" = set"; then
-  echo $ac_n "(cached) $ac_c" 1>&6
+echo "$as_me:$LINENO: checking for dlopen in -ldl" >&5
+echo $ECHO_N "checking for dlopen in -ldl... $ECHO_C" >&6
+if test "${ac_cv_lib_dl_dlopen+set}" = set; then
+  echo $ECHO_N "(cached) $ECHO_C" >&6
 else
-  ac_save_LIBS="$LIBS"
+  ac_check_lib_save_LIBS=$LIBS
 LIBS="-ldl  $LIBS"
-cat > conftest.$ac_ext <<EOF
-#line 871 "configure"
-#include "confdefs.h"
+cat >conftest.$ac_ext <<_ACEOF
+/* confdefs.h.  */
+_ACEOF
+cat confdefs.h >>conftest.$ac_ext
+cat >>conftest.$ac_ext <<_ACEOF
+/* end confdefs.h.  */
+
 /* Override any gcc2 internal prototype to avoid an error.  */
+#ifdef __cplusplus
+extern "C"
+#endif
 /* We use char because int might match the return type of a gcc2
     builtin and then its argument prototype would still apply.  */
 char dlopen();
-
-int main() {
-dlopen()
-; return 0; }
-EOF
-if { (eval echo configure:882: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
-  rm -rf conftest*
-  eval "ac_cv_lib_$ac_lib_var=yes"
-else
-  echo "configure: failed program was:" >&5
-  cat conftest.$ac_ext >&5
-  rm -rf conftest*
-  eval "ac_cv_lib_$ac_lib_var=no"
-fi
-rm -f conftest*
-LIBS="$ac_save_LIBS"
-
-fi
-if eval "test \"`echo '$ac_cv_lib_'$ac_lib_var`\" = yes"; then
-  echo "$ac_t""yes" 1>&6
-    ac_tr_lib=HAVE_LIB`echo dl | sed -e 's/[^a-zA-Z0-9_]/_/g' \
-    -e 'y/abcdefghijklmnopqrstuvwxyz/ABCDEFGHIJKLMNOPQRSTUVWXYZ/'`
-  cat >> confdefs.h <<EOF
-#define $ac_tr_lib 1
-EOF
+int
+main ()
+{
+dlopen ();
+  ;
+  return 0;
+}
+_ACEOF
+rm -f conftest.$ac_objext conftest$ac_exeext
+if { (eval echo "$as_me:$LINENO: \"$ac_link\"") >&5
+  (eval $ac_link) 2>conftest.er1
+  ac_status=$?
+  grep -v '^ *+' conftest.er1 >conftest.err
+  rm -f conftest.er1
+  cat conftest.err >&5
+  echo "$as_me:$LINENO: \$? = $ac_status" >&5
+  (exit $ac_status); } &&
+	 { ac_try='test -z "$ac_c_werror_flag"
+			 || test ! -s conftest.err'
+  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
+  (eval $ac_try) 2>&5
+  ac_status=$?
+  echo "$as_me:$LINENO: \$? = $ac_status" >&5
+  (exit $ac_status); }; } &&
+	 { ac_try='test -s conftest$ac_exeext'
+  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
+  (eval $ac_try) 2>&5
+  ac_status=$?
+  echo "$as_me:$LINENO: \$? = $ac_status" >&5
+  (exit $ac_status); }; }; then
+  ac_cv_lib_dl_dlopen=yes
+else
+  echo "$as_me: failed program was:" >&5
+sed 's/^/| /' conftest.$ac_ext >&5
+
+ac_cv_lib_dl_dlopen=no
+fi
+rm -f conftest.err conftest.$ac_objext \
+      conftest$ac_exeext conftest.$ac_ext
+LIBS=$ac_check_lib_save_LIBS
+fi
+echo "$as_me:$LINENO: result: $ac_cv_lib_dl_dlopen" >&5
+echo "${ECHO_T}$ac_cv_lib_dl_dlopen" >&6
+if test $ac_cv_lib_dl_dlopen = yes; then
+  cat >>confdefs.h <<_ACEOF
+#define HAVE_LIBDL 1
+_ACEOF
 
   LIBS="-ldl $LIBS"
 
-else
-  echo "$ac_t""no" 1>&6
 fi
 
 
-echo $ac_n "checking how to run the C preprocessor""... $ac_c" 1>&6
-echo "configure:911: checking how to run the C preprocessor" >&5
+ac_ext=c
+ac_cpp='$CPP $CPPFLAGS'
+ac_compile='$CC -c $CFLAGS $CPPFLAGS conftest.$ac_ext >&5'
+ac_link='$CC -o conftest$ac_exeext $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
+ac_compiler_gnu=$ac_cv_c_compiler_gnu
+echo "$as_me:$LINENO: checking how to run the C preprocessor" >&5
+echo $ECHO_N "checking how to run the C preprocessor... $ECHO_C" >&6
 # On Suns, sometimes $CPP names a directory.
 if test -n "$CPP" && test -d "$CPP"; then
   CPP=
 fi
 if test -z "$CPP"; then
-if eval "test \"`echo '$''{'ac_cv_prog_CPP'+set}'`\" = set"; then
-  echo $ac_n "(cached) $ac_c" 1>&6
+  if test "${ac_cv_prog_CPP+set}" = set; then
+  echo $ECHO_N "(cached) $ECHO_C" >&6
 else
-    # This must be in double quotes, not single quotes, because CPP may get
-  # substituted into the Makefile and "${CC-cc}" will confuse make.
-  CPP="${CC-cc} -E"
+      # Double quotes because CPP needs to be expanded
+    for CPP in "$CC -E" "$CC -E -traditional-cpp" "/lib/cpp"
+    do
+      ac_preproc_ok=false
+for ac_c_preproc_warn_flag in '' yes
+do
+  # Use a header file that comes with gcc, so configuring glibc
+  # with a fresh cross-compiler works.
+  # Prefer <limits.h> to <assert.h> if __STDC__ is defined, since
+  # <limits.h> exists even on freestanding compilers.
   # On the NeXT, cc -E runs the code through the compiler's parser,
-  # not just through cpp.
-  cat > conftest.$ac_ext <<EOF
-#line 926 "configure"
-#include "confdefs.h"
+  # not just through cpp. "Syntax error" is here to catch this case.
+  cat >conftest.$ac_ext <<_ACEOF
+/* confdefs.h.  */
+_ACEOF
+cat confdefs.h >>conftest.$ac_ext
+cat >>conftest.$ac_ext <<_ACEOF
+/* end confdefs.h.  */
+#ifdef __STDC__
+# include <limits.h>
+#else
 #include <assert.h>
-Syntax Error
-EOF
-ac_try="$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out"
-{ (eval echo configure:932: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
-ac_err=`grep -v '^ *+' conftest.out | grep -v "^conftest.${ac_ext}\$"`
-if test -z "$ac_err"; then
-  :
+#endif
+		     Syntax error
+_ACEOF
+if { (eval echo "$as_me:$LINENO: \"$ac_cpp conftest.$ac_ext\"") >&5
+  (eval $ac_cpp conftest.$ac_ext) 2>conftest.er1
+  ac_status=$?
+  grep -v '^ *+' conftest.er1 >conftest.err
+  rm -f conftest.er1
+  cat conftest.err >&5
+  echo "$as_me:$LINENO: \$? = $ac_status" >&5
+  (exit $ac_status); } >/dev/null; then
+  if test -s conftest.err; then
+    ac_cpp_err=$ac_c_preproc_warn_flag
+    ac_cpp_err=$ac_cpp_err$ac_c_werror_flag
 else
-  echo "$ac_err" >&5
-  echo "configure: failed program was:" >&5
-  cat conftest.$ac_ext >&5
-  rm -rf conftest*
-  CPP="${CC-cc} -E -traditional-cpp"
-  cat > conftest.$ac_ext <<EOF
-#line 943 "configure"
-#include "confdefs.h"
-#include <assert.h>
-Syntax Error
-EOF
-ac_try="$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out"
-{ (eval echo configure:949: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
-ac_err=`grep -v '^ *+' conftest.out | grep -v "^conftest.${ac_ext}\$"`
-if test -z "$ac_err"; then
+    ac_cpp_err=
+  fi
+else
+  ac_cpp_err=yes
+fi
+if test -z "$ac_cpp_err"; then
   :
 else
-  echo "$ac_err" >&5
-  echo "configure: failed program was:" >&5
-  cat conftest.$ac_ext >&5
-  rm -rf conftest*
-  CPP="${CC-cc} -nologo -E"
-  cat > conftest.$ac_ext <<EOF
-#line 960 "configure"
-#include "confdefs.h"
+  echo "$as_me: failed program was:" >&5
+sed 's/^/| /' conftest.$ac_ext >&5
+
+  # Broken: fails on valid input.
+continue
+fi
+rm -f conftest.err conftest.$ac_ext
+
+  # OK, works on sane cases.  Now check whether non-existent headers
+  # can be detected and how.
+  cat >conftest.$ac_ext <<_ACEOF
+/* confdefs.h.  */
+_ACEOF
+cat confdefs.h >>conftest.$ac_ext
+cat >>conftest.$ac_ext <<_ACEOF
+/* end confdefs.h.  */
+#include <ac_nonexistent.h>
+_ACEOF
+if { (eval echo "$as_me:$LINENO: \"$ac_cpp conftest.$ac_ext\"") >&5
+  (eval $ac_cpp conftest.$ac_ext) 2>conftest.er1
+  ac_status=$?
+  grep -v '^ *+' conftest.er1 >conftest.err
+  rm -f conftest.er1
+  cat conftest.err >&5
+  echo "$as_me:$LINENO: \$? = $ac_status" >&5
+  (exit $ac_status); } >/dev/null; then
+  if test -s conftest.err; then
+    ac_cpp_err=$ac_c_preproc_warn_flag
+    ac_cpp_err=$ac_cpp_err$ac_c_werror_flag
+  else
+    ac_cpp_err=
+  fi
+else
+  ac_cpp_err=yes
+fi
+if test -z "$ac_cpp_err"; then
+  # Broken: success on invalid input.
+continue
+else
+  echo "$as_me: failed program was:" >&5
+sed 's/^/| /' conftest.$ac_ext >&5
+
+  # Passes both tests.
+ac_preproc_ok=:
+break
+fi
+rm -f conftest.err conftest.$ac_ext
+
+done
+# Because of `break', _AC_PREPROC_IFELSE's cleaning code was skipped.
+rm -f conftest.err conftest.$ac_ext
+if $ac_preproc_ok; then
+  break
+fi
+
+    done
+    ac_cv_prog_CPP=$CPP
+
+fi
+  CPP=$ac_cv_prog_CPP
+else
+  ac_cv_prog_CPP=$CPP
+fi
+echo "$as_me:$LINENO: result: $CPP" >&5
+echo "${ECHO_T}$CPP" >&6
+ac_preproc_ok=false
+for ac_c_preproc_warn_flag in '' yes
+do
+  # Use a header file that comes with gcc, so configuring glibc
+  # with a fresh cross-compiler works.
+  # Prefer <limits.h> to <assert.h> if __STDC__ is defined, since
+  # <limits.h> exists even on freestanding compilers.
+  # On the NeXT, cc -E runs the code through the compiler's parser,
+  # not just through cpp. "Syntax error" is here to catch this case.
+  cat >conftest.$ac_ext <<_ACEOF
+/* confdefs.h.  */
+_ACEOF
+cat confdefs.h >>conftest.$ac_ext
+cat >>conftest.$ac_ext <<_ACEOF
+/* end confdefs.h.  */
+#ifdef __STDC__
+# include <limits.h>
+#else
 #include <assert.h>
-Syntax Error
-EOF
-ac_try="$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out"
-{ (eval echo configure:966: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
-ac_err=`grep -v '^ *+' conftest.out | grep -v "^conftest.${ac_ext}\$"`
-if test -z "$ac_err"; then
+#endif
+		     Syntax error
+_ACEOF
+if { (eval echo "$as_me:$LINENO: \"$ac_cpp conftest.$ac_ext\"") >&5
+  (eval $ac_cpp conftest.$ac_ext) 2>conftest.er1
+  ac_status=$?
+  grep -v '^ *+' conftest.er1 >conftest.err
+  rm -f conftest.er1
+  cat conftest.err >&5
+  echo "$as_me:$LINENO: \$? = $ac_status" >&5
+  (exit $ac_status); } >/dev/null; then
+  if test -s conftest.err; then
+    ac_cpp_err=$ac_c_preproc_warn_flag
+    ac_cpp_err=$ac_cpp_err$ac_c_werror_flag
+  else
+    ac_cpp_err=
+  fi
+else
+  ac_cpp_err=yes
+fi
+if test -z "$ac_cpp_err"; then
   :
 else
-  echo "$ac_err" >&5
-  echo "configure: failed program was:" >&5
-  cat conftest.$ac_ext >&5
-  rm -rf conftest*
-  CPP=/lib/cpp
+  echo "$as_me: failed program was:" >&5
+sed 's/^/| /' conftest.$ac_ext >&5
+
+  # Broken: fails on valid input.
+continue
 fi
-rm -f conftest*
+rm -f conftest.err conftest.$ac_ext
+
+  # OK, works on sane cases.  Now check whether non-existent headers
+  # can be detected and how.
+  cat >conftest.$ac_ext <<_ACEOF
+/* confdefs.h.  */
+_ACEOF
+cat confdefs.h >>conftest.$ac_ext
+cat >>conftest.$ac_ext <<_ACEOF
+/* end confdefs.h.  */
+#include <ac_nonexistent.h>
+_ACEOF
+if { (eval echo "$as_me:$LINENO: \"$ac_cpp conftest.$ac_ext\"") >&5
+  (eval $ac_cpp conftest.$ac_ext) 2>conftest.er1
+  ac_status=$?
+  grep -v '^ *+' conftest.er1 >conftest.err
+  rm -f conftest.er1
+  cat conftest.err >&5
+  echo "$as_me:$LINENO: \$? = $ac_status" >&5
+  (exit $ac_status); } >/dev/null; then
+  if test -s conftest.err; then
+    ac_cpp_err=$ac_c_preproc_warn_flag
+    ac_cpp_err=$ac_cpp_err$ac_c_werror_flag
+  else
+    ac_cpp_err=
 fi
-rm -f conftest*
+else
+  ac_cpp_err=yes
 fi
-rm -f conftest*
-  ac_cv_prog_CPP="$CPP"
+if test -z "$ac_cpp_err"; then
+  # Broken: success on invalid input.
+continue
+else
+  echo "$as_me: failed program was:" >&5
+sed 's/^/| /' conftest.$ac_ext >&5
+
+  # Passes both tests.
+ac_preproc_ok=:
+break
+fi
+rm -f conftest.err conftest.$ac_ext
+
+done
+# Because of `break', _AC_PREPROC_IFELSE's cleaning code was skipped.
+rm -f conftest.err conftest.$ac_ext
+if $ac_preproc_ok; then
+  :
+else
+  { { echo "$as_me:$LINENO: error: C preprocessor \"$CPP\" fails sanity check
+See \`config.log' for more details." >&5
+echo "$as_me: error: C preprocessor \"$CPP\" fails sanity check
+See \`config.log' for more details." >&2;}
+   { (exit 1); exit 1; }; }
 fi
-  CPP="$ac_cv_prog_CPP"
+
+ac_ext=c
+ac_cpp='$CPP $CPPFLAGS'
+ac_compile='$CC -c $CFLAGS $CPPFLAGS conftest.$ac_ext >&5'
+ac_link='$CC -o conftest$ac_exeext $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
+ac_compiler_gnu=$ac_cv_c_compiler_gnu
+
+
+echo "$as_me:$LINENO: checking for egrep" >&5
+echo $ECHO_N "checking for egrep... $ECHO_C" >&6
+if test "${ac_cv_prog_egrep+set}" = set; then
+  echo $ECHO_N "(cached) $ECHO_C" >&6
 else
-  ac_cv_prog_CPP="$CPP"
+  if echo a | (grep -E '(a|b)') >/dev/null 2>&1
+    then ac_cv_prog_egrep='grep -E'
+    else ac_cv_prog_egrep='egrep'
 fi
-echo "$ac_t""$CPP" 1>&6
+fi
+echo "$as_me:$LINENO: result: $ac_cv_prog_egrep" >&5
+echo "${ECHO_T}$ac_cv_prog_egrep" >&6
+ EGREP=$ac_cv_prog_egrep
+
 
-echo $ac_n "checking for ANSI C header files""... $ac_c" 1>&6
-echo "configure:991: checking for ANSI C header files" >&5
-if eval "test \"`echo '$''{'ac_cv_header_stdc'+set}'`\" = set"; then
-  echo $ac_n "(cached) $ac_c" 1>&6
+echo "$as_me:$LINENO: checking for ANSI C header files" >&5
+echo $ECHO_N "checking for ANSI C header files... $ECHO_C" >&6
+if test "${ac_cv_header_stdc+set}" = set; then
+  echo $ECHO_N "(cached) $ECHO_C" >&6
 else
-  cat > conftest.$ac_ext <<EOF
-#line 996 "configure"
-#include "confdefs.h"
+  cat >conftest.$ac_ext <<_ACEOF
+/* confdefs.h.  */
+_ACEOF
+cat confdefs.h >>conftest.$ac_ext
+cat >>conftest.$ac_ext <<_ACEOF
+/* end confdefs.h.  */
 #include <stdlib.h>
 #include <stdarg.h>
 #include <string.h>
 #include <float.h>
-EOF
-ac_try="$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out"
-{ (eval echo configure:1004: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
-ac_err=`grep -v '^ *+' conftest.out | grep -v "^conftest.${ac_ext}\$"`
-if test -z "$ac_err"; then
-  rm -rf conftest*
+
+int
+main ()
+{
+
+  ;
+  return 0;
+}
+_ACEOF
+rm -f conftest.$ac_objext
+if { (eval echo "$as_me:$LINENO: \"$ac_compile\"") >&5
+  (eval $ac_compile) 2>conftest.er1
+  ac_status=$?
+  grep -v '^ *+' conftest.er1 >conftest.err
+  rm -f conftest.er1
+  cat conftest.err >&5
+  echo "$as_me:$LINENO: \$? = $ac_status" >&5
+  (exit $ac_status); } &&
+	 { ac_try='test -z "$ac_c_werror_flag"
+			 || test ! -s conftest.err'
+  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
+  (eval $ac_try) 2>&5
+  ac_status=$?
+  echo "$as_me:$LINENO: \$? = $ac_status" >&5
+  (exit $ac_status); }; } &&
+	 { ac_try='test -s conftest.$ac_objext'
+  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
+  (eval $ac_try) 2>&5
+  ac_status=$?
+  echo "$as_me:$LINENO: \$? = $ac_status" >&5
+  (exit $ac_status); }; }; then
   ac_cv_header_stdc=yes
 else
-  echo "$ac_err" >&5
-  echo "configure: failed program was:" >&5
-  cat conftest.$ac_ext >&5
-  rm -rf conftest*
+  echo "$as_me: failed program was:" >&5
+sed 's/^/| /' conftest.$ac_ext >&5
+
   ac_cv_header_stdc=no
 fi
-rm -f conftest*
+rm -f conftest.err conftest.$ac_objext conftest.$ac_ext
 
 if test $ac_cv_header_stdc = yes; then
   # SunOS 4.x string.h does not declare mem*, contrary to ANSI.
-cat > conftest.$ac_ext <<EOF
-#line 1021 "configure"
-#include "confdefs.h"
+  cat >conftest.$ac_ext <<_ACEOF
+/* confdefs.h.  */
+_ACEOF
+cat confdefs.h >>conftest.$ac_ext
+cat >>conftest.$ac_ext <<_ACEOF
+/* end confdefs.h.  */
 #include <string.h>
-EOF
+
+_ACEOF
 if (eval "$ac_cpp conftest.$ac_ext") 2>&5 |
-  egrep "memchr" >/dev/null 2>&1; then
+  $EGREP "memchr" >/dev/null 2>&1; then
   :
 else
-  rm -rf conftest*
   ac_cv_header_stdc=no
 fi
 rm -f conftest*
@@ -1034,16 +2804,19 @@ fi
 
 if test $ac_cv_header_stdc = yes; then
   # ISC 2.0.2 stdlib.h does not declare free, contrary to ANSI.
-cat > conftest.$ac_ext <<EOF
-#line 1039 "configure"
-#include "confdefs.h"
+  cat >conftest.$ac_ext <<_ACEOF
+/* confdefs.h.  */
+_ACEOF
+cat confdefs.h >>conftest.$ac_ext
+cat >>conftest.$ac_ext <<_ACEOF
+/* end confdefs.h.  */
 #include <stdlib.h>
-EOF
+
+_ACEOF
 if (eval "$ac_cpp conftest.$ac_ext") 2>&5 |
-  egrep "free" >/dev/null 2>&1; then
+  $EGREP "free" >/dev/null 2>&1; then
   :
 else
-  rm -rf conftest*
   ac_cv_header_stdc=no
 fi
 rm -f conftest*
@@ -1055,111 +2828,335 @@ if test $ac_cv_header_stdc = yes; then
 if test "$cross_compiling" = yes; then
   :
 else
-  cat > conftest.$ac_ext <<EOF
-#line 1060 "configure"
-#include "confdefs.h"
+  cat >conftest.$ac_ext <<_ACEOF
+/* confdefs.h.  */
+_ACEOF
+cat confdefs.h >>conftest.$ac_ext
+cat >>conftest.$ac_ext <<_ACEOF
+/* end confdefs.h.  */
 #include <ctype.h>
+#if ((' ' & 0x0FF) == 0x020)
 #define ISLOWER(c) ('a' <= (c) && (c) <= 'z')
 #define TOUPPER(c) (ISLOWER(c) ? 'A' + ((c) - 'a') : (c))
+#else
+# define ISLOWER(c) \
+		   (('a' <= (c) && (c) <= 'i') \
+		     || ('j' <= (c) && (c) <= 'r') \
+		     || ('s' <= (c) && (c) <= 'z'))
+# define TOUPPER(c) (ISLOWER(c) ? ((c) | 0x40) : (c))
+#endif
+
 #define XOR(e, f) (((e) && !(f)) || (!(e) && (f)))
-int main () { int i; for (i = 0; i < 256; i++)
-if (XOR (islower (i), ISLOWER (i)) || toupper (i) != TOUPPER (i)) exit(2);
-exit (0); }
-
-EOF
-if { (eval echo configure:1071: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null
-then
+int
+main ()
+{
+  int i;
+  for (i = 0; i < 256; i++)
+    if (XOR (islower (i), ISLOWER (i))
+	|| toupper (i) != TOUPPER (i))
+      exit(2);
+  exit (0);
+}
+_ACEOF
+rm -f conftest$ac_exeext
+if { (eval echo "$as_me:$LINENO: \"$ac_link\"") >&5
+  (eval $ac_link) 2>&5
+  ac_status=$?
+  echo "$as_me:$LINENO: \$? = $ac_status" >&5
+  (exit $ac_status); } && { ac_try='./conftest$ac_exeext'
+  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
+  (eval $ac_try) 2>&5
+  ac_status=$?
+  echo "$as_me:$LINENO: \$? = $ac_status" >&5
+  (exit $ac_status); }; }; then
   :
 else
-  echo "configure: failed program was:" >&5
-  cat conftest.$ac_ext >&5
-  rm -fr conftest*
+  echo "$as_me: program exited with status $ac_status" >&5
+echo "$as_me: failed program was:" >&5
+sed 's/^/| /' conftest.$ac_ext >&5
+
+( exit $ac_status )
   ac_cv_header_stdc=no
 fi
-rm -fr conftest*
+rm -f core *.core gmon.out bb.out conftest$ac_exeext conftest.$ac_objext conftest.$ac_ext
 fi
-
 fi
 fi
-
-echo "$ac_t""$ac_cv_header_stdc" 1>&6
+echo "$as_me:$LINENO: result: $ac_cv_header_stdc" >&5
+echo "${ECHO_T}$ac_cv_header_stdc" >&6
 if test $ac_cv_header_stdc = yes; then
-  cat >> confdefs.h <<\EOF
+
+cat >>confdefs.h <<\_ACEOF
 #define STDC_HEADERS 1
-EOF
+_ACEOF
 
 fi
 
-for ac_hdr in fcntl.h sys/ioctl.h sys/time.h syslog.h unistd.h
+# On IRIX 5.3, sys/types and inttypes.h are conflicting.
+
+
+
+
+
+
+
+
+
+for ac_header in sys/types.h sys/stat.h stdlib.h string.h memory.h strings.h \
+		  inttypes.h stdint.h unistd.h
 do
-ac_safe=`echo "$ac_hdr" | sed 'y%./+-%__p_%'`
-echo $ac_n "checking for $ac_hdr""... $ac_c" 1>&6
-echo "configure:1098: checking for $ac_hdr" >&5
-if eval "test \"`echo '$''{'ac_cv_header_$ac_safe'+set}'`\" = set"; then
-  echo $ac_n "(cached) $ac_c" 1>&6
-else
-  cat > conftest.$ac_ext <<EOF
-#line 1103 "configure"
-#include "confdefs.h"
-#include <$ac_hdr>
-EOF
-ac_try="$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out"
-{ (eval echo configure:1108: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
-ac_err=`grep -v '^ *+' conftest.out | grep -v "^conftest.${ac_ext}\$"`
-if test -z "$ac_err"; then
-  rm -rf conftest*
-  eval "ac_cv_header_$ac_safe=yes"
-else
-  echo "$ac_err" >&5
-  echo "configure: failed program was:" >&5
-  cat conftest.$ac_ext >&5
-  rm -rf conftest*
-  eval "ac_cv_header_$ac_safe=no"
-fi
-rm -f conftest*
+as_ac_Header=`echo "ac_cv_header_$ac_header" | $as_tr_sh`
+echo "$as_me:$LINENO: checking for $ac_header" >&5
+echo $ECHO_N "checking for $ac_header... $ECHO_C" >&6
+if eval "test \"\${$as_ac_Header+set}\" = set"; then
+  echo $ECHO_N "(cached) $ECHO_C" >&6
+else
+  cat >conftest.$ac_ext <<_ACEOF
+/* confdefs.h.  */
+_ACEOF
+cat confdefs.h >>conftest.$ac_ext
+cat >>conftest.$ac_ext <<_ACEOF
+/* end confdefs.h.  */
+$ac_includes_default
+
+#include <$ac_header>
+_ACEOF
+rm -f conftest.$ac_objext
+if { (eval echo "$as_me:$LINENO: \"$ac_compile\"") >&5
+  (eval $ac_compile) 2>conftest.er1
+  ac_status=$?
+  grep -v '^ *+' conftest.er1 >conftest.err
+  rm -f conftest.er1
+  cat conftest.err >&5
+  echo "$as_me:$LINENO: \$? = $ac_status" >&5
+  (exit $ac_status); } &&
+	 { ac_try='test -z "$ac_c_werror_flag"
+			 || test ! -s conftest.err'
+  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
+  (eval $ac_try) 2>&5
+  ac_status=$?
+  echo "$as_me:$LINENO: \$? = $ac_status" >&5
+  (exit $ac_status); }; } &&
+	 { ac_try='test -s conftest.$ac_objext'
+  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
+  (eval $ac_try) 2>&5
+  ac_status=$?
+  echo "$as_me:$LINENO: \$? = $ac_status" >&5
+  (exit $ac_status); }; }; then
+  eval "$as_ac_Header=yes"
+else
+  echo "$as_me: failed program was:" >&5
+sed 's/^/| /' conftest.$ac_ext >&5
+
+eval "$as_ac_Header=no"
+fi
+rm -f conftest.err conftest.$ac_objext conftest.$ac_ext
+fi
+echo "$as_me:$LINENO: result: `eval echo '${'$as_ac_Header'}'`" >&5
+echo "${ECHO_T}`eval echo '${'$as_ac_Header'}'`" >&6
+if test `eval echo '${'$as_ac_Header'}'` = yes; then
+  cat >>confdefs.h <<_ACEOF
+#define `echo "HAVE_$ac_header" | $as_tr_cpp` 1
+_ACEOF
+
 fi
-if eval "test \"`echo '$ac_cv_header_'$ac_safe`\" = yes"; then
-  echo "$ac_t""yes" 1>&6
-    ac_tr_hdr=HAVE_`echo $ac_hdr | sed 'y%abcdefghijklmnopqrstuvwxyz./-%ABCDEFGHIJKLMNOPQRSTUVWXYZ___%'`
-  cat >> confdefs.h <<EOF
-#define $ac_tr_hdr 1
-EOF
  
+done
+
+
+
+
+
+
+
+for ac_header in fcntl.h sys/ioctl.h sys/time.h syslog.h unistd.h
+do
+as_ac_Header=`echo "ac_cv_header_$ac_header" | $as_tr_sh`
+if eval "test \"\${$as_ac_Header+set}\" = set"; then
+  echo "$as_me:$LINENO: checking for $ac_header" >&5
+echo $ECHO_N "checking for $ac_header... $ECHO_C" >&6
+if eval "test \"\${$as_ac_Header+set}\" = set"; then
+  echo $ECHO_N "(cached) $ECHO_C" >&6
+fi
+echo "$as_me:$LINENO: result: `eval echo '${'$as_ac_Header'}'`" >&5
+echo "${ECHO_T}`eval echo '${'$as_ac_Header'}'`" >&6
+else
+  # Is the header compilable?
+echo "$as_me:$LINENO: checking $ac_header usability" >&5
+echo $ECHO_N "checking $ac_header usability... $ECHO_C" >&6
+cat >conftest.$ac_ext <<_ACEOF
+/* confdefs.h.  */
+_ACEOF
+cat confdefs.h >>conftest.$ac_ext
+cat >>conftest.$ac_ext <<_ACEOF
+/* end confdefs.h.  */
+$ac_includes_default
+#include <$ac_header>
+_ACEOF
+rm -f conftest.$ac_objext
+if { (eval echo "$as_me:$LINENO: \"$ac_compile\"") >&5
+  (eval $ac_compile) 2>conftest.er1
+  ac_status=$?
+  grep -v '^ *+' conftest.er1 >conftest.err
+  rm -f conftest.er1
+  cat conftest.err >&5
+  echo "$as_me:$LINENO: \$? = $ac_status" >&5
+  (exit $ac_status); } &&
+	 { ac_try='test -z "$ac_c_werror_flag"
+			 || test ! -s conftest.err'
+  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
+  (eval $ac_try) 2>&5
+  ac_status=$?
+  echo "$as_me:$LINENO: \$? = $ac_status" >&5
+  (exit $ac_status); }; } &&
+	 { ac_try='test -s conftest.$ac_objext'
+  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
+  (eval $ac_try) 2>&5
+  ac_status=$?
+  echo "$as_me:$LINENO: \$? = $ac_status" >&5
+  (exit $ac_status); }; }; then
+  ac_header_compiler=yes
+else
+  echo "$as_me: failed program was:" >&5
+sed 's/^/| /' conftest.$ac_ext >&5
+
+ac_header_compiler=no
+fi
+rm -f conftest.err conftest.$ac_objext conftest.$ac_ext
+echo "$as_me:$LINENO: result: $ac_header_compiler" >&5
+echo "${ECHO_T}$ac_header_compiler" >&6
+
+# Is the header present?
+echo "$as_me:$LINENO: checking $ac_header presence" >&5
+echo $ECHO_N "checking $ac_header presence... $ECHO_C" >&6
+cat >conftest.$ac_ext <<_ACEOF
+/* confdefs.h.  */
+_ACEOF
+cat confdefs.h >>conftest.$ac_ext
+cat >>conftest.$ac_ext <<_ACEOF
+/* end confdefs.h.  */
+#include <$ac_header>
+_ACEOF
+if { (eval echo "$as_me:$LINENO: \"$ac_cpp conftest.$ac_ext\"") >&5
+  (eval $ac_cpp conftest.$ac_ext) 2>conftest.er1
+  ac_status=$?
+  grep -v '^ *+' conftest.er1 >conftest.err
+  rm -f conftest.er1
+  cat conftest.err >&5
+  echo "$as_me:$LINENO: \$? = $ac_status" >&5
+  (exit $ac_status); } >/dev/null; then
+  if test -s conftest.err; then
+    ac_cpp_err=$ac_c_preproc_warn_flag
+    ac_cpp_err=$ac_cpp_err$ac_c_werror_flag
+  else
+    ac_cpp_err=
+  fi
+else
+  ac_cpp_err=yes
+fi
+if test -z "$ac_cpp_err"; then
+  ac_header_preproc=yes
+else
+  echo "$as_me: failed program was:" >&5
+sed 's/^/| /' conftest.$ac_ext >&5
+
+  ac_header_preproc=no
+fi
+rm -f conftest.err conftest.$ac_ext
+echo "$as_me:$LINENO: result: $ac_header_preproc" >&5
+echo "${ECHO_T}$ac_header_preproc" >&6
+
+# So?  What about this header?
+case $ac_header_compiler:$ac_header_preproc:$ac_c_preproc_warn_flag in
+  yes:no: )
+    { echo "$as_me:$LINENO: WARNING: $ac_header: accepted by the compiler, rejected by the preprocessor!" >&5
+echo "$as_me: WARNING: $ac_header: accepted by the compiler, rejected by the preprocessor!" >&2;}
+    { echo "$as_me:$LINENO: WARNING: $ac_header: proceeding with the compiler's result" >&5
+echo "$as_me: WARNING: $ac_header: proceeding with the compiler's result" >&2;}
+    ac_header_preproc=yes
+    ;;
+  no:yes:* )
+    { echo "$as_me:$LINENO: WARNING: $ac_header: present but cannot be compiled" >&5
+echo "$as_me: WARNING: $ac_header: present but cannot be compiled" >&2;}
+    { echo "$as_me:$LINENO: WARNING: $ac_header:     check for missing prerequisite headers?" >&5
+echo "$as_me: WARNING: $ac_header:     check for missing prerequisite headers?" >&2;}
+    { echo "$as_me:$LINENO: WARNING: $ac_header: see the Autoconf documentation" >&5
+echo "$as_me: WARNING: $ac_header: see the Autoconf documentation" >&2;}
+    { echo "$as_me:$LINENO: WARNING: $ac_header:     section \"Present But Cannot Be Compiled\"" >&5
+echo "$as_me: WARNING: $ac_header:     section \"Present But Cannot Be Compiled\"" >&2;}
+    { echo "$as_me:$LINENO: WARNING: $ac_header: proceeding with the preprocessor's result" >&5
+echo "$as_me: WARNING: $ac_header: proceeding with the preprocessor's result" >&2;}
+    { echo "$as_me:$LINENO: WARNING: $ac_header: in the future, the compiler will take precedence" >&5
+echo "$as_me: WARNING: $ac_header: in the future, the compiler will take precedence" >&2;}
+    (
+      cat <<\_ASBOX
+## ------------------------------------------ ##
+## Report this to the AC_PACKAGE_NAME lists.  ##
+## ------------------------------------------ ##
+_ASBOX
+    ) |
+      sed "s/^/$as_me: WARNING:     /" >&2
+    ;;
+esac
+echo "$as_me:$LINENO: checking for $ac_header" >&5
+echo $ECHO_N "checking for $ac_header... $ECHO_C" >&6
+if eval "test \"\${$as_ac_Header+set}\" = set"; then
+  echo $ECHO_N "(cached) $ECHO_C" >&6
 else
-  echo "$ac_t""no" 1>&6
+  eval "$as_ac_Header=\$ac_header_preproc"
+fi
+echo "$as_me:$LINENO: result: `eval echo '${'$as_ac_Header'}'`" >&5
+echo "${ECHO_T}`eval echo '${'$as_ac_Header'}'`" >&6
+
 fi
+if test `eval echo '${'$as_ac_Header'}'` = yes; then
+  cat >>confdefs.h <<_ACEOF
+#define `echo "HAVE_$ac_header" | $as_tr_cpp` 1
+_ACEOF
+
+fi
+
 done
 
 
-echo $ac_n "checking for libevent directory""... $ac_c" 1>&6
-echo "configure:1136: checking for libevent directory" >&5
+echo "$as_me:$LINENO: checking for libevent directory" >&5
+echo $ECHO_N "checking for libevent directory... $ECHO_C" >&6
 if test -d ../libevent ; then
    LIBEVENT=../libevent
 elif test -d libevent ; then
    LIBEVENT=libevent
 else
-   echo "$ac_t""not found" 1>&6
+   echo "$as_me:$LINENO: result: not found" >&5
+echo "${ECHO_T}not found" >&6
    echo "Cannot find libevent library; exiting"
    exit 1
 fi
 
-echo "$ac_t""$LIBEVENT" 1>&6
+echo "$as_me:$LINENO: result: $LIBEVENT" >&5
+echo "${ECHO_T}$LIBEVENT" >&6
 
 
 
-echo $ac_n "checking for working const""... $ac_c" 1>&6
-echo "configure:1152: checking for working const" >&5
-if eval "test \"`echo '$''{'ac_cv_c_const'+set}'`\" = set"; then
-  echo $ac_n "(cached) $ac_c" 1>&6
+echo "$as_me:$LINENO: checking for an ANSI C-conforming const" >&5
+echo $ECHO_N "checking for an ANSI C-conforming const... $ECHO_C" >&6
+if test "${ac_cv_c_const+set}" = set; then
+  echo $ECHO_N "(cached) $ECHO_C" >&6
 else
-  cat > conftest.$ac_ext <<EOF
-#line 1157 "configure"
-#include "confdefs.h"
-
-int main() {
+  cat >conftest.$ac_ext <<_ACEOF
+/* confdefs.h.  */
+_ACEOF
+cat confdefs.h >>conftest.$ac_ext
+cat >>conftest.$ac_ext <<_ACEOF
+/* end confdefs.h.  */
 
+int
+main ()
+{
+/* FIXME: Include the comments suggested by Paul. */
+#ifndef __cplusplus
 /* Ultrix mips cc rejects this.  */
-typedef int charset[2]; const charset x;
+  typedef int charset[2];
+  const charset x;
 /* SunOS 4.1.1 cc rejects this.  */
 char const *const *ccp;
 char **p;
@@ -1167,8 +3164,9 @@ char **p;
 struct point {int x, y;};
 static struct point const zero = {0,0};
 /* AIX XL C 1.02.0.0 rejects this.
-   It does not let you subtract one const X* pointer from another in an arm
-   of an if-expression whose if-part is not a constant expression */
+     It does not let you subtract one const X* pointer from another in
+     an arm of an if-expression whose if-part is not a constant
+     expression */
 const char *g = "string";
 ccp = &g + (g ? g-g : 0);
 /* HPUX 7.0 cc rejects these. */
@@ -1199,222 +3197,393 @@ ccp = (char const *const *) p;
 { /* ULTRIX-32 V3.1 (Rev 9) vcc rejects this */
   const int foo = 10;
 }
+#endif
 
-; return 0; }
-EOF
-if { (eval echo configure:1206: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
-  rm -rf conftest*
+  ;
+  return 0;
+}
+_ACEOF
+rm -f conftest.$ac_objext
+if { (eval echo "$as_me:$LINENO: \"$ac_compile\"") >&5
+  (eval $ac_compile) 2>conftest.er1
+  ac_status=$?
+  grep -v '^ *+' conftest.er1 >conftest.err
+  rm -f conftest.er1
+  cat conftest.err >&5
+  echo "$as_me:$LINENO: \$? = $ac_status" >&5
+  (exit $ac_status); } &&
+	 { ac_try='test -z "$ac_c_werror_flag"
+			 || test ! -s conftest.err'
+  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
+  (eval $ac_try) 2>&5
+  ac_status=$?
+  echo "$as_me:$LINENO: \$? = $ac_status" >&5
+  (exit $ac_status); }; } &&
+	 { ac_try='test -s conftest.$ac_objext'
+  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
+  (eval $ac_try) 2>&5
+  ac_status=$?
+  echo "$as_me:$LINENO: \$? = $ac_status" >&5
+  (exit $ac_status); }; }; then
   ac_cv_c_const=yes
 else
-  echo "configure: failed program was:" >&5
-  cat conftest.$ac_ext >&5
-  rm -rf conftest*
+  echo "$as_me: failed program was:" >&5
+sed 's/^/| /' conftest.$ac_ext >&5
+
   ac_cv_c_const=no
 fi
-rm -f conftest*
+rm -f conftest.err conftest.$ac_objext conftest.$ac_ext
 fi
-
-echo "$ac_t""$ac_cv_c_const" 1>&6
+echo "$as_me:$LINENO: result: $ac_cv_c_const" >&5
+echo "${ECHO_T}$ac_cv_c_const" >&6
 if test $ac_cv_c_const = no; then
-  cat >> confdefs.h <<\EOF
+
+cat >>confdefs.h <<\_ACEOF
 #define const 
-EOF
+_ACEOF
 
 fi
 
-echo $ac_n "checking for pid_t""... $ac_c" 1>&6
-echo "configure:1227: checking for pid_t" >&5
-if eval "test \"`echo '$''{'ac_cv_type_pid_t'+set}'`\" = set"; then
-  echo $ac_n "(cached) $ac_c" 1>&6
-else
-  cat > conftest.$ac_ext <<EOF
-#line 1232 "configure"
-#include "confdefs.h"
-#include <sys/types.h>
-#if STDC_HEADERS
-#include <stdlib.h>
-#include <stddef.h>
-#endif
-EOF
-if (eval "$ac_cpp conftest.$ac_ext") 2>&5 |
-  egrep "(^|[^a-zA-Z_0-9])pid_t[^a-zA-Z_0-9]" >/dev/null 2>&1; then
-  rm -rf conftest*
+echo "$as_me:$LINENO: checking for pid_t" >&5
+echo $ECHO_N "checking for pid_t... $ECHO_C" >&6
+if test "${ac_cv_type_pid_t+set}" = set; then
+  echo $ECHO_N "(cached) $ECHO_C" >&6
+else
+  cat >conftest.$ac_ext <<_ACEOF
+/* confdefs.h.  */
+_ACEOF
+cat confdefs.h >>conftest.$ac_ext
+cat >>conftest.$ac_ext <<_ACEOF
+/* end confdefs.h.  */
+$ac_includes_default
+int
+main ()
+{
+if ((pid_t *) 0)
+  return 0;
+if (sizeof (pid_t))
+  return 0;
+  ;
+  return 0;
+}
+_ACEOF
+rm -f conftest.$ac_objext
+if { (eval echo "$as_me:$LINENO: \"$ac_compile\"") >&5
+  (eval $ac_compile) 2>conftest.er1
+  ac_status=$?
+  grep -v '^ *+' conftest.er1 >conftest.err
+  rm -f conftest.er1
+  cat conftest.err >&5
+  echo "$as_me:$LINENO: \$? = $ac_status" >&5
+  (exit $ac_status); } &&
+	 { ac_try='test -z "$ac_c_werror_flag"
+			 || test ! -s conftest.err'
+  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
+  (eval $ac_try) 2>&5
+  ac_status=$?
+  echo "$as_me:$LINENO: \$? = $ac_status" >&5
+  (exit $ac_status); }; } &&
+	 { ac_try='test -s conftest.$ac_objext'
+  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
+  (eval $ac_try) 2>&5
+  ac_status=$?
+  echo "$as_me:$LINENO: \$? = $ac_status" >&5
+  (exit $ac_status); }; }; then
   ac_cv_type_pid_t=yes
 else
-  rm -rf conftest*
+  echo "$as_me: failed program was:" >&5
+sed 's/^/| /' conftest.$ac_ext >&5
+
   ac_cv_type_pid_t=no
 fi
-rm -f conftest*
-
+rm -f conftest.err conftest.$ac_objext conftest.$ac_ext
 fi
-echo "$ac_t""$ac_cv_type_pid_t" 1>&6
-if test $ac_cv_type_pid_t = no; then
-  cat >> confdefs.h <<\EOF
+echo "$as_me:$LINENO: result: $ac_cv_type_pid_t" >&5
+echo "${ECHO_T}$ac_cv_type_pid_t" >&6
+if test $ac_cv_type_pid_t = yes; then
+  :
+else
+
+cat >>confdefs.h <<_ACEOF
 #define pid_t int
-EOF
+_ACEOF
 
 fi
 
-echo $ac_n "checking for size_t""... $ac_c" 1>&6
-echo "configure:1260: checking for size_t" >&5
-if eval "test \"`echo '$''{'ac_cv_type_size_t'+set}'`\" = set"; then
-  echo $ac_n "(cached) $ac_c" 1>&6
-else
-  cat > conftest.$ac_ext <<EOF
-#line 1265 "configure"
-#include "confdefs.h"
-#include <sys/types.h>
-#if STDC_HEADERS
-#include <stdlib.h>
-#include <stddef.h>
-#endif
-EOF
-if (eval "$ac_cpp conftest.$ac_ext") 2>&5 |
-  egrep "(^|[^a-zA-Z_0-9])size_t[^a-zA-Z_0-9]" >/dev/null 2>&1; then
-  rm -rf conftest*
+echo "$as_me:$LINENO: checking for size_t" >&5
+echo $ECHO_N "checking for size_t... $ECHO_C" >&6
+if test "${ac_cv_type_size_t+set}" = set; then
+  echo $ECHO_N "(cached) $ECHO_C" >&6
+else
+  cat >conftest.$ac_ext <<_ACEOF
+/* confdefs.h.  */
+_ACEOF
+cat confdefs.h >>conftest.$ac_ext
+cat >>conftest.$ac_ext <<_ACEOF
+/* end confdefs.h.  */
+$ac_includes_default
+int
+main ()
+{
+if ((size_t *) 0)
+  return 0;
+if (sizeof (size_t))
+  return 0;
+  ;
+  return 0;
+}
+_ACEOF
+rm -f conftest.$ac_objext
+if { (eval echo "$as_me:$LINENO: \"$ac_compile\"") >&5
+  (eval $ac_compile) 2>conftest.er1
+  ac_status=$?
+  grep -v '^ *+' conftest.er1 >conftest.err
+  rm -f conftest.er1
+  cat conftest.err >&5
+  echo "$as_me:$LINENO: \$? = $ac_status" >&5
+  (exit $ac_status); } &&
+	 { ac_try='test -z "$ac_c_werror_flag"
+			 || test ! -s conftest.err'
+  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
+  (eval $ac_try) 2>&5
+  ac_status=$?
+  echo "$as_me:$LINENO: \$? = $ac_status" >&5
+  (exit $ac_status); }; } &&
+	 { ac_try='test -s conftest.$ac_objext'
+  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
+  (eval $ac_try) 2>&5
+  ac_status=$?
+  echo "$as_me:$LINENO: \$? = $ac_status" >&5
+  (exit $ac_status); }; }; then
   ac_cv_type_size_t=yes
 else
-  rm -rf conftest*
+  echo "$as_me: failed program was:" >&5
+sed 's/^/| /' conftest.$ac_ext >&5
+
   ac_cv_type_size_t=no
 fi
-rm -f conftest*
-
+rm -f conftest.err conftest.$ac_objext conftest.$ac_ext
 fi
-echo "$ac_t""$ac_cv_type_size_t" 1>&6
-if test $ac_cv_type_size_t = no; then
-  cat >> confdefs.h <<\EOF
+echo "$as_me:$LINENO: result: $ac_cv_type_size_t" >&5
+echo "${ECHO_T}$ac_cv_type_size_t" >&6
+if test $ac_cv_type_size_t = yes; then
+  :
+else
+
+cat >>confdefs.h <<_ACEOF
 #define size_t unsigned
-EOF
+_ACEOF
 
 fi
 
-echo $ac_n "checking whether time.h and sys/time.h may both be included""... $ac_c" 1>&6
-echo "configure:1293: checking whether time.h and sys/time.h may both be included" >&5
-if eval "test \"`echo '$''{'ac_cv_header_time'+set}'`\" = set"; then
-  echo $ac_n "(cached) $ac_c" 1>&6
+echo "$as_me:$LINENO: checking whether time.h and sys/time.h may both be included" >&5
+echo $ECHO_N "checking whether time.h and sys/time.h may both be included... $ECHO_C" >&6
+if test "${ac_cv_header_time+set}" = set; then
+  echo $ECHO_N "(cached) $ECHO_C" >&6
 else
-  cat > conftest.$ac_ext <<EOF
-#line 1298 "configure"
-#include "confdefs.h"
+  cat >conftest.$ac_ext <<_ACEOF
+/* confdefs.h.  */
+_ACEOF
+cat confdefs.h >>conftest.$ac_ext
+cat >>conftest.$ac_ext <<_ACEOF
+/* end confdefs.h.  */
 #include <sys/types.h>
 #include <sys/time.h>
 #include <time.h>
-int main() {
-struct tm *tp;
-; return 0; }
-EOF
-if { (eval echo configure:1307: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
-  rm -rf conftest*
+
+int
+main ()
+{
+if ((struct tm *) 0)
+return 0;
+  ;
+  return 0;
+}
+_ACEOF
+rm -f conftest.$ac_objext
+if { (eval echo "$as_me:$LINENO: \"$ac_compile\"") >&5
+  (eval $ac_compile) 2>conftest.er1
+  ac_status=$?
+  grep -v '^ *+' conftest.er1 >conftest.err
+  rm -f conftest.er1
+  cat conftest.err >&5
+  echo "$as_me:$LINENO: \$? = $ac_status" >&5
+  (exit $ac_status); } &&
+	 { ac_try='test -z "$ac_c_werror_flag"
+			 || test ! -s conftest.err'
+  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
+  (eval $ac_try) 2>&5
+  ac_status=$?
+  echo "$as_me:$LINENO: \$? = $ac_status" >&5
+  (exit $ac_status); }; } &&
+	 { ac_try='test -s conftest.$ac_objext'
+  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
+  (eval $ac_try) 2>&5
+  ac_status=$?
+  echo "$as_me:$LINENO: \$? = $ac_status" >&5
+  (exit $ac_status); }; }; then
   ac_cv_header_time=yes
 else
-  echo "configure: failed program was:" >&5
-  cat conftest.$ac_ext >&5
-  rm -rf conftest*
+  echo "$as_me: failed program was:" >&5
+sed 's/^/| /' conftest.$ac_ext >&5
+
   ac_cv_header_time=no
 fi
-rm -f conftest*
+rm -f conftest.err conftest.$ac_objext conftest.$ac_ext
 fi
-
-echo "$ac_t""$ac_cv_header_time" 1>&6
+echo "$as_me:$LINENO: result: $ac_cv_header_time" >&5
+echo "${ECHO_T}$ac_cv_header_time" >&6
 if test $ac_cv_header_time = yes; then
-  cat >> confdefs.h <<\EOF
+
+cat >>confdefs.h <<\_ACEOF
 #define TIME_WITH_SYS_TIME 1
-EOF
+_ACEOF
 
 fi
 
 
-if test $ac_cv_prog_gcc = yes; then
-    echo $ac_n "checking whether ${CC-cc} needs -traditional""... $ac_c" 1>&6
-echo "configure:1330: checking whether ${CC-cc} needs -traditional" >&5
-if eval "test \"`echo '$''{'ac_cv_prog_gcc_traditional'+set}'`\" = set"; then
-  echo $ac_n "(cached) $ac_c" 1>&6
+if test $ac_cv_c_compiler_gnu = yes; then
+    echo "$as_me:$LINENO: checking whether $CC needs -traditional" >&5
+echo $ECHO_N "checking whether $CC needs -traditional... $ECHO_C" >&6
+if test "${ac_cv_prog_gcc_traditional+set}" = set; then
+  echo $ECHO_N "(cached) $ECHO_C" >&6
 else
     ac_pattern="Autoconf.*'x'"
-  cat > conftest.$ac_ext <<EOF
-#line 1336 "configure"
-#include "confdefs.h"
+  cat >conftest.$ac_ext <<_ACEOF
+/* confdefs.h.  */
+_ACEOF
+cat confdefs.h >>conftest.$ac_ext
+cat >>conftest.$ac_ext <<_ACEOF
+/* end confdefs.h.  */
 #include <sgtty.h>
 Autoconf TIOCGETP
-EOF
+_ACEOF
 if (eval "$ac_cpp conftest.$ac_ext") 2>&5 |
-  egrep "$ac_pattern" >/dev/null 2>&1; then
-  rm -rf conftest*
+  $EGREP "$ac_pattern" >/dev/null 2>&1; then
   ac_cv_prog_gcc_traditional=yes
 else
-  rm -rf conftest*
   ac_cv_prog_gcc_traditional=no
 fi
 rm -f conftest*
 
 
   if test $ac_cv_prog_gcc_traditional = no; then
-    cat > conftest.$ac_ext <<EOF
-#line 1354 "configure"
-#include "confdefs.h"
+    cat >conftest.$ac_ext <<_ACEOF
+/* confdefs.h.  */
+_ACEOF
+cat confdefs.h >>conftest.$ac_ext
+cat >>conftest.$ac_ext <<_ACEOF
+/* end confdefs.h.  */
 #include <termio.h>
 Autoconf TCGETA
-EOF
+_ACEOF
 if (eval "$ac_cpp conftest.$ac_ext") 2>&5 |
-  egrep "$ac_pattern" >/dev/null 2>&1; then
-  rm -rf conftest*
+  $EGREP "$ac_pattern" >/dev/null 2>&1; then
   ac_cv_prog_gcc_traditional=yes
 fi
 rm -f conftest*
 
   fi
 fi
-
-echo "$ac_t""$ac_cv_prog_gcc_traditional" 1>&6
+echo "$as_me:$LINENO: result: $ac_cv_prog_gcc_traditional" >&5
+echo "${ECHO_T}$ac_cv_prog_gcc_traditional" >&6
   if test $ac_cv_prog_gcc_traditional = yes; then
     CC="$CC -traditional"
   fi
 fi
 
-echo $ac_n "checking for 8-bit clean memcmp""... $ac_c" 1>&6
-echo "configure:1376: checking for 8-bit clean memcmp" >&5
-if eval "test \"`echo '$''{'ac_cv_func_memcmp_clean'+set}'`\" = set"; then
-  echo $ac_n "(cached) $ac_c" 1>&6
+echo "$as_me:$LINENO: checking for working memcmp" >&5
+echo $ECHO_N "checking for working memcmp... $ECHO_C" >&6
+if test "${ac_cv_func_memcmp_working+set}" = set; then
+  echo $ECHO_N "(cached) $ECHO_C" >&6
 else
   if test "$cross_compiling" = yes; then
-  ac_cv_func_memcmp_clean=no
+  ac_cv_func_memcmp_working=no
 else
-  cat > conftest.$ac_ext <<EOF
-#line 1384 "configure"
-#include "confdefs.h"
-
+  cat >conftest.$ac_ext <<_ACEOF
+/* confdefs.h.  */
+_ACEOF
+cat confdefs.h >>conftest.$ac_ext
+cat >>conftest.$ac_ext <<_ACEOF
+/* end confdefs.h.  */
+$ac_includes_default
+int
 main()
 {
+
+  /* Some versions of memcmp are not 8-bit clean.  */
   char c0 = 0x40, c1 = 0x80, c2 = 0x81;
-  exit(memcmp(&c0, &c2, 1) < 0 && memcmp(&c1, &c2, 1) < 0 ? 0 : 1);
-}
+  if (memcmp(&c0, &c2, 1) >= 0 || memcmp(&c1, &c2, 1) >= 0)
+    exit (1);
 
-EOF
-if { (eval echo configure:1394: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null
-then
-  ac_cv_func_memcmp_clean=yes
-else
-  echo "configure: failed program was:" >&5
-  cat conftest.$ac_ext >&5
-  rm -fr conftest*
-  ac_cv_func_memcmp_clean=no
-fi
-rm -fr conftest*
-fi
+  /* The Next x86 OpenStep bug shows up only when comparing 16 bytes
+     or more and with at least one buffer not starting on a 4-byte boundary.
+     William Lewis provided this test program.   */
+  {
+    char foo[21];
+    char bar[21];
+    int i;
+    for (i = 0; i < 4; i++)
+      {
+	char *a = foo + i;
+	char *b = bar + i;
+	strcpy (a, "--------01111111");
+	strcpy (b, "--------10000000");
+	if (memcmp (a, b, 16) >= 0)
+	  exit (1);
+      }
+    exit (0);
+  }
 
-fi
+  ;
+  return 0;
+}
+_ACEOF
+rm -f conftest$ac_exeext
+if { (eval echo "$as_me:$LINENO: \"$ac_link\"") >&5
+  (eval $ac_link) 2>&5
+  ac_status=$?
+  echo "$as_me:$LINENO: \$? = $ac_status" >&5
+  (exit $ac_status); } && { ac_try='./conftest$ac_exeext'
+  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
+  (eval $ac_try) 2>&5
+  ac_status=$?
+  echo "$as_me:$LINENO: \$? = $ac_status" >&5
+  (exit $ac_status); }; }; then
+  ac_cv_func_memcmp_working=yes
+else
+  echo "$as_me: program exited with status $ac_status" >&5
+echo "$as_me: failed program was:" >&5
+sed 's/^/| /' conftest.$ac_ext >&5
+
+( exit $ac_status )
+ac_cv_func_memcmp_working=no
+fi
+rm -f core *.core gmon.out bb.out conftest$ac_exeext conftest.$ac_objext conftest.$ac_ext
+fi
+fi
+echo "$as_me:$LINENO: result: $ac_cv_func_memcmp_working" >&5
+echo "${ECHO_T}$ac_cv_func_memcmp_working" >&6
+test $ac_cv_func_memcmp_working = no && case $LIBOBJS in
+    "memcmp.$ac_objext"   | \
+  *" memcmp.$ac_objext"   | \
+    "memcmp.$ac_objext "* | \
+  *" memcmp.$ac_objext "* ) ;;
+  *) LIBOBJS="$LIBOBJS memcmp.$ac_objext" ;;
+esac
 
-echo "$ac_t""$ac_cv_func_memcmp_clean" 1>&6
-test $ac_cv_func_memcmp_clean = no && LIBOBJS="$LIBOBJS memcmp.${ac_objext}"
 
-echo $ac_n "checking return type of signal handlers""... $ac_c" 1>&6
-echo "configure:1412: checking return type of signal handlers" >&5
-if eval "test \"`echo '$''{'ac_cv_type_signal'+set}'`\" = set"; then
-  echo $ac_n "(cached) $ac_c" 1>&6
-else
-  cat > conftest.$ac_ext <<EOF
-#line 1417 "configure"
-#include "confdefs.h"
+echo "$as_me:$LINENO: checking return type of signal handlers" >&5
+echo $ECHO_N "checking return type of signal handlers... $ECHO_C" >&6
+if test "${ac_cv_type_signal+set}" = set; then
+  echo $ECHO_N "(cached) $ECHO_C" >&6
+else
+  cat >conftest.$ac_ext <<_ACEOF
+/* confdefs.h.  */
+_ACEOF
+cat confdefs.h >>conftest.$ac_ext
+cat >>conftest.$ac_ext <<_ACEOF
+/* end confdefs.h.  */
 #include <sys/types.h>
 #include <signal.h>
 #ifdef signal
@@ -1426,185 +3595,358 @@ extern "C" void (*signal (int, void (*)(
 void (*signal ()) ();
 #endif
 
-int main() {
+int
+main ()
+{
 int i;
-; return 0; }
-EOF
-if { (eval echo configure:1434: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
-  rm -rf conftest*
+  ;
+  return 0;
+}
+_ACEOF
+rm -f conftest.$ac_objext
+if { (eval echo "$as_me:$LINENO: \"$ac_compile\"") >&5
+  (eval $ac_compile) 2>conftest.er1
+  ac_status=$?
+  grep -v '^ *+' conftest.er1 >conftest.err
+  rm -f conftest.er1
+  cat conftest.err >&5
+  echo "$as_me:$LINENO: \$? = $ac_status" >&5
+  (exit $ac_status); } &&
+	 { ac_try='test -z "$ac_c_werror_flag"
+			 || test ! -s conftest.err'
+  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
+  (eval $ac_try) 2>&5
+  ac_status=$?
+  echo "$as_me:$LINENO: \$? = $ac_status" >&5
+  (exit $ac_status); }; } &&
+	 { ac_try='test -s conftest.$ac_objext'
+  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
+  (eval $ac_try) 2>&5
+  ac_status=$?
+  echo "$as_me:$LINENO: \$? = $ac_status" >&5
+  (exit $ac_status); }; }; then
   ac_cv_type_signal=void
 else
-  echo "configure: failed program was:" >&5
-  cat conftest.$ac_ext >&5
-  rm -rf conftest*
+  echo "$as_me: failed program was:" >&5
+sed 's/^/| /' conftest.$ac_ext >&5
+
   ac_cv_type_signal=int
 fi
-rm -f conftest*
+rm -f conftest.err conftest.$ac_objext conftest.$ac_ext
 fi
+echo "$as_me:$LINENO: result: $ac_cv_type_signal" >&5
+echo "${ECHO_T}$ac_cv_type_signal" >&6
 
-echo "$ac_t""$ac_cv_type_signal" 1>&6
-cat >> confdefs.h <<EOF
+cat >>confdefs.h <<_ACEOF
 #define RETSIGTYPE $ac_cv_type_signal
-EOF
+_ACEOF
 
 
-echo $ac_n "checking for vprintf""... $ac_c" 1>&6
-echo "configure:1453: checking for vprintf" >&5
-if eval "test \"`echo '$''{'ac_cv_func_vprintf'+set}'`\" = set"; then
-  echo $ac_n "(cached) $ac_c" 1>&6
-else
-  cat > conftest.$ac_ext <<EOF
-#line 1458 "configure"
-#include "confdefs.h"
+
+for ac_func in vprintf
+do
+as_ac_var=`echo "ac_cv_func_$ac_func" | $as_tr_sh`
+echo "$as_me:$LINENO: checking for $ac_func" >&5
+echo $ECHO_N "checking for $ac_func... $ECHO_C" >&6
+if eval "test \"\${$as_ac_var+set}\" = set"; then
+  echo $ECHO_N "(cached) $ECHO_C" >&6
+else
+  cat >conftest.$ac_ext <<_ACEOF
+/* confdefs.h.  */
+_ACEOF
+cat confdefs.h >>conftest.$ac_ext
+cat >>conftest.$ac_ext <<_ACEOF
+/* end confdefs.h.  */
+/* Define $ac_func to an innocuous variant, in case <limits.h> declares $ac_func.
+   For example, HP-UX 11i <limits.h> declares gettimeofday.  */
+#define $ac_func innocuous_$ac_func
+
 /* System header to define __stub macros and hopefully few prototypes,
-    which can conflict with char vprintf(); below.  */
+    which can conflict with char $ac_func (); below.
+    Prefer <limits.h> to <assert.h> if __STDC__ is defined, since
+    <limits.h> exists even on freestanding compilers.  */
+
+#ifdef __STDC__
+# include <limits.h>
+#else
 #include <assert.h>
+#endif
+
+#undef $ac_func
+
 /* Override any gcc2 internal prototype to avoid an error.  */
+#ifdef __cplusplus
+extern "C"
+{
+#endif
 /* We use char because int might match the return type of a gcc2
     builtin and then its argument prototype would still apply.  */
-char vprintf();
-
-int main() {
-
+char $ac_func ();
 /* The GNU C library defines this for functions which it implements
     to always fail with ENOSYS.  Some functions are actually named
     something starting with __ and the normal name is an alias.  */
-#if defined (__stub_vprintf) || defined (__stub___vprintf)
+#if defined (__stub_$ac_func) || defined (__stub___$ac_func)
 choke me
 #else
-vprintf();
+char (*f) () = $ac_func;
+#endif
+#ifdef __cplusplus
+}
 #endif
 
-; return 0; }
-EOF
-if { (eval echo configure:1481: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
-  rm -rf conftest*
-  eval "ac_cv_func_vprintf=yes"
-else
-  echo "configure: failed program was:" >&5
-  cat conftest.$ac_ext >&5
-  rm -rf conftest*
-  eval "ac_cv_func_vprintf=no"
-fi
-rm -f conftest*
-fi
-
-if eval "test \"`echo '$ac_cv_func_'vprintf`\" = yes"; then
-  echo "$ac_t""yes" 1>&6
-  cat >> confdefs.h <<\EOF
-#define HAVE_VPRINTF 1
-EOF
-
-else
-  echo "$ac_t""no" 1>&6
-fi
+int
+main ()
+{
+return f != $ac_func;
+  ;
+  return 0;
+}
+_ACEOF
+rm -f conftest.$ac_objext conftest$ac_exeext
+if { (eval echo "$as_me:$LINENO: \"$ac_link\"") >&5
+  (eval $ac_link) 2>conftest.er1
+  ac_status=$?
+  grep -v '^ *+' conftest.er1 >conftest.err
+  rm -f conftest.er1
+  cat conftest.err >&5
+  echo "$as_me:$LINENO: \$? = $ac_status" >&5
+  (exit $ac_status); } &&
+	 { ac_try='test -z "$ac_c_werror_flag"
+			 || test ! -s conftest.err'
+  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
+  (eval $ac_try) 2>&5
+  ac_status=$?
+  echo "$as_me:$LINENO: \$? = $ac_status" >&5
+  (exit $ac_status); }; } &&
+	 { ac_try='test -s conftest$ac_exeext'
+  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
+  (eval $ac_try) 2>&5
+  ac_status=$?
+  echo "$as_me:$LINENO: \$? = $ac_status" >&5
+  (exit $ac_status); }; }; then
+  eval "$as_ac_var=yes"
+else
+  echo "$as_me: failed program was:" >&5
+sed 's/^/| /' conftest.$ac_ext >&5
+
+eval "$as_ac_var=no"
+fi
+rm -f conftest.err conftest.$ac_objext \
+      conftest$ac_exeext conftest.$ac_ext
+fi
+echo "$as_me:$LINENO: result: `eval echo '${'$as_ac_var'}'`" >&5
+echo "${ECHO_T}`eval echo '${'$as_ac_var'}'`" >&6
+if test `eval echo '${'$as_ac_var'}'` = yes; then
+  cat >>confdefs.h <<_ACEOF
+#define `echo "HAVE_$ac_func" | $as_tr_cpp` 1
+_ACEOF
+
+echo "$as_me:$LINENO: checking for _doprnt" >&5
+echo $ECHO_N "checking for _doprnt... $ECHO_C" >&6
+if test "${ac_cv_func__doprnt+set}" = set; then
+  echo $ECHO_N "(cached) $ECHO_C" >&6
+else
+  cat >conftest.$ac_ext <<_ACEOF
+/* confdefs.h.  */
+_ACEOF
+cat confdefs.h >>conftest.$ac_ext
+cat >>conftest.$ac_ext <<_ACEOF
+/* end confdefs.h.  */
+/* Define _doprnt to an innocuous variant, in case <limits.h> declares _doprnt.
+   For example, HP-UX 11i <limits.h> declares gettimeofday.  */
+#define _doprnt innocuous__doprnt
 
-if test "$ac_cv_func_vprintf" != yes; then
-echo $ac_n "checking for _doprnt""... $ac_c" 1>&6
-echo "configure:1505: checking for _doprnt" >&5
-if eval "test \"`echo '$''{'ac_cv_func__doprnt'+set}'`\" = set"; then
-  echo $ac_n "(cached) $ac_c" 1>&6
-else
-  cat > conftest.$ac_ext <<EOF
-#line 1510 "configure"
-#include "confdefs.h"
 /* System header to define __stub macros and hopefully few prototypes,
-    which can conflict with char _doprnt(); below.  */
+    which can conflict with char _doprnt (); below.
+    Prefer <limits.h> to <assert.h> if __STDC__ is defined, since
+    <limits.h> exists even on freestanding compilers.  */
+
+#ifdef __STDC__
+# include <limits.h>
+#else
 #include <assert.h>
+#endif
+
+#undef _doprnt
+
 /* Override any gcc2 internal prototype to avoid an error.  */
+#ifdef __cplusplus
+extern "C"
+{
+#endif
 /* We use char because int might match the return type of a gcc2
     builtin and then its argument prototype would still apply.  */
 char _doprnt();
-
-int main() {
-
 /* The GNU C library defines this for functions which it implements
     to always fail with ENOSYS.  Some functions are actually named
     something starting with __ and the normal name is an alias.  */
 #if defined (__stub__doprnt) || defined (__stub____doprnt)
 choke me
 #else
-_doprnt();
+char (*f) () = _doprnt;
+#endif
+#ifdef __cplusplus
+}
 #endif
 
-; return 0; }
-EOF
-if { (eval echo configure:1533: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
-  rm -rf conftest*
-  eval "ac_cv_func__doprnt=yes"
-else
-  echo "configure: failed program was:" >&5
-  cat conftest.$ac_ext >&5
-  rm -rf conftest*
-  eval "ac_cv_func__doprnt=no"
-fi
-rm -f conftest*
-fi
+int
+main ()
+{
+return f != _doprnt;
+  ;
+  return 0;
+}
+_ACEOF
+rm -f conftest.$ac_objext conftest$ac_exeext
+if { (eval echo "$as_me:$LINENO: \"$ac_link\"") >&5
+  (eval $ac_link) 2>conftest.er1
+  ac_status=$?
+  grep -v '^ *+' conftest.er1 >conftest.err
+  rm -f conftest.er1
+  cat conftest.err >&5
+  echo "$as_me:$LINENO: \$? = $ac_status" >&5
+  (exit $ac_status); } &&
+	 { ac_try='test -z "$ac_c_werror_flag"
+			 || test ! -s conftest.err'
+  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
+  (eval $ac_try) 2>&5
+  ac_status=$?
+  echo "$as_me:$LINENO: \$? = $ac_status" >&5
+  (exit $ac_status); }; } &&
+	 { ac_try='test -s conftest$ac_exeext'
+  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
+  (eval $ac_try) 2>&5
+  ac_status=$?
+  echo "$as_me:$LINENO: \$? = $ac_status" >&5
+  (exit $ac_status); }; }; then
+  ac_cv_func__doprnt=yes
+else
+  echo "$as_me: failed program was:" >&5
+sed 's/^/| /' conftest.$ac_ext >&5
+
+ac_cv_func__doprnt=no
+fi
+rm -f conftest.err conftest.$ac_objext \
+      conftest$ac_exeext conftest.$ac_ext
+fi
+echo "$as_me:$LINENO: result: $ac_cv_func__doprnt" >&5
+echo "${ECHO_T}$ac_cv_func__doprnt" >&6
+if test $ac_cv_func__doprnt = yes; then
 
-if eval "test \"`echo '$ac_cv_func_'_doprnt`\" = yes"; then
-  echo "$ac_t""yes" 1>&6
-  cat >> confdefs.h <<\EOF
+cat >>confdefs.h <<\_ACEOF
 #define HAVE_DOPRNT 1
-EOF
+_ACEOF
 
-else
-  echo "$ac_t""no" 1>&6
 fi
 
 fi
+done
+
+
+
+
+
+
+
 
 for ac_func in gethostname gettimeofday socket strdup strerror strtol
 do
-echo $ac_n "checking for $ac_func""... $ac_c" 1>&6
-echo "configure:1560: checking for $ac_func" >&5
-if eval "test \"`echo '$''{'ac_cv_func_$ac_func'+set}'`\" = set"; then
-  echo $ac_n "(cached) $ac_c" 1>&6
-else
-  cat > conftest.$ac_ext <<EOF
-#line 1565 "configure"
-#include "confdefs.h"
+as_ac_var=`echo "ac_cv_func_$ac_func" | $as_tr_sh`
+echo "$as_me:$LINENO: checking for $ac_func" >&5
+echo $ECHO_N "checking for $ac_func... $ECHO_C" >&6
+if eval "test \"\${$as_ac_var+set}\" = set"; then
+  echo $ECHO_N "(cached) $ECHO_C" >&6
+else
+  cat >conftest.$ac_ext <<_ACEOF
+/* confdefs.h.  */
+_ACEOF
+cat confdefs.h >>conftest.$ac_ext
+cat >>conftest.$ac_ext <<_ACEOF
+/* end confdefs.h.  */
+/* Define $ac_func to an innocuous variant, in case <limits.h> declares $ac_func.
+   For example, HP-UX 11i <limits.h> declares gettimeofday.  */
+#define $ac_func innocuous_$ac_func
+
 /* System header to define __stub macros and hopefully few prototypes,
-    which can conflict with char $ac_func(); below.  */
+    which can conflict with char $ac_func (); below.
+    Prefer <limits.h> to <assert.h> if __STDC__ is defined, since
+    <limits.h> exists even on freestanding compilers.  */
+
+#ifdef __STDC__
+# include <limits.h>
+#else
 #include <assert.h>
+#endif
+
+#undef $ac_func
+
 /* Override any gcc2 internal prototype to avoid an error.  */
+#ifdef __cplusplus
+extern "C"
+{
+#endif
 /* We use char because int might match the return type of a gcc2
     builtin and then its argument prototype would still apply.  */
 char $ac_func();
-
-int main() {
-
 /* The GNU C library defines this for functions which it implements
     to always fail with ENOSYS.  Some functions are actually named
     something starting with __ and the normal name is an alias.  */
 #if defined (__stub_$ac_func) || defined (__stub___$ac_func)
 choke me
 #else
-$ac_func();
+char (*f) () = $ac_func;
+#endif
+#ifdef __cplusplus
+}
 #endif
 
-; return 0; }
-EOF
-if { (eval echo configure:1588: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
-  rm -rf conftest*
-  eval "ac_cv_func_$ac_func=yes"
-else
-  echo "configure: failed program was:" >&5
-  cat conftest.$ac_ext >&5
-  rm -rf conftest*
-  eval "ac_cv_func_$ac_func=no"
-fi
-rm -f conftest*
-fi
-
-if eval "test \"`echo '$ac_cv_func_'$ac_func`\" = yes"; then
-  echo "$ac_t""yes" 1>&6
-    ac_tr_func=HAVE_`echo $ac_func | tr 'abcdefghijklmnopqrstuvwxyz' 'ABCDEFGHIJKLMNOPQRSTUVWXYZ'`
-  cat >> confdefs.h <<EOF
-#define $ac_tr_func 1
-EOF
+int
+main ()
+{
+return f != $ac_func;
+  ;
+  return 0;
+}
+_ACEOF
+rm -f conftest.$ac_objext conftest$ac_exeext
+if { (eval echo "$as_me:$LINENO: \"$ac_link\"") >&5
+  (eval $ac_link) 2>conftest.er1
+  ac_status=$?
+  grep -v '^ *+' conftest.er1 >conftest.err
+  rm -f conftest.er1
+  cat conftest.err >&5
+  echo "$as_me:$LINENO: \$? = $ac_status" >&5
+  (exit $ac_status); } &&
+	 { ac_try='test -z "$ac_c_werror_flag"
+			 || test ! -s conftest.err'
+  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
+  (eval $ac_try) 2>&5
+  ac_status=$?
+  echo "$as_me:$LINENO: \$? = $ac_status" >&5
+  (exit $ac_status); }; } &&
+	 { ac_try='test -s conftest$ac_exeext'
+  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
+  (eval $ac_try) 2>&5
+  ac_status=$?
+  echo "$as_me:$LINENO: \$? = $ac_status" >&5
+  (exit $ac_status); }; }; then
+  eval "$as_ac_var=yes"
+else
+  echo "$as_me: failed program was:" >&5
+sed 's/^/| /' conftest.$ac_ext >&5
+
+eval "$as_ac_var=no"
+fi
+rm -f conftest.err conftest.$ac_objext \
+      conftest$ac_exeext conftest.$ac_ext
+fi
+echo "$as_me:$LINENO: result: `eval echo '${'$as_ac_var'}'`" >&5
+echo "${ECHO_T}`eval echo '${'$as_ac_var'}'`" >&6
+if test `eval echo '${'$as_ac_var'}'` = yes; then
+  cat >>confdefs.h <<_ACEOF
+#define `echo "HAVE_$ac_func" | $as_tr_cpp` 1
+_ACEOF
  
-else
-  echo "$ac_t""no" 1>&6
 fi
 done
 
@@ -1620,47 +3962,55 @@ else
    OUTPUT="Makefile handlers/Makefile"
 fi
 
-trap '' 1 2 15
-cat > confcache <<\EOF
+          ac_config_files="$ac_config_files $OUTPUT"
+cat >confcache <<\_ACEOF
 # This file is a shell script that caches the results of configure
 # tests run on this system so they can be shared between configure
-# scripts and configure runs.  It is not useful on other systems.
-# If it contains results you don't want to keep, you may remove or edit it.
+# scripts and configure runs, see configure's option --config-cache.
+# It is not useful on other systems.  If it contains results you don't
+# want to keep, you may remove or edit it.
 #
-# By default, configure uses ./config.cache as the cache file,
-# creating it if it does not exist already.  You can give configure
-# the --cache-file=FILE option to use a different cache file; that is
-# what configure does when it calls configure scripts in
-# subdirectories, so they share the cache.
-# Giving --cache-file=/dev/null disables caching, for debugging configure.
-# config.status only pays attention to the cache file if you give it the
-# --recheck option to rerun configure.
+# config.status only pays attention to the cache file if you give it
+# the --recheck option to rerun configure.
 #
-EOF
+# `ac_cv_env_foo' variables (set or unset) will be overridden when
+# loading this file, other *unset* `ac_cv_foo' will be assigned the
+# following values.
+
+_ACEOF
+
 # The following way of writing the cache mishandles newlines in values,
 # but we know of no workaround that is simple, portable, and efficient.
 # So, don't put newlines in cache variables' values.
 # Ultrix sh set writes to stderr and can't be redirected directly,
 # and sets the high bit in the cache file unless we assign to the vars.
+{
 (set) 2>&1 |
   case `(ac_space=' '; set | grep ac_space) 2>&1` in
   *ac_space=\ *)
-    # `set' does not quote correctly, so add quotes (double-quote substitution
-    # turns \\\\ into \\, and sed turns \\ into \).
+      # `set' does not quote correctly, so add quotes (double-quote
+      # substitution turns \\\\ into \\, and sed turns \\ into \).
     sed -n \
-      -e "s/'/'\\\\''/g" \
-      -e "s/^\\([a-zA-Z0-9_]*_cv_[a-zA-Z0-9_]*\\)=\\(.*\\)/\\1=\${\\1='\\2'}/p"
+	"s/'/'\\\\''/g;
+	  s/^\\([_$as_cr_alnum]*_cv_[_$as_cr_alnum]*\\)=\\(.*\\)/\\1='\\2'/p"
     ;;
   *)
     # `set' quotes correctly as required by POSIX, so do not add quotes.
-    sed -n -e 's/^\([a-zA-Z0-9_]*_cv_[a-zA-Z0-9_]*\)=\(.*\)/\1=${\1=\2}/p'
+      sed -n \
+	"s/^\\([_$as_cr_alnum]*_cv_[_$as_cr_alnum]*\\)=\\(.*\\)/\\1=\\2/p"
     ;;
-  esac >> confcache
-if cmp -s $cache_file confcache; then
-  :
-else
+    esac;
+} |
+  sed '
+     t clear
+     : clear
+     s/^\([^=]*\)=\(.*[{}].*\)$/test "${\1+set}" = set || &/
+     t end
+     /^ac_cv_env/!s/^\([^=]*\)=\(.*\)$/\1=${\1=\2}/
+     : end' >>confcache
+if diff $cache_file confcache >/dev/null 2>&1; then :; else
   if test -w $cache_file; then
-    echo "updating cache $cache_file"
+    test "x$cache_file" != "x/dev/null" && echo "updating cache $cache_file"
     cat confcache > $cache_file
   else
     echo "not updating unwritable cache $cache_file"
@@ -1668,220 +4018,868 @@ else
 fi
 rm -f confcache
 
-trap 'rm -fr conftest* confdefs* core core.* *.core $ac_clean_files; exit 1' 1 2 15
-
 test "x$prefix" = xNONE && prefix=$ac_default_prefix
 # Let make expand exec_prefix.
 test "x$exec_prefix" = xNONE && exec_prefix='${prefix}'
 
-# Any assignment to VPATH causes Sun make to only execute
-# the first set of double-colon rules, so remove it if not needed.
-# If there is a colon in the path, we need to keep it.
+# VPATH may cause trouble with some makes, so we remove $(srcdir),
+# ${srcdir} and @srcdir@ from VPATH if srcdir is ".", strip leading and
+# trailing colons and then remove the whole line if VPATH becomes empty
+# (actually we leave an empty line to preserve line numbers).
 if test "x$srcdir" = x.; then
-  ac_vpsub='/^[ 	]*VPATH[ 	]*=[^:]*$/d'
+  ac_vpsub='/^[	 ]*VPATH[	 ]*=/{
+s/:*\$(srcdir):*/:/;
+s/:*\${srcdir}:*/:/;
+s/:*@srcdir@:*/:/;
+s/^\([^=]*=[	 ]*\):*/\1/;
+s/:*$//;
+s/^[^=]*=[	 ]*$//;
+}'
 fi
 
-trap 'rm -f $CONFIG_STATUS conftest*; exit 1' 1 2 15
-
 # Transform confdefs.h into DEFS.
 # Protect against shell expansion while executing Makefile rules.
 # Protect against Makefile macro expansion.
-cat > conftest.defs <<\EOF
-s%#define \([A-Za-z_][A-Za-z0-9_]*\) *\(.*\)%-D\1=\2%g
-s%[ 	`~#$^&*(){}\\|;'"<>?]%\\&%g
-s%\[%\\&%g
-s%\]%\\&%g
-s%\$%$$%g
-EOF
-DEFS=`sed -f conftest.defs confdefs.h | tr '\012' ' '`
-rm -f conftest.defs
+#
+# If the first sed substitution is executed (which looks for macros that
+# take arguments), then we branch to the quote section.  Otherwise,
+# look for a macro that doesn't take arguments.
+cat >confdef2opt.sed <<\_ACEOF
+t clear
+: clear
+s,^[	 ]*#[	 ]*define[	 ][	 ]*\([^	 (][^	 (]*([^)]*)\)[	 ]*\(.*\),-D\1=\2,g
+t quote
+s,^[	 ]*#[	 ]*define[	 ][	 ]*\([^	 ][^	 ]*\)[	 ]*\(.*\),-D\1=\2,g
+t quote
+d
+: quote
+s,[	 `~#$^&*(){}\\|;'"<>?],\\&,g
+s,\[,\\&,g
+s,\],\\&,g
+s,\$,$$,g
+p
+_ACEOF
+# We use echo to avoid assuming a particular line-breaking character.
+# The extra dot is to prevent the shell from consuming trailing
+# line-breaks from the sub-command output.  A line-break within
+# single-quotes doesn't work because, if this script is created in a
+# platform that uses two characters for line-breaks (e.g., DOS), tr
+# would break.
+ac_LF_and_DOT=`echo; echo .`
+DEFS=`sed -n -f confdef2opt.sed confdefs.h | tr "$ac_LF_and_DOT" ' .'`
+rm -f confdef2opt.sed
+
+
+ac_libobjs=
+ac_ltlibobjs=
+for ac_i in : $LIBOBJS; do test "x$ac_i" = x: && continue
+  # 1. Remove the extension, and $U if already installed.
+  ac_i=`echo "$ac_i" |
+	 sed 's/\$U\././;s/\.o$//;s/\.obj$//'`
+  # 2. Add them.
+  ac_libobjs="$ac_libobjs $ac_i\$U.$ac_objext"
+  ac_ltlibobjs="$ac_ltlibobjs $ac_i"'$U.lo'
+done
+LIBOBJS=$ac_libobjs
 
+LTLIBOBJS=$ac_ltlibobjs
 
-# Without the "./", some shells look in PATH for config.status.
-: ${CONFIG_STATUS=./config.status}
 
-echo creating $CONFIG_STATUS
-rm -f $CONFIG_STATUS
-cat > $CONFIG_STATUS <<EOF
-#! /bin/sh
-# Generated automatically by configure.
+
+: ${CONFIG_STATUS=./config.status}
+ac_clean_files_save=$ac_clean_files
+ac_clean_files="$ac_clean_files $CONFIG_STATUS"
+{ echo "$as_me:$LINENO: creating $CONFIG_STATUS" >&5
+echo "$as_me: creating $CONFIG_STATUS" >&6;}
+cat >$CONFIG_STATUS <<_ACEOF
+#! $SHELL
+# Generated by $as_me.
 # Run this file to recreate the current configuration.
-# This directory was configured as follows,
-# on host `(hostname || uname -n) 2>/dev/null | sed 1q`:
-#
-# $0 $ac_configure_args
-#
 # Compiler output produced by configure, useful for debugging
-# configure, is in ./config.log if it exists.
+# configure, is in config.log if it exists.
 
-ac_cs_usage="Usage: $CONFIG_STATUS [--recheck] [--version] [--help]"
-for ac_option
+debug=false
+ac_cs_recheck=false
+ac_cs_silent=false
+SHELL=\${CONFIG_SHELL-$SHELL}
+_ACEOF
+
+cat >>$CONFIG_STATUS <<\_ACEOF
+## --------------------- ##
+## M4sh Initialization.  ##
+## --------------------- ##
+
+# Be Bourne compatible
+if test -n "${ZSH_VERSION+set}" && (emulate sh) >/dev/null 2>&1; then
+  emulate sh
+  NULLCMD=:
+  # Zsh 3.x and 4.x performs word splitting on ${1+"$@"}, which
+  # is contrary to our usage.  Disable this feature.
+  alias -g '${1+"$@"}'='"$@"'
+elif test -n "${BASH_VERSION+set}" && (set -o posix) >/dev/null 2>&1; then
+  set -o posix
+fi
+DUALCASE=1; export DUALCASE # for MKS sh
+
+# Support unset when possible.
+if ( (MAIL=60; unset MAIL) || exit) >/dev/null 2>&1; then
+  as_unset=unset
+else
+  as_unset=false
+fi
+
+
+# Work around bugs in pre-3.0 UWIN ksh.
+$as_unset ENV MAIL MAILPATH
+PS1='$ '
+PS2='> '
+PS4='+ '
+
+# NLS nuisances.
+for as_var in \
+  LANG LANGUAGE LC_ADDRESS LC_ALL LC_COLLATE LC_CTYPE LC_IDENTIFICATION \
+  LC_MEASUREMENT LC_MESSAGES LC_MONETARY LC_NAME LC_NUMERIC LC_PAPER \
+  LC_TELEPHONE LC_TIME
+do
+  if (set +x; test -z "`(eval $as_var=C; export $as_var) 2>&1`"); then
+    eval $as_var=C; export $as_var
+  else
+    $as_unset $as_var
+  fi
+done
+
+# Required to use basename.
+if expr a : '\(a\)' >/dev/null 2>&1; then
+  as_expr=expr
+else
+  as_expr=false
+fi
+
+if (basename /) >/dev/null 2>&1 && test "X`basename / 2>&1`" = "X/"; then
+  as_basename=basename
+else
+  as_basename=false
+fi
+
+
+# Name of the executable.
+as_me=`$as_basename "$0" ||
+$as_expr X/"$0" : '.*/\([^/][^/]*\)/*$' \| \
+	 X"$0" : 'X\(//\)$' \| \
+	 X"$0" : 'X\(/\)$' \| \
+	 .     : '\(.\)' 2>/dev/null ||
+echo X/"$0" |
+    sed '/^.*\/\([^/][^/]*\)\/*$/{ s//\1/; q; }
+  	  /^X\/\(\/\/\)$/{ s//\1/; q; }
+  	  /^X\/\(\/\).*/{ s//\1/; q; }
+  	  s/.*/./; q'`
+
+
+# PATH needs CR, and LINENO needs CR and PATH.
+# Avoid depending upon Character Ranges.
+as_cr_letters='abcdefghijklmnopqrstuvwxyz'
+as_cr_LETTERS='ABCDEFGHIJKLMNOPQRSTUVWXYZ'
+as_cr_Letters=$as_cr_letters$as_cr_LETTERS
+as_cr_digits='0123456789'
+as_cr_alnum=$as_cr_Letters$as_cr_digits
+
+# The user is always right.
+if test "${PATH_SEPARATOR+set}" != set; then
+  echo "#! /bin/sh" >conf$$.sh
+  echo  "exit 0"   >>conf$$.sh
+  chmod +x conf$$.sh
+  if (PATH="/nonexistent;."; conf$$.sh) >/dev/null 2>&1; then
+    PATH_SEPARATOR=';'
+  else
+    PATH_SEPARATOR=:
+  fi
+  rm -f conf$$.sh
+fi
+
+
+  as_lineno_1=$LINENO
+  as_lineno_2=$LINENO
+  as_lineno_3=`(expr $as_lineno_1 + 1) 2>/dev/null`
+  test "x$as_lineno_1" != "x$as_lineno_2" &&
+  test "x$as_lineno_3"  = "x$as_lineno_2"  || {
+  # Find who we are.  Look in the path if we contain no path at all
+  # relative or not.
+  case $0 in
+    *[\\/]* ) as_myself=$0 ;;
+    *) as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
+for as_dir in $PATH
+do
+  IFS=$as_save_IFS
+  test -z "$as_dir" && as_dir=.
+  test -r "$as_dir/$0" && as_myself=$as_dir/$0 && break
+done
+
+       ;;
+  esac
+  # We did not find ourselves, most probably we were run as `sh COMMAND'
+  # in which case we are not to be found in the path.
+  if test "x$as_myself" = x; then
+    as_myself=$0
+  fi
+  if test ! -f "$as_myself"; then
+    { { echo "$as_me:$LINENO: error: cannot find myself; rerun with an absolute path" >&5
+echo "$as_me: error: cannot find myself; rerun with an absolute path" >&2;}
+   { (exit 1); exit 1; }; }
+  fi
+  case $CONFIG_SHELL in
+  '')
+    as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
+for as_dir in /bin$PATH_SEPARATOR/usr/bin$PATH_SEPARATOR$PATH
+do
+  IFS=$as_save_IFS
+  test -z "$as_dir" && as_dir=.
+  for as_base in sh bash ksh sh5; do
+	 case $as_dir in
+	 /*)
+	   if ("$as_dir/$as_base" -c '
+  as_lineno_1=$LINENO
+  as_lineno_2=$LINENO
+  as_lineno_3=`(expr $as_lineno_1 + 1) 2>/dev/null`
+  test "x$as_lineno_1" != "x$as_lineno_2" &&
+  test "x$as_lineno_3"  = "x$as_lineno_2" ') 2>/dev/null; then
+	     $as_unset BASH_ENV || test "${BASH_ENV+set}" != set || { BASH_ENV=; export BASH_ENV; }
+	     $as_unset ENV || test "${ENV+set}" != set || { ENV=; export ENV; }
+	     CONFIG_SHELL=$as_dir/$as_base
+	     export CONFIG_SHELL
+	     exec "$CONFIG_SHELL" "$0" ${1+"$@"}
+	   fi;;
+	 esac
+       done
+done
+;;
+  esac
+
+  # Create $as_me.lineno as a copy of $as_myself, but with $LINENO
+  # uniformly replaced by the line number.  The first 'sed' inserts a
+  # line-number line before each line; the second 'sed' does the real
+  # work.  The second script uses 'N' to pair each line-number line
+  # with the numbered line, and appends trailing '-' during
+  # substitution so that $LINENO is not a special case at line end.
+  # (Raja R Harinath suggested sed '=', and Paul Eggert wrote the
+  # second 'sed' script.  Blame Lee E. McMahon for sed's syntax.  :-)
+  sed '=' <$as_myself |
+    sed '
+      N
+      s,$,-,
+      : loop
+      s,^\(['$as_cr_digits']*\)\(.*\)[$]LINENO\([^'$as_cr_alnum'_]\),\1\2\1\3,
+      t loop
+      s,-$,,
+      s,^['$as_cr_digits']*\n,,
+    ' >$as_me.lineno &&
+  chmod +x $as_me.lineno ||
+    { { echo "$as_me:$LINENO: error: cannot create $as_me.lineno; rerun with a POSIX shell" >&5
+echo "$as_me: error: cannot create $as_me.lineno; rerun with a POSIX shell" >&2;}
+   { (exit 1); exit 1; }; }
+
+  # Don't try to exec as it changes $[0], causing all sort of problems
+  # (the dirname of $[0] is not the place where we might find the
+  # original and so on.  Autoconf is especially sensible to this).
+  . ./$as_me.lineno
+  # Exit status is that of the last command.
+  exit
+}
+
+
+case `echo "testing\c"; echo 1,2,3`,`echo -n testing; echo 1,2,3` in
+  *c*,-n*) ECHO_N= ECHO_C='
+' ECHO_T='	' ;;
+  *c*,*  ) ECHO_N=-n ECHO_C= ECHO_T= ;;
+  *)       ECHO_N= ECHO_C='\c' ECHO_T= ;;
+esac
+
+if expr a : '\(a\)' >/dev/null 2>&1; then
+  as_expr=expr
+else
+  as_expr=false
+fi
+
+rm -f conf$$ conf$$.exe conf$$.file
+echo >conf$$.file
+if ln -s conf$$.file conf$$ 2>/dev/null; then
+  # We could just check for DJGPP; but this test a) works b) is more generic
+  # and c) will remain valid once DJGPP supports symlinks (DJGPP 2.04).
+  if test -f conf$$.exe; then
+    # Don't use ln at all; we don't have any links
+    as_ln_s='cp -p'
+  else
+    as_ln_s='ln -s'
+  fi
+elif ln conf$$.file conf$$ 2>/dev/null; then
+  as_ln_s=ln
+else
+  as_ln_s='cp -p'
+fi
+rm -f conf$$ conf$$.exe conf$$.file
+
+if mkdir -p . 2>/dev/null; then
+  as_mkdir_p=:
+else
+  test -d ./-p && rmdir ./-p
+  as_mkdir_p=false
+fi
+
+as_executable_p="test -f"
+
+# Sed expression to map a string onto a valid CPP name.
+as_tr_cpp="eval sed 'y%*$as_cr_letters%P$as_cr_LETTERS%;s%[^_$as_cr_alnum]%_%g'"
+
+# Sed expression to map a string onto a valid variable name.
+as_tr_sh="eval sed 'y%*+%pp%;s%[^_$as_cr_alnum]%_%g'"
+
+
+# IFS
+# We need space, tab and new line, in precisely that order.
+as_nl='
+'
+IFS=" 	$as_nl"
+
+# CDPATH.
+$as_unset CDPATH
+
+exec 6>&1
+
+# Open the log real soon, to keep \$[0] and so on meaningful, and to
+# report actual input values of CONFIG_FILES etc. instead of their
+# values after options handling.  Logging --version etc. is OK.
+exec 5>>config.log
+{
+  echo
+  sed 'h;s/./-/g;s/^.../## /;s/...$/ ##/;p;x;p;x' <<_ASBOX
+## Running $as_me. ##
+_ASBOX
+} >&5
+cat >&5 <<_CSEOF
+
+This file was extended by $as_me, which was
+generated by GNU Autoconf 2.59.  Invocation command line was
+
+  CONFIG_FILES    = $CONFIG_FILES
+  CONFIG_HEADERS  = $CONFIG_HEADERS
+  CONFIG_LINKS    = $CONFIG_LINKS
+  CONFIG_COMMANDS = $CONFIG_COMMANDS
+  $ $0 $@
+
+_CSEOF
+echo "on `(hostname || uname -n) 2>/dev/null | sed 1q`" >&5
+echo >&5
+_ACEOF
+
+# Files that config.status was made for.
+if test -n "$ac_config_files"; then
+  echo "config_files=\"$ac_config_files\"" >>$CONFIG_STATUS
+fi
+
+if test -n "$ac_config_headers"; then
+  echo "config_headers=\"$ac_config_headers\"" >>$CONFIG_STATUS
+fi
+
+if test -n "$ac_config_links"; then
+  echo "config_links=\"$ac_config_links\"" >>$CONFIG_STATUS
+fi
+
+if test -n "$ac_config_commands"; then
+  echo "config_commands=\"$ac_config_commands\"" >>$CONFIG_STATUS
+fi
+
+cat >>$CONFIG_STATUS <<\_ACEOF
+
+ac_cs_usage="\
+\`$as_me' instantiates files from templates according to the
+current configuration.
+
+Usage: $0 [OPTIONS] [FILE]...
+
+  -h, --help       print this help, then exit
+  -V, --version    print version number, then exit
+  -q, --quiet      do not print progress messages
+  -d, --debug      don't remove temporary files
+      --recheck    update $as_me by reconfiguring in the same conditions
+  --file=FILE[:TEMPLATE]
+		   instantiate the configuration file FILE
+
+Configuration files:
+$config_files
+
+Report bugs to <bug-autoconf@gnu.org>."
+_ACEOF
+
+cat >>$CONFIG_STATUS <<_ACEOF
+ac_cs_version="\\
+config.status
+configured by $0, generated by GNU Autoconf 2.59,
+  with options \\"`echo "$ac_configure_args" | sed 's/[\\""\`\$]/\\\\&/g'`\\"
+
+Copyright (C) 2003 Free Software Foundation, Inc.
+This config.status script is free software; the Free Software Foundation
+gives unlimited permission to copy, distribute and modify it."
+srcdir=$srcdir
+INSTALL="$INSTALL"
+_ACEOF
+
+cat >>$CONFIG_STATUS <<\_ACEOF
+# If no file are specified by the user, then we need to provide default
+# value.  By we need to know if files were specified by the user.
+ac_need_defaults=:
+while test $# != 0
 do
-  case "\$ac_option" in
+  case $1 in
+  --*=*)
+    ac_option=`expr "x$1" : 'x\([^=]*\)='`
+    ac_optarg=`expr "x$1" : 'x[^=]*=\(.*\)'`
+    ac_shift=:
+    ;;
+  -*)
+    ac_option=$1
+    ac_optarg=$2
+    ac_shift=shift
+    ;;
+  *) # This is not an option, so the user has probably given explicit
+     # arguments.
+     ac_option=$1
+     ac_need_defaults=false;;
+  esac
+
+  case $ac_option in
+  # Handling of the options.
+_ACEOF
+cat >>$CONFIG_STATUS <<\_ACEOF
   -recheck | --recheck | --rechec | --reche | --rech | --rec | --re | --r)
-    echo "running \${CONFIG_SHELL-/bin/sh} $0 $ac_configure_args --no-create --no-recursion"
-    exec \${CONFIG_SHELL-/bin/sh} $0 $ac_configure_args --no-create --no-recursion ;;
-  -version | --version | --versio | --versi | --vers | --ver | --ve | --v)
-    echo "$CONFIG_STATUS generated by autoconf version 2.13"
-    exit 0 ;;
-  -help | --help | --hel | --he | --h)
-    echo "\$ac_cs_usage"; exit 0 ;;
-  *) echo "\$ac_cs_usage"; exit 1 ;;
+    ac_cs_recheck=: ;;
+  --version | --vers* | -V )
+    echo "$ac_cs_version"; exit 0 ;;
+  --he | --h)
+    # Conflict between --help and --header
+    { { echo "$as_me:$LINENO: error: ambiguous option: $1
+Try \`$0 --help' for more information." >&5
+echo "$as_me: error: ambiguous option: $1
+Try \`$0 --help' for more information." >&2;}
+   { (exit 1); exit 1; }; };;
+  --help | --hel | -h )
+    echo "$ac_cs_usage"; exit 0 ;;
+  --debug | --d* | -d )
+    debug=: ;;
+  --file | --fil | --fi | --f )
+    $ac_shift
+    CONFIG_FILES="$CONFIG_FILES $ac_optarg"
+    ac_need_defaults=false;;
+  --header | --heade | --head | --hea )
+    $ac_shift
+    CONFIG_HEADERS="$CONFIG_HEADERS $ac_optarg"
+    ac_need_defaults=false;;
+  -q | -quiet | --quiet | --quie | --qui | --qu | --q \
+  | -silent | --silent | --silen | --sile | --sil | --si | --s)
+    ac_cs_silent=: ;;
+
+  # This is an error.
+  -*) { { echo "$as_me:$LINENO: error: unrecognized option: $1
+Try \`$0 --help' for more information." >&5
+echo "$as_me: error: unrecognized option: $1
+Try \`$0 --help' for more information." >&2;}
+   { (exit 1); exit 1; }; } ;;
+
+  *) ac_config_targets="$ac_config_targets $1" ;;
+
   esac
+  shift
 done
 
-ac_given_srcdir=$srcdir
-ac_given_INSTALL="$INSTALL"
-
-trap 'rm -fr `echo "$OUTPUT" | sed "s/:[^ ]*//g"` conftest*; exit 1' 1 2 15
-EOF
-cat >> $CONFIG_STATUS <<EOF
+ac_configure_extra_args=
 
-# Protect against being on the right side of a sed subst in config.status.
-sed 's/%@/@@/; s/@%/@@/; s/%g\$/@g/; /@g\$/s/[\\\\&%]/\\\\&/g;
- s/@@/%@/; s/@@/@%/; s/@g\$/%g/' > conftest.subs <<\\CEOF
-$ac_vpsub
-$extrasub
-s%@SHELL@%$SHELL%g
-s%@CFLAGS@%$CFLAGS%g
-s%@CPPFLAGS@%$CPPFLAGS%g
-s%@CXXFLAGS@%$CXXFLAGS%g
-s%@FFLAGS@%$FFLAGS%g
-s%@DEFS@%$DEFS%g
-s%@LDFLAGS@%$LDFLAGS%g
-s%@LIBS@%$LIBS%g
-s%@exec_prefix@%$exec_prefix%g
-s%@prefix@%$prefix%g
-s%@program_transform_name@%$program_transform_name%g
-s%@bindir@%$bindir%g
-s%@sbindir@%$sbindir%g
-s%@libexecdir@%$libexecdir%g
-s%@datadir@%$datadir%g
-s%@sysconfdir@%$sysconfdir%g
-s%@sharedstatedir@%$sharedstatedir%g
-s%@localstatedir@%$localstatedir%g
-s%@libdir@%$libdir%g
-s%@includedir@%$includedir%g
-s%@oldincludedir@%$oldincludedir%g
-s%@infodir@%$infodir%g
-s%@mandir@%$mandir%g
-s%@CC@%$CC%g
-s%@INSTALL_PROGRAM@%$INSTALL_PROGRAM%g
-s%@INSTALL_SCRIPT@%$INSTALL_SCRIPT%g
-s%@INSTALL_DATA@%$INSTALL_DATA%g
-s%@RANLIB@%$RANLIB%g
-s%@CPP@%$CPP%g
-s%@LIBEVENT@%$LIBEVENT%g
-s%@LIBOBJS@%$LIBOBJS%g
+if $ac_cs_silent; then
+  exec 6>/dev/null
+  ac_configure_extra_args="$ac_configure_extra_args --silent"
+fi
+
+_ACEOF
+cat >>$CONFIG_STATUS <<_ACEOF
+if \$ac_cs_recheck; then
+  echo "running $SHELL $0 " $ac_configure_args \$ac_configure_extra_args " --no-create --no-recursion" >&6
+  exec $SHELL $0 $ac_configure_args \$ac_configure_extra_args --no-create --no-recursion
+fi
+
+_ACEOF
+
+
+
+
+
+cat >>$CONFIG_STATUS <<\_ACEOF
+for ac_config_target in $ac_config_targets
+do
+  case "$ac_config_target" in
+  # Handling of arguments.
+  "$OUTPUT" ) CONFIG_FILES="$CONFIG_FILES $OUTPUT" ;;
+  *) { { echo "$as_me:$LINENO: error: invalid argument: $ac_config_target" >&5
+echo "$as_me: error: invalid argument: $ac_config_target" >&2;}
+   { (exit 1); exit 1; }; };;
+  esac
+done
+
+# If the user did not use the arguments to specify the items to instantiate,
+# then the envvar interface is used.  Set only those that are not.
+# We use the long form for the default assignment because of an extremely
+# bizarre bug on SunOS 4.1.3.
+if $ac_need_defaults; then
+  test "${CONFIG_FILES+set}" = set || CONFIG_FILES=$config_files
+fi
+
+# Have a temporary directory for convenience.  Make it in the build tree
+# simply because there is no reason to put it here, and in addition,
+# creating and moving files from /tmp can sometimes cause problems.
+# Create a temporary directory, and hook for its removal unless debugging.
+$debug ||
+{
+  trap 'exit_status=$?; rm -rf $tmp && exit $exit_status' 0
+  trap '{ (exit 1); exit 1; }' 1 2 13 15
+}
+
+# Create a (secure) tmp directory for tmp files.
+
+{
+  tmp=`(umask 077 && mktemp -d -q "./confstatXXXXXX") 2>/dev/null` &&
+  test -n "$tmp" && test -d "$tmp"
+}  ||
+{
+  tmp=./confstat$$-$RANDOM
+  (umask 077 && mkdir $tmp)
+} ||
+{
+   echo "$me: cannot create a temporary directory in ." >&2
+   { (exit 1); exit 1; }
+}
+
+_ACEOF
+
+cat >>$CONFIG_STATUS <<_ACEOF
 
+#
+# CONFIG_FILES section.
+#
+
+# No need to generate the scripts if there are no CONFIG_FILES.
+# This happens for instance when ./config.status config.h
+if test -n "\$CONFIG_FILES"; then
+  # Protect against being on the right side of a sed subst in config.status.
+  sed 's/,@/@@/; s/@,/@@/; s/,;t t\$/@;t t/; /@;t t\$/s/[\\\\&,]/\\\\&/g;
+   s/@@/,@/; s/@@/@,/; s/@;t t\$/,;t t/' >\$tmp/subs.sed <<\\CEOF
+s,@SHELL@,$SHELL,;t t
+s,@PATH_SEPARATOR@,$PATH_SEPARATOR,;t t
+s,@PACKAGE_NAME@,$PACKAGE_NAME,;t t
+s,@PACKAGE_TARNAME@,$PACKAGE_TARNAME,;t t
+s,@PACKAGE_VERSION@,$PACKAGE_VERSION,;t t
+s,@PACKAGE_STRING@,$PACKAGE_STRING,;t t
+s,@PACKAGE_BUGREPORT@,$PACKAGE_BUGREPORT,;t t
+s,@exec_prefix@,$exec_prefix,;t t
+s,@prefix@,$prefix,;t t
+s,@program_transform_name@,$program_transform_name,;t t
+s,@bindir@,$bindir,;t t
+s,@sbindir@,$sbindir,;t t
+s,@libexecdir@,$libexecdir,;t t
+s,@datadir@,$datadir,;t t
+s,@sysconfdir@,$sysconfdir,;t t
+s,@sharedstatedir@,$sharedstatedir,;t t
+s,@localstatedir@,$localstatedir,;t t
+s,@libdir@,$libdir,;t t
+s,@includedir@,$includedir,;t t
+s,@oldincludedir@,$oldincludedir,;t t
+s,@infodir@,$infodir,;t t
+s,@mandir@,$mandir,;t t
+s,@build_alias@,$build_alias,;t t
+s,@host_alias@,$host_alias,;t t
+s,@target_alias@,$target_alias,;t t
+s,@DEFS@,$DEFS,;t t
+s,@ECHO_C@,$ECHO_C,;t t
+s,@ECHO_N@,$ECHO_N,;t t
+s,@ECHO_T@,$ECHO_T,;t t
+s,@LIBS@,$LIBS,;t t
+s,@CC@,$CC,;t t
+s,@CFLAGS@,$CFLAGS,;t t
+s,@LDFLAGS@,$LDFLAGS,;t t
+s,@CPPFLAGS@,$CPPFLAGS,;t t
+s,@ac_ct_CC@,$ac_ct_CC,;t t
+s,@EXEEXT@,$EXEEXT,;t t
+s,@OBJEXT@,$OBJEXT,;t t
+s,@INSTALL_PROGRAM@,$INSTALL_PROGRAM,;t t
+s,@INSTALL_SCRIPT@,$INSTALL_SCRIPT,;t t
+s,@INSTALL_DATA@,$INSTALL_DATA,;t t
+s,@RANLIB@,$RANLIB,;t t
+s,@ac_ct_RANLIB@,$ac_ct_RANLIB,;t t
+s,@CPP@,$CPP,;t t
+s,@EGREP@,$EGREP,;t t
+s,@LIBEVENT@,$LIBEVENT,;t t
+s,@LIBOBJS@,$LIBOBJS,;t t
+s,@LTLIBOBJS@,$LTLIBOBJS,;t t
 CEOF
-EOF
 
-cat >> $CONFIG_STATUS <<\EOF
+_ACEOF
 
+  cat >>$CONFIG_STATUS <<\_ACEOF
 # Split the substitutions into bite-sized pieces for seds with
 # small command number limits, like on Digital OSF/1 and HP-UX.
-ac_max_sed_cmds=90 # Maximum number of lines to put in a sed script.
-ac_file=1 # Number of current file.
+  ac_max_sed_lines=48
+  ac_sed_frag=1 # Number of current file.
 ac_beg=1 # First line for current file.
-ac_end=$ac_max_sed_cmds # Line after last line for current file.
+  ac_end=$ac_max_sed_lines # Line after last line for current file.
 ac_more_lines=:
-ac_sed_cmds=""
+  ac_sed_cmds=
 while $ac_more_lines; do
   if test $ac_beg -gt 1; then
-    sed "1,${ac_beg}d; ${ac_end}q" conftest.subs > conftest.s$ac_file
+      sed "1,${ac_beg}d; ${ac_end}q" $tmp/subs.sed >$tmp/subs.frag
   else
-    sed "${ac_end}q" conftest.subs > conftest.s$ac_file
+      sed "${ac_end}q" $tmp/subs.sed >$tmp/subs.frag
   fi
-  if test ! -s conftest.s$ac_file; then
+    if test ! -s $tmp/subs.frag; then
     ac_more_lines=false
-    rm -f conftest.s$ac_file
   else
+      # The purpose of the label and of the branching condition is to
+      # speed up the sed processing (if there are no `@' at all, there
+      # is no need to browse any of the substitutions).
+      # These are the two extra sed commands mentioned above.
+      (echo ':t
+  /@[a-zA-Z_][a-zA-Z_0-9]*@/!b' && cat $tmp/subs.frag) >$tmp/subs-$ac_sed_frag.sed
     if test -z "$ac_sed_cmds"; then
-      ac_sed_cmds="sed -f conftest.s$ac_file"
+	ac_sed_cmds="sed -f $tmp/subs-$ac_sed_frag.sed"
     else
-      ac_sed_cmds="$ac_sed_cmds | sed -f conftest.s$ac_file"
+	ac_sed_cmds="$ac_sed_cmds | sed -f $tmp/subs-$ac_sed_frag.sed"
     fi
-    ac_file=`expr $ac_file + 1`
+      ac_sed_frag=`expr $ac_sed_frag + 1`
     ac_beg=$ac_end
-    ac_end=`expr $ac_end + $ac_max_sed_cmds`
+      ac_end=`expr $ac_end + $ac_max_sed_lines`
   fi
 done
 if test -z "$ac_sed_cmds"; then
   ac_sed_cmds=cat
 fi
-EOF
+fi # test -n "$CONFIG_FILES"
 
-cat >> $CONFIG_STATUS <<EOF
-
-CONFIG_FILES=\${CONFIG_FILES-"$OUTPUT"}
-EOF
-cat >> $CONFIG_STATUS <<\EOF
-for ac_file in .. $CONFIG_FILES; do if test "x$ac_file" != x..; then
+_ACEOF
+cat >>$CONFIG_STATUS <<\_ACEOF
+for ac_file in : $CONFIG_FILES; do test "x$ac_file" = x: && continue
   # Support "outfile[:infile[:infile...]]", defaulting infile="outfile.in".
-  case "$ac_file" in
-  *:*) ac_file_in=`echo "$ac_file"|sed 's%[^:]*:%%'`
-       ac_file=`echo "$ac_file"|sed 's%:.*%%'` ;;
-  *) ac_file_in="${ac_file}.in" ;;
+  case $ac_file in
+  - | *:- | *:-:* ) # input from stdin
+	cat >$tmp/stdin
+	ac_file_in=`echo "$ac_file" | sed 's,[^:]*:,,'`
+	ac_file=`echo "$ac_file" | sed 's,:.*,,'` ;;
+  *:* ) ac_file_in=`echo "$ac_file" | sed 's,[^:]*:,,'`
+	ac_file=`echo "$ac_file" | sed 's,:.*,,'` ;;
+  * )   ac_file_in=$ac_file.in ;;
   esac
 
-  # Adjust a relative srcdir, top_srcdir, and INSTALL for subdirectories.
-
-  # Remove last slash and all that follows it.  Not all systems have dirname.
-  ac_dir=`echo $ac_file|sed 's%/[^/][^/]*$%%'`
-  if test "$ac_dir" != "$ac_file" && test "$ac_dir" != .; then
-    # The file is in a subdirectory.
-    test ! -d "$ac_dir" && mkdir "$ac_dir"
-    ac_dir_suffix="/`echo $ac_dir|sed 's%^\./%%'`"
+  # Compute @srcdir@, @top_srcdir@, and @INSTALL@ for subdirectories.
+  ac_dir=`(dirname "$ac_file") 2>/dev/null ||
+$as_expr X"$ac_file" : 'X\(.*[^/]\)//*[^/][^/]*/*$' \| \
+	 X"$ac_file" : 'X\(//\)[^/]' \| \
+	 X"$ac_file" : 'X\(//\)$' \| \
+	 X"$ac_file" : 'X\(/\)' \| \
+	 .     : '\(.\)' 2>/dev/null ||
+echo X"$ac_file" |
+    sed '/^X\(.*[^/]\)\/\/*[^/][^/]*\/*$/{ s//\1/; q; }
+  	  /^X\(\/\/\)[^/].*/{ s//\1/; q; }
+  	  /^X\(\/\/\)$/{ s//\1/; q; }
+  	  /^X\(\/\).*/{ s//\1/; q; }
+  	  s/.*/./; q'`
+  { if $as_mkdir_p; then
+    mkdir -p "$ac_dir"
+  else
+    as_dir="$ac_dir"
+    as_dirs=
+    while test ! -d "$as_dir"; do
+      as_dirs="$as_dir $as_dirs"
+      as_dir=`(dirname "$as_dir") 2>/dev/null ||
+$as_expr X"$as_dir" : 'X\(.*[^/]\)//*[^/][^/]*/*$' \| \
+	 X"$as_dir" : 'X\(//\)[^/]' \| \
+	 X"$as_dir" : 'X\(//\)$' \| \
+	 X"$as_dir" : 'X\(/\)' \| \
+	 .     : '\(.\)' 2>/dev/null ||
+echo X"$as_dir" |
+    sed '/^X\(.*[^/]\)\/\/*[^/][^/]*\/*$/{ s//\1/; q; }
+  	  /^X\(\/\/\)[^/].*/{ s//\1/; q; }
+  	  /^X\(\/\/\)$/{ s//\1/; q; }
+  	  /^X\(\/\).*/{ s//\1/; q; }
+  	  s/.*/./; q'`
+    done
+    test ! -n "$as_dirs" || mkdir $as_dirs
+  fi || { { echo "$as_me:$LINENO: error: cannot create directory \"$ac_dir\"" >&5
+echo "$as_me: error: cannot create directory \"$ac_dir\"" >&2;}
+   { (exit 1); exit 1; }; }; }
+
+  ac_builddir=.
+
+if test "$ac_dir" != .; then
+  ac_dir_suffix=/`echo "$ac_dir" | sed 's,^\.[\\/],,'`
     # A "../" for each directory in $ac_dir_suffix.
-    ac_dots=`echo $ac_dir_suffix|sed 's%/[^/]*%../%g'`
+  ac_top_builddir=`echo "$ac_dir_suffix" | sed 's,/[^\\/]*,../,g'`
   else
-    ac_dir_suffix= ac_dots=
+  ac_dir_suffix= ac_top_builddir=
   fi
 
-  case "$ac_given_srcdir" in
-  .)  srcdir=.
-      if test -z "$ac_dots"; then top_srcdir=.
-      else top_srcdir=`echo $ac_dots|sed 's%/$%%'`; fi ;;
-  /*) srcdir="$ac_given_srcdir$ac_dir_suffix"; top_srcdir="$ac_given_srcdir" ;;
+case $srcdir in
+  .)  # No --srcdir option.  We are building in place.
+    ac_srcdir=.
+    if test -z "$ac_top_builddir"; then
+       ac_top_srcdir=.
+    else
+       ac_top_srcdir=`echo $ac_top_builddir | sed 's,/$,,'`
+    fi ;;
+  [\\/]* | ?:[\\/]* )  # Absolute path.
+    ac_srcdir=$srcdir$ac_dir_suffix;
+    ac_top_srcdir=$srcdir ;;
   *) # Relative path.
-    srcdir="$ac_dots$ac_given_srcdir$ac_dir_suffix"
-    top_srcdir="$ac_dots$ac_given_srcdir" ;;
+    ac_srcdir=$ac_top_builddir$srcdir$ac_dir_suffix
+    ac_top_srcdir=$ac_top_builddir$srcdir ;;
+esac
+
+# Do not use `cd foo && pwd` to compute absolute paths, because
+# the directories may not exist.
+case `pwd` in
+.) ac_abs_builddir="$ac_dir";;
+*)
+  case "$ac_dir" in
+  .) ac_abs_builddir=`pwd`;;
+  [\\/]* | ?:[\\/]* ) ac_abs_builddir="$ac_dir";;
+  *) ac_abs_builddir=`pwd`/"$ac_dir";;
+  esac;;
+esac
+case $ac_abs_builddir in
+.) ac_abs_top_builddir=${ac_top_builddir}.;;
+*)
+  case ${ac_top_builddir}. in
+  .) ac_abs_top_builddir=$ac_abs_builddir;;
+  [\\/]* | ?:[\\/]* ) ac_abs_top_builddir=${ac_top_builddir}.;;
+  *) ac_abs_top_builddir=$ac_abs_builddir/${ac_top_builddir}.;;
+  esac;;
+esac
+case $ac_abs_builddir in
+.) ac_abs_srcdir=$ac_srcdir;;
+*)
+  case $ac_srcdir in
+  .) ac_abs_srcdir=$ac_abs_builddir;;
+  [\\/]* | ?:[\\/]* ) ac_abs_srcdir=$ac_srcdir;;
+  *) ac_abs_srcdir=$ac_abs_builddir/$ac_srcdir;;
+  esac;;
+esac
+case $ac_abs_builddir in
+.) ac_abs_top_srcdir=$ac_top_srcdir;;
+*)
+  case $ac_top_srcdir in
+  .) ac_abs_top_srcdir=$ac_abs_builddir;;
+  [\\/]* | ?:[\\/]* ) ac_abs_top_srcdir=$ac_top_srcdir;;
+  *) ac_abs_top_srcdir=$ac_abs_builddir/$ac_top_srcdir;;
+  esac;;
   esac
 
-  case "$ac_given_INSTALL" in
-  [/$]*) INSTALL="$ac_given_INSTALL" ;;
-  *) INSTALL="$ac_dots$ac_given_INSTALL" ;;
+
+  case $INSTALL in
+  [\\/$]* | ?:[\\/]* ) ac_INSTALL=$INSTALL ;;
+  *) ac_INSTALL=$ac_top_builddir$INSTALL ;;
   esac
 
-  echo creating "$ac_file"
+  if test x"$ac_file" != x-; then
+    { echo "$as_me:$LINENO: creating $ac_file" >&5
+echo "$as_me: creating $ac_file" >&6;}
   rm -f "$ac_file"
-  configure_input="Generated automatically from `echo $ac_file_in|sed 's%.*/%%'` by configure."
-  case "$ac_file" in
-  *Makefile*) ac_comsub="1i\\
-# $configure_input" ;;
-  *) ac_comsub= ;;
-  esac
-
-  ac_file_inputs=`echo $ac_file_in|sed -e "s%^%$ac_given_srcdir/%" -e "s%:% $ac_given_srcdir/%g"`
-  sed -e "$ac_comsub
-s%@configure_input@%$configure_input%g
-s%@srcdir@%$srcdir%g
-s%@top_srcdir@%$top_srcdir%g
-s%@INSTALL@%$INSTALL%g
-" $ac_file_inputs | (eval "$ac_sed_cmds") > $ac_file
-fi; done
-rm -f conftest.s*
+  fi
+  # Let's still pretend it is `configure' which instantiates (i.e., don't
+  # use $as_me), people would be surprised to read:
+  #    /* config.h.  Generated by config.status.  */
+  if test x"$ac_file" = x-; then
+    configure_input=
+  else
+    configure_input="$ac_file.  "
+  fi
+  configure_input=$configure_input"Generated from `echo $ac_file_in |
+				     sed 's,.*/,,'` by configure."
+
+  # First look for the input files in the build tree, otherwise in the
+  # src tree.
+  ac_file_inputs=`IFS=:
+    for f in $ac_file_in; do
+      case $f in
+      -) echo $tmp/stdin ;;
+      [\\/$]*)
+	 # Absolute (can't be DOS-style, as IFS=:)
+	 test -f "$f" || { { echo "$as_me:$LINENO: error: cannot find input file: $f" >&5
+echo "$as_me: error: cannot find input file: $f" >&2;}
+   { (exit 1); exit 1; }; }
+	 echo "$f";;
+      *) # Relative
+	 if test -f "$f"; then
+	   # Build tree
+	   echo "$f"
+	 elif test -f "$srcdir/$f"; then
+	   # Source tree
+	   echo "$srcdir/$f"
+	 else
+	   # /dev/null tree
+	   { { echo "$as_me:$LINENO: error: cannot find input file: $f" >&5
+echo "$as_me: error: cannot find input file: $f" >&2;}
+   { (exit 1); exit 1; }; }
+	 fi;;
+      esac
+    done` || { (exit 1); exit 1; }
+_ACEOF
+cat >>$CONFIG_STATUS <<_ACEOF
+  sed "$ac_vpsub
+$extrasub
+_ACEOF
+cat >>$CONFIG_STATUS <<\_ACEOF
+:t
+/@[a-zA-Z_][a-zA-Z_0-9]*@/!b
+s,@configure_input@,$configure_input,;t t
+s,@srcdir@,$ac_srcdir,;t t
+s,@abs_srcdir@,$ac_abs_srcdir,;t t
+s,@top_srcdir@,$ac_top_srcdir,;t t
+s,@abs_top_srcdir@,$ac_abs_top_srcdir,;t t
+s,@builddir@,$ac_builddir,;t t
+s,@abs_builddir@,$ac_abs_builddir,;t t
+s,@top_builddir@,$ac_top_builddir,;t t
+s,@abs_top_builddir@,$ac_abs_top_builddir,;t t
+s,@INSTALL@,$ac_INSTALL,;t t
+" $ac_file_inputs | (eval "$ac_sed_cmds") >$tmp/out
+  rm -f $tmp/stdin
+  if test x"$ac_file" != x-; then
+    mv $tmp/out $ac_file
+  else
+    cat $tmp/out
+    rm -f $tmp/out
+  fi
 
-EOF
-cat >> $CONFIG_STATUS <<EOF
+done
+_ACEOF
 
-EOF
-cat >> $CONFIG_STATUS <<\EOF
+cat >>$CONFIG_STATUS <<\_ACEOF
 
-exit 0
-EOF
+{ (exit 0); exit 0; }
+_ACEOF
 chmod +x $CONFIG_STATUS
-rm -fr confdefs* $ac_clean_files
-test "$no_create" = yes || ${CONFIG_SHELL-/bin/sh} $CONFIG_STATUS || exit 1
+ac_clean_files=$ac_clean_files_save
+
+
+# configure is writing to config.log, and then calls config.status.
+# config.status does its own redirection, appending to config.log.
+# Unfortunately, on DOS this fails, as config.log is still kept open
+# by configure, so config.status won't be able to write to it; its
+# output is simply discarded.  So we exec the FD to /dev/null,
+# effectively closing config.log, so it can be properly (re)opened and
+# appended to by config.status.  When coming back to configure, we
+# need to make the FD available again.
+if test "$no_create" != yes; then
+  ac_cs_success=:
+  ac_config_status_args=
+  test "$silent" = yes &&
+    ac_config_status_args="$ac_config_status_args --quiet"
+  exec 5>/dev/null
+  $SHELL $CONFIG_STATUS $ac_config_status_args || ac_cs_success=false
+  exec 5>>config.log
+  # Use ||, not &&, to avoid exiting from the if with $? = 1, which
+  # would make configure fail if this is the last instruction.
+  $ac_cs_success || { (exit 1); exit 1; }
+fi
 
diff -pruwN rp-l2tp-0.4/debug.c rp-l2tp-0.4-livebox/debug.c
--- rp-l2tp-0.4/debug.c	2002-09-30 21:45:00.000000000 +0200
+++ rp-l2tp-0.4-livebox/debug.c	2010-03-31 11:45:59.000000000 +0200
@@ -13,23 +13,26 @@
 *
 ***********************************************************************/
 
-static char const RCSID[] =
-"$Id: debug.c,v 1.2 2002/09/30 19:45:00 dskoll Exp $";
-
 #include "l2tp.h"
 #include <stdio.h>
 #include <stdarg.h>
 #include <sys/time.h>
 #include <unistd.h>
+#include <string.h>
+
+#define LOG_PREFIX "l2tpd: "
 
 #define AVPCASE(x) case AVP_ ## x: return #x
 #define MSGCASE(x) case MESSAGE_ ## x: return #x
 
 static unsigned long debug_mask = 0;
+static char *log_file;
 
+#ifndef USER_MSG_LOG
 /* Big bang is when the universe started... set by first call
    to db */
 static struct timeval big_bang = {0, 0};
+#endif
 
 /**********************************************************************
 * %FUNCTION: debug_avp_type_to_str
@@ -167,9 +170,11 @@ l2tp_debug_session_to_str(l2tp_session *
 void
 l2tp_db(int what, char const *fmt, ...)
 {
+#ifndef USER_MSG_LOG
     va_list ap;
     struct timeval now;
     long sec_diff, usec_diff;
+    FILE *f = stderr;
 
     if (!(debug_mask & what)) return;
 
@@ -190,10 +195,31 @@ l2tp_db(int what, char const *fmt, ...)
     /* Convert to seconds.milliseconds */
     usec_diff /= 1000;
 
+    if (log_file)
+	f = fopen(log_file, "a+");
     va_start(ap, fmt);
-    fprintf(stderr, "%4ld.%03ld ", sec_diff, usec_diff);
-    vfprintf(stderr, fmt, ap);
+    fprintf(f, "%4ld.%03ld ", sec_diff, usec_diff);
+    vfprintf(f, fmt, ap);
     va_end(ap);
+    if (log_file)
+	fclose(f);
+#else
+    va_list ap;
+    char *ext_fmt;
+
+    if (!(debug_mask & what)) return;
+
+    ext_fmt = malloc(strlen(fmt) + sizeof(LOG_PREFIX)+1);
+    if (!ext_fmt)
+	return;
+    strcpy(ext_fmt, LOG_PREFIX);
+    strcat(ext_fmt, fmt);
+
+    va_start(ap, fmt);
+    vsyslog(LOG_DAEMON | LOG_ERR, ext_fmt, ap);
+    free(ext_fmt);
+    va_end(ap);
+#endif
 }
 
 /**********************************************************************
@@ -211,6 +237,12 @@ l2tp_debug_set_bitmask(unsigned long mas
     debug_mask = mask;
 }
 
+void
+l2tp_debug_set_log_file(char *file_name)
+{
+    log_file = file_name;
+}
+
 /**********************************************************************
 * %FUNCTION: debug_describe_dgram
 * %ARGUMENTS:
@@ -236,3 +268,22 @@ l2tp_debug_describe_dgram(l2tp_dgram con
     }
     return buf;
 }
+
+#ifdef ENABLE_DEBUG
+char *dump(unsigned char *buf, int buf_len)
+{
+    static char str[10000];
+    char *s = str;
+    int i;
+
+    for (i=0; i<buf_len; i++)
+    {
+	sprintf(s, "%2.2x ", buf[i]);
+	s += strlen(s);
+    }
+
+    sprintf(s, "\n");
+    return str;
+}
+#endif
+
diff -pruwN rp-l2tp-0.4/dgram.c rp-l2tp-0.4-livebox/dgram.c
--- rp-l2tp-0.4/dgram.c	2003-01-11 06:29:03.000000000 +0100
+++ rp-l2tp-0.4-livebox/dgram.c	2010-03-31 11:45:59.000000000 +0200
@@ -13,9 +13,6 @@
 *
 ***********************************************************************/
 
-static char const RCSID[] =
-"$Id: dgram.c,v 1.3 2003/01/11 05:29:03 dossy Exp $";
-
 #include "l2tp.h"
 #include "md5.h"
 #include <sys/types.h>
@@ -115,6 +112,7 @@ static struct avp_descrip avp_table[] =
    must be fast... */
 static l2tp_dgram *dgram_free_list = NULL;
 
+#if 0
 static void
 describe_pulled_avp(uint16_t vendor,
 		    uint16_t type,
@@ -151,6 +149,7 @@ describe_pulled_avp(uint16_t vendor,
     }
     fprintf(stderr, "'\n");
 }
+#endif
 
 /**********************************************************************
 * %FUNCTION: dgram_validate_avp
@@ -316,7 +315,7 @@ l2tp_dgram_take_from_wire(struct sockadd
     unsigned char *payload;
     unsigned char *tidptr;
     uint16_t tid, sid;
-    uint16_t cache_tid, cache_sid;
+    uint16_t cache_tid = 0, cache_sid = 0;
     l2tp_tunnel *tunnel;
     l2tp_session *ses = NULL;
     int mandatory, hidden, err;
@@ -339,6 +338,11 @@ l2tp_dgram_take_from_wire(struct sockadd
 	framelen = -1;
 	r = recvfrom(Sock, buf, MAX_PACKET_LEN, 0,
 		     (struct sockaddr *) from, &len);
+
+	DBG(l2tp_db(DBG_XMIT_RCV_DUMP, 
+	    "l2tp_dgram_take_from_wire() get from peer %d octets: %s\n",
+	    r, dump(buf, r)));
+
 	if (r <= 0) {
 	    return NULL;
 	}
@@ -601,7 +605,6 @@ l2tp_dgram_add_avp(l2tp_dgram *dgram,
 
     /* Do hiding where possible */
     if (tunnel                   &&
-	tunnel->peer             &&
 	tunnel->peer->hide_avps  &&
 	vendor == VENDOR_IETF    &&
 	tunnel->peer->secret_len &&
@@ -1042,6 +1045,11 @@ l2tp_dgram_send_ppp_frame(l2tp_session *
     r = sendto(Sock, real_buf, len+8, 0,
 	       (struct sockaddr const *) &tunnel->peer_addr,
 	       sizeof(struct sockaddr_in));
+
+    DBG(l2tp_db(DBG_XMIT_RCV_DUMP,
+       	"l2tp_dgram_send_ppp_frame() sending to peer %d octets of %d: %s\n",
+	r, len+8, dump(real_buf, len+8)));
+
     /* Snoop, if necessary */
     if (ses->snooping) {
 	l2tp_session_lcp_snoop(ses, buf, len, 0);
diff -pruwN rp-l2tp-0.4/handlers/Makefile.in rp-l2tp-0.4-livebox/handlers/Makefile.in
--- rp-l2tp-0.4/handlers/Makefile.in	2002-09-30 21:45:00.000000000 +0200
+++ rp-l2tp-0.4-livebox/handlers/Makefile.in	2010-03-31 11:45:59.000000000 +0200
@@ -19,19 +19,19 @@ CFLAGS=-g -O2 -I.. -I../libevent -I../..
 all: $(HANDLERS) l2tp-control
 
 l2tp-control: cmd-control.o
-	gcc -o l2tp-control cmd-control.o
+	@CC@ -o l2tp-control cmd-control.o
 
 cmd-control.o: cmd-control.c
-	gcc -c -o $@ $^
+	@CC@ -c -o $@ $^
 
 %.o: %.c
-	gcc $(CFLAGS) -fPIC -c -o $@ $<
+	@CC@ $(CFLAGS) -fPIC -c -o $@ $<
 
 sync-pppd.so: pty.o sync-pppd.o
-	gcc -shared -o $@ $^
+	@CC@ -shared -o $@ $^
 
 cmd.so: cmd.o dstring.o
-	gcc -shared -o $@ $^
+	@CC@ -shared -o $@ $^
 
 clean:
 	rm -f *.so *.o *~
@@ -40,6 +40,6 @@ clean:
 install: all
 	-mkdir -p $(RPM_INSTALL_ROOT)$(sbindir)
 	-mkdir -p $(RPM_INSTALL_ROOT)$(prefix)/lib/l2tp/plugins
-	$(install) -m 755 -s l2tp-control $(RPM_INSTALL_ROOT)$(sbindir)
+	$(install) -m 755  l2tp-control  $(RPM_INSTALL_ROOT)$(sbindir)
 	$(install) -m 755 $(HANDLERS) $(RPM_INSTALL_ROOT)$(prefix)/lib/l2tp/plugins
 distclean: clean
diff -pruwN rp-l2tp-0.4/ipc.c rp-l2tp-0.4-livebox/ipc.c
--- rp-l2tp-0.4/ipc.c	1970-01-01 01:00:00.000000000 +0100
+++ rp-l2tp-0.4-livebox/ipc.c	2010-03-31 11:45:59.000000000 +0200
@@ -0,0 +1,346 @@
+/****************************************************************************
+ *
+ * /home/bat/bat/fast3202_4_0_21_3_3_1/rg/pkg/util/ipc.c
+ * 
+ * Copyright (C) Jungo LTD 2004
+ * 
+ * This program is free software; you can redistribute it
+ * and/or modify it under the terms of the GNU General 
+ * Public License as published by the Free Software
+ * Foundation; either version 2 of the License, or (at
+ * your option) any later version.
+ * 
+ * This program is distributed in the hope that it will be
+ * useful, but WITHOUT ANY WARRANTY; without even the implied
+ * warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.
+ * See the GNU General Public License for more details.
+ * 
+ * You should have received a copy of the GNU General Public
+ * License along with this program; if not, write to the Free
+ * Software Foundation, Inc., 59 Temple Place - Suite 330, Boston,
+ * MA 02111-1307, USA.
+ *
+ * Developed by Jungo LTD.
+ * Residential Gateway Software Division
+ * www.jungo.com
+ * info@jungo.com
+ */
+
+#define OS_INCLUDE_INET
+#define OS_INCLUDE_SOCKET
+#define OS_INCLUDE_IO
+#include "os_includes.h"
+#include "alloc.h"
+#include "rg_os.h"
+
+/* OpenRG GPL includes */
+#include "bio_socket.h"
+#include "ipc.h"
+#include "memory.h"
+#include "openrg_gpl.h"
+#ifdef __OS_VXWORKS__
+#include "vx_net_fixup.h"
+#endif
+/* Note this code is GPL Licence, so do not add any new 
+ * openrg incude files here. Talk to TL or SA before any change
+ */
+
+#define SYNC_STR "sync"
+
+int ipc_wait_for_server(u16 port)
+{
+    struct sockaddr_in sa;
+    int fd;
+
+    MZERO(sa);
+    sa.sin_family = AF_INET;
+    sa.sin_addr.s_addr = inet_addr("127.0.0.1");
+    sa.sin_port = port;
+
+    if ((fd = sock_socket(SOCK_STREAM, 0, 0)) < 0)
+    {
+	rg_error(LERR, "failed creating socket");
+	return -1;
+    }
+    
+    /* Try to connect to server infinitely */ 
+    while (1)
+    {
+ 	if (connect(fd, (struct sockaddr *)&sa, sizeof(sa)) >= 0)
+	    break;
+
+	/* Sleep for 10ms before trying again */
+	usleep(10000);
+    }
+
+    /* Once the server accepts the connection, it tries to send the client a
+     * sync message. It will fail if we close the socket now. So we keep the
+     * socket open until a sync is received, to keep the server happy. */
+    ipc_client_sync(fd);
+
+    socket_close(fd);
+    
+    return 0;
+}
+
+/* Low level TCP/IPC */
+int ipc_connect(u16 port)
+{
+    return ipc_connect_ip(port, inet_addr("127.0.0.1"));
+}
+
+static int __ipc_connect_ip(u16 port, u32 addr, int quiet)
+{
+    struct sockaddr_in sa;
+    int fd = -1;
+
+    while (1)
+    {
+	if ((fd = sock_socket(SOCK_STREAM, 0, 0)) < 0)
+	    return -1;
+	
+	MZERO(sa);
+	sa.sin_family = AF_INET;
+	sa.sin_addr.s_addr = addr;
+	sa.sin_port = port;
+ 	if (connect(fd, (struct sockaddr *)&sa, sizeof(sa)) < 0)
+	{
+	    socket_close(fd);
+	    if (!quiet)
+		rg_error(LERR, "failed ipc connect %m");
+	    return -1;
+	}
+	/* Linux 2.4 kernel has a bug with localhost connections.
+	 * After the server calls listen(), then the client calls
+	 * connect() and returns with success immediately, before
+	 * the server calls accept()!
+	 * Therefore, a SYNC_STR command is used to make sure the connect
+	 * succeeded.
+	 * This has not been tested on Linux 2.2 whether it too has
+	 * this bug. It probably does not exist on VxWorks, since VxWorks
+	 * TCP/IP stack is completely different (its BSD based).
+	 */
+	if (!ipc_client_sync(fd))
+	    break;
+	socket_close(fd);
+	if (!quiet)
+	    rg_error(LWARN, "failed ipc connect sync - retrying");
+	sys_sleep(1);
+    }
+
+    return fd;
+}
+
+int ipc_connect_ip(u16 port, u32 addr)
+{
+    return __ipc_connect_ip(port, addr, 0);
+}
+
+int ipc_connect_quiet(u16 port)
+{
+    return __ipc_connect_ip(port, inet_addr("127.0.0.1"), 1);
+}
+
+int ipc_listen(u16 port)
+{
+    return ipc_listen_ip(port, inet_addr("127.0.0.1"));
+}
+
+int ipc_listen_ip(u16 port, u32 addr)
+{
+    int fd;
+    
+    if ((fd = sock_socket(SOCK_STREAM, addr, port)) < 0)
+	return -1;
+    /* 5 is a big enough queue length */
+    if (listen(fd, 5) < 0)
+    {
+	rg_error(LERR, "failed ipc listen %m");
+	goto Error;
+    }
+    return fd;
+
+Error:
+    socket_close(fd);
+    return -1;
+}
+
+int ipc_accept(int server_fd)
+{
+    int fd;
+
+    if ((fd = bio_accept(server_fd)) < 0)
+    {
+	rg_error(LERR, "%d: failed ipc accept %m", server_fd);
+	return -1;
+    }
+    if (ipc_server_sync(fd))
+    {
+	rg_error(LERR, "%d: failed ipc accept sync", server_fd);
+	goto Error;
+    }
+    return fd;
+
+Error:
+    socket_close(fd);
+    return -1;
+}
+
+int ipc_client_close(int fd, int last_error)
+{
+    int ret = 0;
+    
+    if (!last_error)
+	ret = ipc_client_sync(fd);
+    socket_close(fd);
+    return ret;
+}
+
+int ipc_server_close(int fd, int last_error)
+{
+    int ret = 0;
+    
+    if (!last_error)
+	ret = ipc_server_sync(fd);
+    socket_close(fd);
+    return ret;
+}
+
+int ipc_client_sync(int fd)
+{
+    char *sync = NULL;
+    int rc = -1;
+
+    if (ipc_string_write(fd, SYNC_STR))
+	goto Exit;
+    if (!(sync = ipc_string_read(fd)) || strcmp(sync, SYNC_STR))
+	goto Exit;
+    rc = 0;
+
+Exit:
+    if (rc)
+	rg_error(LERR, "%d: failed ipc client sync", fd);
+    nfree(sync);
+    return rc;
+}
+
+int ipc_server_sync(int fd)
+{
+    char *sync = NULL;
+    int rc = -1;
+
+    if (!(sync = ipc_string_read(fd)) || strcmp(sync, SYNC_STR))
+	goto Exit;
+    if (ipc_string_write(fd, SYNC_STR))
+	goto Exit;
+    rc = 0;
+
+Exit:
+    if (rc)
+	rg_error(LERR, "%d: failed ipc server sync", fd);
+    nfree(sync);
+    return rc;
+}
+
+/* This function is blocking and it writes from the socket exactly 'count'
+ * number of bytes
+ */
+int ipc_write(int fd, void *buf, size_t count)
+{
+    int rc;
+ 
+    if ((rc = bio_write(fd, buf, count)))
+	rg_error_f(LERR, "%d: failed write() %m", fd);
+    return rc;
+}
+
+int ipc_read(int fd, void *buf, size_t count)
+{
+    return bio_read(fd, buf, count);
+}
+
+int ipc_u32_read(int fd, u32 *n)
+{
+    if (ipc_read(fd, n, sizeof(*n)))
+	return -1;
+    *n = ntohl(*n);
+    return 0;
+}
+
+int ipc_u32_write(int fd, u32 n)
+{
+    n = htonl(n);
+    return ipc_write(fd, &n, sizeof(n));
+}
+
+static int ipc_varbuf_read(int fd, char **data, int *len)
+{
+    if (ipc_u32_read(fd, len))
+	return -1;
+    if (!(*data = malloc_l(*len)))
+	goto Error;
+    if (ipc_read(fd, *data, *len))
+	goto Error;
+    return 0;
+
+Error:
+    nfree(*data);
+    return -1;
+}
+
+char *ipc_string_read(int fd)
+{
+    char *data;
+    int len;
+    
+    if (ipc_varbuf_read(fd, &data, &len) || !len)
+	return NULL;
+    /* '\0' should be sent by the other side, we want to be on the safe side */
+    data[len-1] = 0;
+    return data;
+}
+
+int ipc_string_write(int fd, char *str)
+{
+    int len;
+
+    len = strlen(str) + 1;
+    if (ipc_u32_write(fd, len))
+	return -1;
+    if (ipc_write(fd, str, len))
+	return -1;
+    return 0;
+}
+
+/* High level simple API */
+
+/* Open socket on a specific port for reading. */
+int ipc_bind_listen_port(u16 port)
+{
+    return ipc_listen(port);
+}
+
+/* For reading data from a socket - use it in the module task. */
+int ipc_accept_buf_read(int server_fd, void *data, int data_len)
+{
+    int fd, rc;
+    
+    if ((fd = ipc_accept(server_fd)) < 0)
+	return -1;
+    rc = ipc_read(fd, data, data_len);
+    ipc_server_close(fd, rc);
+    return rc;
+}
+
+/* For writing data to a specific port - use it in the external process. */
+int ipc_connect_buf_write(u16 port, void *data, int data_len)
+{
+    int fd, rc;
+
+    if ((fd = ipc_connect(port)) < 0)
+	return -1;
+    rc = ipc_write(fd, data, data_len);
+    ipc_client_close(fd, rc);
+    return rc;
+}
+
diff -pruwN rp-l2tp-0.4/ipc.h rp-l2tp-0.4-livebox/ipc.h
--- rp-l2tp-0.4/ipc.h	1970-01-01 01:00:00.000000000 +0100
+++ rp-l2tp-0.4-livebox/ipc.h	2010-03-31 11:45:59.000000000 +0200
@@ -0,0 +1,108 @@
+/****************************************************************************
+ *
+ * /home/bat/bat/fast3202_4_0_21_3_3_1/rg/pkg/include/ipc.h
+ * 
+ * Copyright (C) Jungo LTD 2004
+ * 
+ * This program is free software; you can redistribute it
+ * and/or modify it under the terms of the GNU General 
+ * Public License as published by the Free Software
+ * Foundation; either version 2 of the License, or (at
+ * your option) any later version.
+ * 
+ * This program is distributed in the hope that it will be
+ * useful, but WITHOUT ANY WARRANTY; without even the implied
+ * warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.
+ * See the GNU General Public License for more details.
+ * 
+ * You should have received a copy of the GNU General Public
+ * License along with this program; if not, write to the Free
+ * Software Foundation, Inc., 59 Temple Place - Suite 330, Boston,
+ * MA 02111-1307, USA.
+ *
+ * Developed by Jungo LTD.
+ * Residential Gateway Software Division
+ * www.jungo.com
+ * info@jungo.com
+ */
+
+#ifndef _IPC_H_
+#define _IPC_H_
+
+#define OS_INCLUDE_INET
+#include "os_includes.h"
+#include "rg_types.h"
+
+#define RG_IPC_PORT_BASE 7000
+
+#define RG_IPC_PORT_OPENRG RG_IPC_PORT_BASE+0
+/* Port used for connection with OpenRG CLI form external task/thread
+ * when OpenRG does not control the console. (e.g. under VxWorks) */
+#define CLI_SERVER_PORT RG_IPC_PORT_BASE+1
+
+/* used for autotest for executing commands remotely */
+#define RG_IPC_PORT_AUTOTEST_AGENT RG_IPC_PORT_BASE+2
+
+#define RG_IPC_PORT_PPTPS RG_IPC_PORT_BASE+11
+#define RG_IPC_PORT_IPSEC RG_IPC_PORT_BASE+12
+#define RG_IPC_PORT_SYNCT RG_IPC_PORT_BASE+13
+#define RG_IPC_PORT_X509 RG_IPC_PORT_BASE+14
+#define RG_IPC_PORT_L2TPD_2_MT RG_IPC_PORT_BASE+15
+#define RG_IPC_PORT_MT_2_L2TPD RG_IPC_PORT_BASE+16
+#define RG_IPC_PORT_PTHREAD_VOIP_TASK RG_IPC_PORT_BASE+17
+#define RG_IPC_PORT_MAIN_VOIP_TASK RG_IPC_PORT_BASE+18
+#define RG_IPC_PORT_RMT_MNG_LOOPBACK RG_IPC_PORT_BASE+19
+#define RG_IPC_PORT_RMT_MNG RG_IPC_PORT_BASE+20
+#define RG_IPC_PORT_RMT_MNG_SSL RG_IPC_PORT_BASE+21
+#define RG_IPC_PORT_JOSIP RG_IPC_PORT_BASE+22
+#define RG_IPC_PORT_PTHREAD_LOCK_VOIP_TASK RG_IPC_PORT_BASE+23
+
+/* Low level IPC functions */
+int ipc_connect(u16 port);
+int ipc_connect_quiet(u16 port);
+int ipc_connect_ip(u16 port, u32 addr);
+int ipc_listen(u16 port);
+int ipc_listen_ip(u16 port, u32 addr);
+int ipc_accept(int server_fd);
+int ipc_write(int fd, void *buf, size_t count);
+int ipc_read(int fd, void *buf, size_t count);
+
+/* Close IPC connection from the client's side. 'last_error' is the last error
+ * code received by previous IPC operation. It should be 0 upon success
+ */
+int ipc_client_close(int fd, int last_error);
+
+/* Close IPC connection from the server's side. 'last_error' is the last error
+ * code received by previous IPC operation. It should be 0 upon success
+ */
+int ipc_server_close(int fd, int last_error);
+int ipc_server_sync(int fd);
+int ipc_client_sync(int fd);
+
+/* IPC stream helpers */
+int ipc_u32_read(int fd, u32 *n);
+int ipc_u32_write(int fd, u32 n);
+char *ipc_string_read(int fd);
+int ipc_string_write(int fd, char *str);
+
+/* Open socket on a specific port for reading.
+ * port is in network order (call htons before calling this function).
+ */
+int ipc_bind_listen_port(u16 port);
+
+/* For reading data from a socket - use it in the module task. 
+ * Returns how many bytes were read, -1 for error (similar to read())
+ */
+int ipc_accept_buf_read(int sock, void *data, int data_len);
+
+/* For writing data to a specific port - use it in the external process. 
+ * port is in network order (call htons before calling this function).
+ * Returns number of bytes written, -1 for error (similar to write())
+ */
+int ipc_connect_buf_write(u16 port, void *data, int data_len);
+
+/* Busy waits until the IPC server starts accepting connections. */
+int ipc_wait_for_server(u16 port);
+
+#endif
+
diff -pruwN rp-l2tp-0.4/kos_chardev_id.h rp-l2tp-0.4-livebox/kos_chardev_id.h
--- rp-l2tp-0.4/kos_chardev_id.h	1970-01-01 01:00:00.000000000 +0100
+++ rp-l2tp-0.4-livebox/kos_chardev_id.h	2010-03-31 11:45:59.000000000 +0200
@@ -0,0 +1,84 @@
+/****************************************************************************
+ *
+ * /home/bat/bat/fast3202_4_0_21_3_3_1/rg/pkg/include/kos_chardev_id.h
+ * 
+ * Copyright (C) Jungo LTD 2004
+ * 
+ * This program is free software; you can redistribute it
+ * and/or modify it under the terms of the GNU General 
+ * Public License as published by the Free Software
+ * Foundation; either version 2 of the License, or (at
+ * your option) any later version.
+ * 
+ * This program is distributed in the hope that it will be
+ * useful, but WITHOUT ANY WARRANTY; without even the implied
+ * warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.
+ * See the GNU General Public License for more details.
+ * 
+ * You should have received a copy of the GNU General Public
+ * License along with this program; if not, write to the Free
+ * Software Foundation, Inc., 59 Temple Place - Suite 330, Boston,
+ * MA 02111-1307, USA.
+ *
+ * Developed by Jungo LTD.
+ * Residential Gateway Software Division
+ * www.jungo.com
+ * info@jungo.com
+ */
+
+#ifndef _KOS_CHARDEV_ID_H_
+#define _KOS_CHARDEV_ID_H_
+
+typedef enum {
+    KOS_CDT_DHCP = 1,
+    KOS_CDT_BRIDGE = 2,
+    KOS_CDT_IPF = 3,
+    KOS_CDT_IPF_NAT = 4,
+    KOS_CDT_IPF_STATE = 5,
+    KOS_CDT_IPV4 = 7,
+    KOS_CDT_BROUTE = 8,
+    KOS_CDT_USFS = 9,
+    KOS_CDT_CHWAN = 10,
+    KOS_CDT_LOG = 11,
+    KOS_CDT_KNET_IF_EXT = 12,
+    KOS_CDT_RAUL = 13,
+    KOS_CDT_ARPRESD = 14,
+    KOS_CDT_KLEDS = 15,
+    KOS_CDT_HW_BUTTONS = 16,
+    KOS_CDT_AUTH1X = 17,
+    KOS_CDT_KCALL = 18,
+    KOS_CDT_PKTCBL = 19,
+    KOS_CDT_NETBIOS_RT = 20,
+    KOS_CDT_JFW = 21,
+    KOS_CDT_WATCHDOG = 22,
+    KOS_CDT_PPPOE_RELAY = 23,
+    KOS_CDT_KNET_COUNTERS = 24,
+    KOS_CDT_PPP = 25,
+    KOS_CDT_PPPOE_BACKEND = 26,
+    KOS_CDT_PPPCHARDEV_BACKEND = 27,
+    KOS_CDT_MCAST_RELAY = 28,
+    KOS_CDT_LIC = 29,
+    KOS_CDT_ROUTE = 30,
+    KOS_CDT_RTP = 31,
+    KOS_CDT_VOIP_SLIC = 32,
+    KOS_CDT_RGLDR = 33,
+    KOS_CDT_AR531X = 34,
+    KOS_CDT_WDS_CONN_NOTIFIER = 35,
+    KOS_CDT_PPTP_BACKEND = 36,
+    KOS_CDT_PPPOH_BACKEND = 37,
+    KOS_CDT_HSS = 38,
+    KOS_CDT_MSS = 39,
+    KOS_CDT_VOIP_HWEMU = 40,
+    KOS_CDT_VOIP_DSP = 41,
+    KOS_CDT_COMP_REG = 42,
+    /*KOS_CDT_M88E60XX_SWITCH = 43,*/
+    KOS_CDT_M88E6021_SWITCH = 43,
+    KOS_CDT_FASTPATH = 44,
+    KOS_CDT_FUWR = 45,
+    KOS_CDT_KSTART_LEDS_LUMS = 46,
+    KOS_CDT_DHCPF = 47,
+    KOS_CDT_HCI_UART = 48
+} kos_chardev_type_t;
+
+#endif
+
diff -pruwN rp-l2tp-0.4/l2tp.h rp-l2tp-0.4-livebox/l2tp.h
--- rp-l2tp-0.4/l2tp.h	2004-07-01 16:58:55.000000000 +0200
+++ rp-l2tp-0.4-livebox/l2tp.h	2010-03-31 11:45:59.000000000 +0200
@@ -17,10 +17,15 @@
 #include <netinet/in.h>
 #include <arpa/inet.h>
 
-#include "hash.h"
-#include "event.h"
+#include "libevent/hash.h"
+#include "libevent/event.h"
 
-#define ENABLE_DEBUG
+#define USER_MSG_LOG /* direct all user messages to system log */
+#undef ENABLE_DEBUG
+
+#ifdef USER_MSG_LOG
+#include <syslog.h>
+#endif
 
 #ifdef ENABLE_DEBUG
 #define DBG(x) x
@@ -28,6 +33,8 @@
 #define DBG(x) (void) 0
 #endif
 
+#define L2TP_PORT 1701
+
 #define MD5LEN 16		/* Length of MD5 hash */
 
 /* Debug bitmasks */
@@ -38,13 +45,14 @@
 #define DBG_FLOW              16 /* Flow control code                     */
 #define DBG_AVP               32 /* Hiding/showing of AVP's               */
 #define DBG_SNOOP             64 /* Snooping in on LCP                    */
+#define DBG_XMIT_RCV_DUMP    128 /* Datagram transmission/reception dump  */
+#define DBG_CONTROL          256 /* Connection control from outside       */
 
 /* Maximum size of L2TP datagram we accept... kludge... */
 #define MAX_PACKET_LEN   4096
 
 #define MAX_SECRET_LEN   96
 #define MAX_HOSTNAME     128
-#define MAX_OPTS         64
 
 #define MAX_RETRANSMISSIONS 5
 
@@ -71,36 +79,38 @@ typedef struct l2tp_dgram_t {
     struct l2tp_dgram_t *next;	/* Link to next packet in xmit queue */
 } l2tp_dgram;
 
+
+struct l2tp_tuid_t {};
+
 /* An L2TP peer */
 typedef struct l2tp_peer_t {
     hash_bucket hash;		/* all_peers hash (hashed by address) */
     struct sockaddr_in addr;	/* Peer's address */
-    int mask_bits;		/* Peer's netmask in number of bits */
-    char hostname[MAX_HOSTNAME]; /* My hostname as presented to this peer. */
-    size_t hostname_len;	/* Length of my hostname */
-    char peername[MAX_HOSTNAME]; /* Peer's hostname. */
-    size_t peername_len;	/* Length of hostname */
     char secret[MAX_SECRET_LEN]; /* Secret for this peer */
     size_t secret_len;		/* Length of secret */
     struct l2tp_call_ops_t *lac_ops;	/* Call ops if we act as LAC */
-    char *lac_options[MAX_OPTS+1]; /* Handler options if we act as LAC */
-    int num_lac_options;        /* Number of above */
     struct l2tp_call_ops_t *lns_ops;	/* Call ops if we act as LNS */
-    char *lns_options[MAX_OPTS+1]; /* Handler options if we act as LNS */
-    int num_lns_options;        /* Number of above */
     int hide_avps;		/* If true, hide AVPs to this peer */
     int retain_tunnel;		/* If true, keep tunnel after last session is
 				   deleted.  Otherwise, delete tunnel too. */
     int validate_peer_ip;	/* If true, do not accept datagrams except
 				   from initial peer IP address */
-    int persist;                /* If true, keep session established */
-    int holdoff;                /* If persist is true, delay after which the
-                                   session is re-established. */
-    int maxfail;                /* If persist is true, try to establish a
-                                   broken session at most on maxfail times. */
-    int fail;                   /* Number of failed attempts. */
+    void *private;		/* Private data */
+    void (*close)(struct l2tp_peer_t *peer); /* close callback */
+    int  (*getid)(struct l2tp_peer_t *peer); /* get id callback */
+    void (*sigid)(struct l2tp_tuid_t * tuid);	/* signal id callback */
 } l2tp_peer;
 
+typedef struct l2tp_tuid_t {
+    int id;			/* Id associated with the peer device */
+    int sd;			/* scheduled status */
+    EventSelector *es;		/* The event selector */
+    EventHandler *id_handler;   /* Timer handler for stopping peer device */
+    struct l2tp_tunnel_t * tunnel; /* associated tunnel */
+    int  (*getid)(struct l2tp_peer_t *peer); /* get id callback */
+    void (*sigid)(struct l2tp_tuid_t * tuid);	/* signal id callback */    
+} l2tp_tuid;       
+
 /* An L2TP tunnel */
 typedef struct l2tp_tunnel_t {
     hash_bucket hash_by_my_id;  /* Hash bucket for tunnel hash table */
@@ -132,6 +142,8 @@ typedef struct l2tp_tunnel_t {
     unsigned char response[MD5LEN]; /* Our response to challenge */
     unsigned char expected_response[MD5LEN]; /* Expected resp. to challenge */
     int state;			/* Tunnel state */
+    void (*close)(struct l2tp_tunnel_t *tunnel); /* close callback */
+    l2tp_tuid * tuid;		/* Tunnel id context */
 } l2tp_tunnel;
 
 /* A session within a tunnel */
@@ -167,7 +179,7 @@ typedef struct l2tp_call_ops_t {
 
     /* Called when session must be closed.  May be called without
        established() being called if session could not be established.*/
-    void (*close)(l2tp_session *ses, char const *reason, int may_reestablish);
+    void (*close)(l2tp_session *ses, char const *reason);
 
     /* Called when a PPP frame arrives over tunnel */
     void (*handle_ppp_frame)(l2tp_session *ses, unsigned char *buf,
@@ -191,7 +203,6 @@ typedef struct l2tp_lac_handler_t {
 /* Settings */
 typedef struct l2tp_settings_t {
     int listen_port;		/* Port we listen on */
-    struct in_addr listen_addr;	/* IP to bind to */
 } l2tp_settings;
 
 extern l2tp_settings Settings;
@@ -341,10 +352,10 @@ typedef struct option_handler_t {
 /* tunnel.c */
 l2tp_session *l2tp_tunnel_find_session(l2tp_tunnel *tunnel, uint16_t sid);
 l2tp_tunnel *l2tp_tunnel_find_by_my_id(uint16_t id);
+l2tp_tunnel *tunnel_find_bypeer(l2tp_peer *peer);
 l2tp_tunnel *l2tp_tunnel_find_for_peer(l2tp_peer *peer, EventSelector *es);
 void l2tp_tunnel_add_session(l2tp_session *ses);
-void l2tp_tunnel_reestablish(EventSelector *es, int fd, unsigned int flags, void *data);
-void l2tp_tunnel_delete_session(l2tp_session *ses, char const *reason, int may_reestablish);
+void l2tp_tunnel_delete_session(l2tp_session *ses, char const *reason);
 void l2tp_tunnel_handle_received_control_datagram(l2tp_dgram *dgram,
 						  EventSelector *es,
 						  struct sockaddr_in *from);
@@ -376,7 +387,7 @@ l2tp_lac_handler *l2tp_session_find_lac_
 void l2tp_session_send_CDN(l2tp_session *ses, int result_code, int error_code,
 			   char const *fmt, ...);
 void l2tp_session_hash_init(hash_table *tab);
-void l2tp_session_free(l2tp_session *ses, char const *reason, int may_reestablish);
+void l2tp_session_free(l2tp_session *ses, char const *reason);
 void l2tp_session_notify_tunnel_open(l2tp_session *ses);
 void l2tp_session_lns_handle_incoming_call(l2tp_tunnel *tunnel,
 				      uint16_t assigned_id,
@@ -453,8 +464,15 @@ int l2tp_network_init(EventSelector *es)
 
 /* peer.c */
 void l2tp_peer_init(void);
-l2tp_peer *l2tp_peer_find(struct sockaddr_in *addr, char const *hostname);
+l2tp_peer *l2tp_peer_find(struct sockaddr_in *addr);
+l2tp_peer *l2tp_peer_find_by_func(int (*func)(l2tp_peer *peer, void *param),
+    void *param);
 l2tp_peer *l2tp_peer_insert(struct sockaddr_in *addr);
+void peer_release(l2tp_peer *peer);
+void peer_free(l2tp_peer *peer);
+l2tp_peer *l2tp_peer_insert_and_fill(char *handler_name, struct in_addr *addr,
+    uint16_t port, char *secret, int secret_len, void *private,
+    void (*close_peer)(l2tp_peer *), int (*getid)(l2tp_peer *), void (*sigid)(l2tp_tuid *));
 
 /* debug.c */
 char const *l2tp_debug_avp_type_to_str(uint16_t type);
@@ -462,8 +480,10 @@ char const *l2tp_debug_message_type_to_s
 char const *l2tp_debug_tunnel_to_str(l2tp_tunnel *tunnel);
 char const *l2tp_debug_session_to_str(l2tp_session *session);
 char const *l2tp_debug_describe_dgram(l2tp_dgram const *dgram);
+char *dump(unsigned char *buf, int buf_len);
 void l2tp_db(int what, char const *fmt, ...);
 void l2tp_debug_set_bitmask(unsigned long mask);
+void l2tp_debug_set_log_file(char *file_name);
 
 /* auth.c */
 void l2tp_auth_gen_response(uint16_t msg_type, char const *secret,
@@ -481,4 +501,7 @@ int l2tp_option_set(EventSelector *es,
 void l2tp_option_register_section(option_handler *h);
 char const *l2tp_chomp_word(char const *line, char *word);
 
+/* rg.c */
+int rg_init(EventSelector *es);
+
 #endif
diff -pruwN rp-l2tp-0.4/libevent/config.log rp-l2tp-0.4-livebox/libevent/config.log
--- rp-l2tp-0.4/libevent/config.log	1970-01-01 01:00:00.000000000 +0100
+++ rp-l2tp-0.4-livebox/libevent/config.log	2010-03-31 11:45:59.000000000 +0200
@@ -0,0 +1,683 @@
+This file contains any messages produced by compilers while
+running configure, to aid debugging if configure makes a mistake.
+
+It was created by configure, which was
+generated by GNU Autoconf 2.59.  Invocation command line was
+
+  $ ../configure --host=mips-linux-uclibc CC=mips-linux-uclibc-gcc AR=mips-linux-uclibc-ar RANLIB=mips-linux-uclibc-ranlib STRIP=mips-linux-uclibc-strip NM=mips-linux-uclibc-nm
+
+## --------- ##
+## Platform. ##
+## --------- ##
+
+hostname = VZY08001
+uname -m = x86_64
+uname -r = 2.6.5-7.244-smp
+uname -s = Linux
+uname -v = #1 SMP Mon Dec 12 18:32:25 UTC 2005
+
+/usr/bin/uname -p = unknown
+/bin/uname -X     = unknown
+
+/bin/arch              = x86_64
+/usr/bin/arch -k       = unknown
+/usr/convex/getsysinfo = unknown
+hostinfo               = unknown
+/bin/machine           = unknown
+/usr/bin/oslevel       = unknown
+/bin/universe          = unknown
+
+PATH: /usr/local/urd2/openrg2_6/mips-linux-uclibc/bin
+PATH: /usr/local/urd2/bin
+PATH: /usr/local/bin
+PATH: /usr/bin
+PATH: /usr/X11R6/bin
+PATH: /bin
+PATH: /usr/games
+PATH: /opt/gnome/bin
+PATH: /opt/kde3/bin
+PATH: /usr/lib/java/bin
+
+
+## ----------- ##
+## Core tests. ##
+## ----------- ##
+
+configure:1296: checking for mips-linux-uclibc-gcc
+configure:1322: result: mips-linux-uclibc-gcc
+configure:1604: checking for C compiler version
+configure:1607: mips-linux-uclibc-gcc --version </dev/null >&5
+mips-linux-uclibc-gcc (GCC) 3.4.3
+Copyright (C) 2004 Free Software Foundation, Inc.
+This is free software; see the source for copying conditions.  There is NO
+warranty; not even for MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.
+
+configure:1610: $? = 0
+configure:1612: mips-linux-uclibc-gcc -v </dev/null >&5
+Reading specs from /usr/local/urd2/openrg2_6/mips-linux-uclibc/bin/../lib/gcc/mips-linux-uclibc/3.4.3/specs
+Configured with: /filer1/dev_projets/rg_v2/dev/delizy/sdk/toolchain/relative/fusiv_linux-2.6_v1.0/buildroot/toolchain_build_mips_nofpu/gcc-3.4.3/configure --prefix=/filer1/dev_projets/rg_v2/dev/delizy/sdk/toolchain/relative/fusiv_linux-2.6_v1.0/buildroot/build_mips_nofpu/staging_dir --build=i686-pc-linux-gnu --host=i686-pc-linux-gnu --target=mips-linux-uclibc --enable-languages=c,c++ --enable-shared --disable-__cxa_atexit --enable-target-optspace --with-gnu-ld --disable-nls --enable-multilib --with-float=soft --with-arch=lx4189
+Thread model: posix
+gcc version 3.4.3
+configure:1615: $? = 0
+configure:1617: mips-linux-uclibc-gcc -V </dev/null >&5
+mips-linux-uclibc-gcc: `-V' option must have argument
+configure:1620: $? = 1
+configure:1643: checking for C compiler default output file name
+configure:1646: mips-linux-uclibc-gcc    conftest.c  >&5
+configure:1649: $? = 0
+configure:1695: result: a.out
+configure:1700: checking whether the C compiler works
+configure:1706: ./a.out
+../configure: line 1: ./a.out: cannot execute binary file
+configure:1709: $? = 126
+configure:1726: result: yes
+configure:1733: checking whether we are cross compiling
+configure:1735: result: yes
+configure:1738: checking for suffix of executables
+configure:1740: mips-linux-uclibc-gcc -o conftest    conftest.c  >&5
+configure:1743: $? = 0
+configure:1768: result: 
+configure:1774: checking for suffix of object files
+configure:1795: mips-linux-uclibc-gcc -c   conftest.c >&5
+configure:1798: $? = 0
+configure:1820: result: o
+configure:1824: checking whether we are using the GNU C compiler
+configure:1848: mips-linux-uclibc-gcc -c   conftest.c >&5
+configure:1854: $? = 0
+configure:1858: test -z 
+			 || test ! -s conftest.err
+configure:1861: $? = 0
+configure:1864: test -s conftest.o
+configure:1867: $? = 0
+configure:1880: result: yes
+configure:1886: checking whether mips-linux-uclibc-gcc accepts -g
+configure:1907: mips-linux-uclibc-gcc -c -g  conftest.c >&5
+configure:1913: $? = 0
+configure:1917: test -z 
+			 || test ! -s conftest.err
+configure:1920: $? = 0
+configure:1923: test -s conftest.o
+configure:1926: $? = 0
+configure:1937: result: yes
+configure:1954: checking for mips-linux-uclibc-gcc option to accept ANSI C
+configure:2024: mips-linux-uclibc-gcc  -c -g -O2  conftest.c >&5
+configure:2030: $? = 0
+configure:2034: test -z 
+			 || test ! -s conftest.err
+configure:2037: $? = 0
+configure:2040: test -s conftest.o
+configure:2043: $? = 0
+configure:2061: result: none needed
+configure:2079: mips-linux-uclibc-gcc -c -g -O2  conftest.c >&5
+conftest.c:2: error: parse error before "me"
+configure:2085: $? = 1
+configure: failed program was:
+| #ifndef __cplusplus
+|   choke me
+| #endif
+configure:2256: checking for a BSD-compatible install
+configure:2311: result: /usr/bin/install -c
+configure:2325: checking for mips-linux-uclibc-ranlib
+configure:2351: result: mips-linux-uclibc-ranlib
+configure:2405: checking for dlopen in -ldl
+configure:2435: mips-linux-uclibc-gcc -o conftest -g -O2   conftest.c -ldl   >&5
+configure:2441: $? = 0
+configure:2445: test -z 
+			 || test ! -s conftest.err
+configure:2448: $? = 0
+configure:2451: test -s conftest
+configure:2454: $? = 0
+configure:2467: result: yes
+configure:2484: checking how to run the C preprocessor
+configure:2519: mips-linux-uclibc-gcc -E  conftest.c
+configure:2525: $? = 0
+configure:2557: mips-linux-uclibc-gcc -E  conftest.c
+conftest.c:10:28: ac_nonexistent.h: No such file or directory
+configure:2563: $? = 1
+configure: failed program was:
+| /* confdefs.h.  */
+| 
+| #define PACKAGE_NAME ""
+| #define PACKAGE_TARNAME ""
+| #define PACKAGE_VERSION ""
+| #define PACKAGE_STRING ""
+| #define PACKAGE_BUGREPORT ""
+| #define HAVE_LIBDL 1
+| /* end confdefs.h.  */
+| #include <ac_nonexistent.h>
+configure:2602: result: mips-linux-uclibc-gcc -E
+configure:2626: mips-linux-uclibc-gcc -E  conftest.c
+configure:2632: $? = 0
+configure:2664: mips-linux-uclibc-gcc -E  conftest.c
+conftest.c:10:28: ac_nonexistent.h: No such file or directory
+configure:2670: $? = 1
+configure: failed program was:
+| /* confdefs.h.  */
+| 
+| #define PACKAGE_NAME ""
+| #define PACKAGE_TARNAME ""
+| #define PACKAGE_VERSION ""
+| #define PACKAGE_STRING ""
+| #define PACKAGE_BUGREPORT ""
+| #define HAVE_LIBDL 1
+| /* end confdefs.h.  */
+| #include <ac_nonexistent.h>
+configure:2714: checking for egrep
+configure:2724: result: grep -E
+configure:2729: checking for ANSI C header files
+configure:2754: mips-linux-uclibc-gcc -c -g -O2  conftest.c >&5
+configure:2760: $? = 0
+configure:2764: test -z 
+			 || test ! -s conftest.err
+configure:2767: $? = 0
+configure:2770: test -s conftest.o
+configure:2773: $? = 0
+configure:2882: result: yes
+configure:2906: checking for sys/types.h
+configure:2922: mips-linux-uclibc-gcc -c -g -O2  conftest.c >&5
+configure:2928: $? = 0
+configure:2932: test -z 
+			 || test ! -s conftest.err
+configure:2935: $? = 0
+configure:2938: test -s conftest.o
+configure:2941: $? = 0
+configure:2952: result: yes
+configure:2906: checking for sys/stat.h
+configure:2922: mips-linux-uclibc-gcc -c -g -O2  conftest.c >&5
+configure:2928: $? = 0
+configure:2932: test -z 
+			 || test ! -s conftest.err
+configure:2935: $? = 0
+configure:2938: test -s conftest.o
+configure:2941: $? = 0
+configure:2952: result: yes
+configure:2906: checking for stdlib.h
+configure:2922: mips-linux-uclibc-gcc -c -g -O2  conftest.c >&5
+configure:2928: $? = 0
+configure:2932: test -z 
+			 || test ! -s conftest.err
+configure:2935: $? = 0
+configure:2938: test -s conftest.o
+configure:2941: $? = 0
+configure:2952: result: yes
+configure:2906: checking for string.h
+configure:2922: mips-linux-uclibc-gcc -c -g -O2  conftest.c >&5
+configure:2928: $? = 0
+configure:2932: test -z 
+			 || test ! -s conftest.err
+configure:2935: $? = 0
+configure:2938: test -s conftest.o
+configure:2941: $? = 0
+configure:2952: result: yes
+configure:2906: checking for memory.h
+configure:2922: mips-linux-uclibc-gcc -c -g -O2  conftest.c >&5
+configure:2928: $? = 0
+configure:2932: test -z 
+			 || test ! -s conftest.err
+configure:2935: $? = 0
+configure:2938: test -s conftest.o
+configure:2941: $? = 0
+configure:2952: result: yes
+configure:2906: checking for strings.h
+configure:2922: mips-linux-uclibc-gcc -c -g -O2  conftest.c >&5
+configure:2928: $? = 0
+configure:2932: test -z 
+			 || test ! -s conftest.err
+configure:2935: $? = 0
+configure:2938: test -s conftest.o
+configure:2941: $? = 0
+configure:2952: result: yes
+configure:2906: checking for inttypes.h
+configure:2922: mips-linux-uclibc-gcc -c -g -O2  conftest.c >&5
+configure:2928: $? = 0
+configure:2932: test -z 
+			 || test ! -s conftest.err
+configure:2935: $? = 0
+configure:2938: test -s conftest.o
+configure:2941: $? = 0
+configure:2952: result: yes
+configure:2906: checking for stdint.h
+configure:2922: mips-linux-uclibc-gcc -c -g -O2  conftest.c >&5
+configure:2928: $? = 0
+configure:2932: test -z 
+			 || test ! -s conftest.err
+configure:2935: $? = 0
+configure:2938: test -s conftest.o
+configure:2941: $? = 0
+configure:2952: result: yes
+configure:2906: checking for unistd.h
+configure:2922: mips-linux-uclibc-gcc -c -g -O2  conftest.c >&5
+configure:2928: $? = 0
+configure:2932: test -z 
+			 || test ! -s conftest.err
+configure:2935: $? = 0
+configure:2938: test -s conftest.o
+configure:2941: $? = 0
+configure:2952: result: yes
+configure:2982: checking fcntl.h usability
+configure:2994: mips-linux-uclibc-gcc -c -g -O2  conftest.c >&5
+configure:3000: $? = 0
+configure:3004: test -z 
+			 || test ! -s conftest.err
+configure:3007: $? = 0
+configure:3010: test -s conftest.o
+configure:3013: $? = 0
+configure:3023: result: yes
+configure:3027: checking fcntl.h presence
+configure:3037: mips-linux-uclibc-gcc -E  conftest.c
+configure:3043: $? = 0
+configure:3063: result: yes
+configure:3098: checking for fcntl.h
+configure:3105: result: yes
+configure:2982: checking sys/ioctl.h usability
+configure:2994: mips-linux-uclibc-gcc -c -g -O2  conftest.c >&5
+configure:3000: $? = 0
+configure:3004: test -z 
+			 || test ! -s conftest.err
+configure:3007: $? = 0
+configure:3010: test -s conftest.o
+configure:3013: $? = 0
+configure:3023: result: yes
+configure:3027: checking sys/ioctl.h presence
+configure:3037: mips-linux-uclibc-gcc -E  conftest.c
+configure:3043: $? = 0
+configure:3063: result: yes
+configure:3098: checking for sys/ioctl.h
+configure:3105: result: yes
+configure:2982: checking sys/time.h usability
+configure:2994: mips-linux-uclibc-gcc -c -g -O2  conftest.c >&5
+configure:3000: $? = 0
+configure:3004: test -z 
+			 || test ! -s conftest.err
+configure:3007: $? = 0
+configure:3010: test -s conftest.o
+configure:3013: $? = 0
+configure:3023: result: yes
+configure:3027: checking sys/time.h presence
+configure:3037: mips-linux-uclibc-gcc -E  conftest.c
+configure:3043: $? = 0
+configure:3063: result: yes
+configure:3098: checking for sys/time.h
+configure:3105: result: yes
+configure:2982: checking syslog.h usability
+configure:2994: mips-linux-uclibc-gcc -c -g -O2  conftest.c >&5
+configure:3000: $? = 0
+configure:3004: test -z 
+			 || test ! -s conftest.err
+configure:3007: $? = 0
+configure:3010: test -s conftest.o
+configure:3013: $? = 0
+configure:3023: result: yes
+configure:3027: checking syslog.h presence
+configure:3037: mips-linux-uclibc-gcc -E  conftest.c
+configure:3043: $? = 0
+configure:3063: result: yes
+configure:3098: checking for syslog.h
+configure:3105: result: yes
+configure:2973: checking for unistd.h
+configure:2978: result: yes
+configure:3119: checking for libevent directory
+configure:3132: result: ../libevent
+configure:3137: checking for an ANSI C-conforming const
+configure:3204: mips-linux-uclibc-gcc -c -g -O2  conftest.c >&5
+configure:3210: $? = 0
+configure:3214: test -z 
+			 || test ! -s conftest.err
+configure:3217: $? = 0
+configure:3220: test -s conftest.o
+configure:3223: $? = 0
+configure:3234: result: yes
+configure:3244: checking for pid_t
+configure:3268: mips-linux-uclibc-gcc -c -g -O2  conftest.c >&5
+configure:3274: $? = 0
+configure:3278: test -z 
+			 || test ! -s conftest.err
+configure:3281: $? = 0
+configure:3284: test -s conftest.o
+configure:3287: $? = 0
+configure:3298: result: yes
+configure:3310: checking for size_t
+configure:3334: mips-linux-uclibc-gcc -c -g -O2  conftest.c >&5
+configure:3340: $? = 0
+configure:3344: test -z 
+			 || test ! -s conftest.err
+configure:3347: $? = 0
+configure:3350: test -s conftest.o
+configure:3353: $? = 0
+configure:3364: result: yes
+configure:3376: checking whether time.h and sys/time.h may both be included
+configure:3401: mips-linux-uclibc-gcc -c -g -O2  conftest.c >&5
+configure:3407: $? = 0
+configure:3411: test -z 
+			 || test ! -s conftest.err
+configure:3414: $? = 0
+configure:3417: test -s conftest.o
+configure:3420: $? = 0
+configure:3431: result: yes
+configure:3443: checking whether mips-linux-uclibc-gcc needs -traditional
+configure:3485: result: no
+configure:3492: checking for working memcmp
+configure:3562: result: no
+configure:3573: checking return type of signal handlers
+configure:3604: mips-linux-uclibc-gcc -c -g -O2  conftest.c >&5
+configure:3610: $? = 0
+configure:3614: test -z 
+			 || test ! -s conftest.err
+configure:3617: $? = 0
+configure:3620: test -s conftest.o
+configure:3623: $? = 0
+configure:3634: result: void
+configure:3646: checking for vprintf
+configure:3703: mips-linux-uclibc-gcc -o conftest -g -O2   conftest.c -ldl  >&5
+conftest.c:51: warning: conflicting types for built-in function 'vprintf'
+configure:3709: $? = 0
+configure:3713: test -z 
+			 || test ! -s conftest.err
+configure:3716: $? = 0
+configure:3719: test -s conftest
+configure:3722: $? = 0
+configure:3734: result: yes
+configure:3741: checking for _doprnt
+configure:3798: mips-linux-uclibc-gcc -o conftest -g -O2   conftest.c -ldl  >&5
+/tmp/ccJ21s5f.o(.text+0x10): In function `main':
+/filer1_vol11/dev_projets5/etl/dev/ogallot/rp-l2tp/new-l2tp/rp-l2tp-0.4/libevent/conftest.c:68: undefined reference to `_doprnt'
+/tmp/ccJ21s5f.o(.data.rel+0x0):/filer1_vol11/dev_projets5/etl/dev/ogallot/rp-l2tp/new-l2tp/rp-l2tp-0.4/libevent/conftest.c:67: undefined reference to `_doprnt'
+collect2: ld returned 1 exit status
+configure:3804: $? = 1
+configure: failed program was:
+| /* confdefs.h.  */
+| 
+| #define PACKAGE_NAME ""
+| #define PACKAGE_TARNAME ""
+| #define PACKAGE_VERSION ""
+| #define PACKAGE_STRING ""
+| #define PACKAGE_BUGREPORT ""
+| #define HAVE_LIBDL 1
+| #define STDC_HEADERS 1
+| #define HAVE_SYS_TYPES_H 1
+| #define HAVE_SYS_STAT_H 1
+| #define HAVE_STDLIB_H 1
+| #define HAVE_STRING_H 1
+| #define HAVE_MEMORY_H 1
+| #define HAVE_STRINGS_H 1
+| #define HAVE_INTTYPES_H 1
+| #define HAVE_STDINT_H 1
+| #define HAVE_UNISTD_H 1
+| #define HAVE_FCNTL_H 1
+| #define HAVE_SYS_IOCTL_H 1
+| #define HAVE_SYS_TIME_H 1
+| #define HAVE_SYSLOG_H 1
+| #define HAVE_UNISTD_H 1
+| #define TIME_WITH_SYS_TIME 1
+| #define RETSIGTYPE void
+| #define HAVE_VPRINTF 1
+| /* end confdefs.h.  */
+| /* Define _doprnt to an innocuous variant, in case <limits.h> declares _doprnt.
+|    For example, HP-UX 11i <limits.h> declares gettimeofday.  */
+| #define _doprnt innocuous__doprnt
+| 
+| /* System header to define __stub macros and hopefully few prototypes,
+|     which can conflict with char _doprnt (); below.
+|     Prefer <limits.h> to <assert.h> if __STDC__ is defined, since
+|     <limits.h> exists even on freestanding compilers.  */
+| 
+| #ifdef __STDC__
+| # include <limits.h>
+| #else
+| # include <assert.h>
+| #endif
+| 
+| #undef _doprnt
+| 
+| /* Override any gcc2 internal prototype to avoid an error.  */
+| #ifdef __cplusplus
+| extern "C"
+| {
+| #endif
+| /* We use char because int might match the return type of a gcc2
+|    builtin and then its argument prototype would still apply.  */
+| char _doprnt ();
+| /* The GNU C library defines this for functions which it implements
+|     to always fail with ENOSYS.  Some functions are actually named
+|     something starting with __ and the normal name is an alias.  */
+| #if defined (__stub__doprnt) || defined (__stub____doprnt)
+| choke me
+| #else
+| char (*f) () = _doprnt;
+| #endif
+| #ifdef __cplusplus
+| }
+| #endif
+| 
+| int
+| main ()
+| {
+| return f != _doprnt;
+|   ;
+|   return 0;
+| }
+configure:3829: result: no
+configure:3852: checking for gethostname
+configure:3909: mips-linux-uclibc-gcc -o conftest -g -O2   conftest.c -ldl  >&5
+configure:3915: $? = 0
+configure:3919: test -z 
+			 || test ! -s conftest.err
+configure:3922: $? = 0
+configure:3925: test -s conftest
+configure:3928: $? = 0
+configure:3940: result: yes
+configure:3852: checking for gettimeofday
+configure:3909: mips-linux-uclibc-gcc -o conftest -g -O2   conftest.c -ldl  >&5
+configure:3915: $? = 0
+configure:3919: test -z 
+			 || test ! -s conftest.err
+configure:3922: $? = 0
+configure:3925: test -s conftest
+configure:3928: $? = 0
+configure:3940: result: yes
+configure:3852: checking for socket
+configure:3909: mips-linux-uclibc-gcc -o conftest -g -O2   conftest.c -ldl  >&5
+configure:3915: $? = 0
+configure:3919: test -z 
+			 || test ! -s conftest.err
+configure:3922: $? = 0
+configure:3925: test -s conftest
+configure:3928: $? = 0
+configure:3940: result: yes
+configure:3852: checking for strdup
+configure:3909: mips-linux-uclibc-gcc -o conftest -g -O2   conftest.c -ldl  >&5
+conftest.c:55: warning: conflicting types for built-in function 'strdup'
+configure:3915: $? = 0
+configure:3919: test -z 
+			 || test ! -s conftest.err
+configure:3922: $? = 0
+configure:3925: test -s conftest
+configure:3928: $? = 0
+configure:3940: result: yes
+configure:3852: checking for strerror
+configure:3909: mips-linux-uclibc-gcc -o conftest -g -O2   conftest.c -ldl  >&5
+configure:3915: $? = 0
+configure:3919: test -z 
+			 || test ! -s conftest.err
+configure:3922: $? = 0
+configure:3925: test -s conftest
+configure:3928: $? = 0
+configure:3940: result: yes
+configure:3852: checking for strtol
+configure:3909: mips-linux-uclibc-gcc -o conftest -g -O2   conftest.c -ldl  >&5
+configure:3915: $? = 0
+configure:3919: test -z 
+			 || test ! -s conftest.err
+configure:3922: $? = 0
+configure:3925: test -s conftest
+configure:3928: $? = 0
+configure:3940: result: yes
+configure:4089: creating ./config.status
+
+## ---------------------- ##
+## Running config.status. ##
+## ---------------------- ##
+
+This file was extended by config.status, which was
+generated by GNU Autoconf 2.59.  Invocation command line was
+
+  CONFIG_FILES    = 
+  CONFIG_HEADERS  = 
+  CONFIG_LINKS    = 
+  CONFIG_COMMANDS = 
+  $ ./config.status 
+
+on VZY08001
+
+config.status:644: creating Makefile
+config.status:644: creating handlers/Makefile
+
+## ---------------- ##
+## Cache variables. ##
+## ---------------- ##
+
+ac_cv_c_compiler_gnu=yes
+ac_cv_c_const=yes
+ac_cv_env_CC_set=set
+ac_cv_env_CC_value=mips-linux-uclibc-gcc
+ac_cv_env_CFLAGS_set=
+ac_cv_env_CFLAGS_value=
+ac_cv_env_CPPFLAGS_set=
+ac_cv_env_CPPFLAGS_value=
+ac_cv_env_CPP_set=
+ac_cv_env_CPP_value=
+ac_cv_env_LDFLAGS_set=
+ac_cv_env_LDFLAGS_value=
+ac_cv_env_build_alias_set=
+ac_cv_env_build_alias_value=
+ac_cv_env_host_alias_set=set
+ac_cv_env_host_alias_value=mips-linux-uclibc
+ac_cv_env_target_alias_set=
+ac_cv_env_target_alias_value=
+ac_cv_exeext=
+ac_cv_func__doprnt=no
+ac_cv_func_gethostname=yes
+ac_cv_func_gettimeofday=yes
+ac_cv_func_memcmp_working=no
+ac_cv_func_socket=yes
+ac_cv_func_strdup=yes
+ac_cv_func_strerror=yes
+ac_cv_func_strtol=yes
+ac_cv_func_vprintf=yes
+ac_cv_header_fcntl_h=yes
+ac_cv_header_inttypes_h=yes
+ac_cv_header_memory_h=yes
+ac_cv_header_stdc=yes
+ac_cv_header_stdint_h=yes
+ac_cv_header_stdlib_h=yes
+ac_cv_header_string_h=yes
+ac_cv_header_strings_h=yes
+ac_cv_header_sys_ioctl_h=yes
+ac_cv_header_sys_stat_h=yes
+ac_cv_header_sys_time_h=yes
+ac_cv_header_sys_types_h=yes
+ac_cv_header_syslog_h=yes
+ac_cv_header_time=yes
+ac_cv_header_unistd_h=yes
+ac_cv_lib_dl_dlopen=yes
+ac_cv_objext=o
+ac_cv_path_install='/usr/bin/install -c'
+ac_cv_prog_CC=mips-linux-uclibc-gcc
+ac_cv_prog_CPP='mips-linux-uclibc-gcc -E'
+ac_cv_prog_RANLIB=mips-linux-uclibc-ranlib
+ac_cv_prog_cc_g=yes
+ac_cv_prog_cc_stdc=
+ac_cv_prog_egrep='grep -E'
+ac_cv_prog_gcc_traditional=no
+ac_cv_type_pid_t=yes
+ac_cv_type_signal=void
+ac_cv_type_size_t=yes
+
+## ----------------- ##
+## Output variables. ##
+## ----------------- ##
+
+CC='mips-linux-uclibc-gcc'
+CFLAGS='-g -O2'
+CPP='mips-linux-uclibc-gcc -E'
+CPPFLAGS=''
+DEFS='-DPACKAGE_NAME=\"\" -DPACKAGE_TARNAME=\"\" -DPACKAGE_VERSION=\"\" -DPACKAGE_STRING=\"\" -DPACKAGE_BUGREPORT=\"\" -DHAVE_LIBDL=1 -DSTDC_HEADERS=1 -DHAVE_SYS_TYPES_H=1 -DHAVE_SYS_STAT_H=1 -DHAVE_STDLIB_H=1 -DHAVE_STRING_H=1 -DHAVE_MEMORY_H=1 -DHAVE_STRINGS_H=1 -DHAVE_INTTYPES_H=1 -DHAVE_STDINT_H=1 -DHAVE_UNISTD_H=1 -DHAVE_FCNTL_H=1 -DHAVE_SYS_IOCTL_H=1 -DHAVE_SYS_TIME_H=1 -DHAVE_SYSLOG_H=1 -DHAVE_UNISTD_H=1 -DTIME_WITH_SYS_TIME=1 -DRETSIGTYPE=void -DHAVE_VPRINTF=1 -DHAVE_GETHOSTNAME=1 -DHAVE_GETTIMEOFDAY=1 -DHAVE_SOCKET=1 -DHAVE_STRDUP=1 -DHAVE_STRERROR=1 -DHAVE_STRTOL=1 '
+ECHO_C=''
+ECHO_N='-n'
+ECHO_T=''
+EGREP='grep -E'
+EXEEXT=''
+INSTALL_DATA='${INSTALL} -m 644'
+INSTALL_PROGRAM='${INSTALL}'
+INSTALL_SCRIPT='${INSTALL}'
+LDFLAGS=''
+LIBEVENT='../libevent'
+LIBOBJS=' memcmp$U.o'
+LIBS='-ldl '
+LTLIBOBJS=' memcmp$U.lo'
+OBJEXT='o'
+PACKAGE_BUGREPORT=''
+PACKAGE_NAME=''
+PACKAGE_STRING=''
+PACKAGE_TARNAME=''
+PACKAGE_VERSION=''
+PATH_SEPARATOR=':'
+RANLIB='mips-linux-uclibc-ranlib'
+SHELL='/bin/sh'
+ac_ct_CC=''
+ac_ct_RANLIB=''
+bindir='${exec_prefix}/bin'
+build_alias=''
+datadir='${prefix}/share'
+exec_prefix='${prefix}'
+host_alias='mips-linux-uclibc'
+includedir='${prefix}/include'
+infodir='${prefix}/info'
+libdir='${exec_prefix}/lib'
+libexecdir='${exec_prefix}/libexec'
+localstatedir='${prefix}/var'
+mandir='${prefix}/man'
+oldincludedir='/usr/include'
+prefix='/usr/local'
+program_transform_name='s,x,x,'
+sbindir='${exec_prefix}/sbin'
+sharedstatedir='${prefix}/com'
+sysconfdir='${prefix}/etc'
+target_alias=''
+
+## ----------- ##
+## confdefs.h. ##
+## ----------- ##
+
+#define HAVE_FCNTL_H 1
+#define HAVE_GETHOSTNAME 1
+#define HAVE_GETTIMEOFDAY 1
+#define HAVE_INTTYPES_H 1
+#define HAVE_LIBDL 1
+#define HAVE_MEMORY_H 1
+#define HAVE_SOCKET 1
+#define HAVE_STDINT_H 1
+#define HAVE_STDLIB_H 1
+#define HAVE_STRDUP 1
+#define HAVE_STRERROR 1
+#define HAVE_STRINGS_H 1
+#define HAVE_STRING_H 1
+#define HAVE_STRTOL 1
+#define HAVE_SYSLOG_H 1
+#define HAVE_SYS_IOCTL_H 1
+#define HAVE_SYS_STAT_H 1
+#define HAVE_SYS_TIME_H 1
+#define HAVE_SYS_TYPES_H 1
+#define HAVE_UNISTD_H 1
+#define HAVE_UNISTD_H 1
+#define HAVE_VPRINTF 1
+#define PACKAGE_BUGREPORT ""
+#define PACKAGE_NAME ""
+#define PACKAGE_STRING ""
+#define PACKAGE_TARNAME ""
+#define PACKAGE_VERSION ""
+#define RETSIGTYPE void
+#define STDC_HEADERS 1
+#define TIME_WITH_SYS_TIME 1
+
+configure: exit 0
diff -pruwN rp-l2tp-0.4/libevent/config.status rp-l2tp-0.4-livebox/libevent/config.status
--- rp-l2tp-0.4/libevent/config.status	1970-01-01 01:00:00.000000000 +0100
+++ rp-l2tp-0.4-livebox/libevent/config.status	2010-03-31 11:45:59.000000000 +0200
@@ -0,0 +1,711 @@
+#! /bin/sh
+# Generated by configure.
+# Run this file to recreate the current configuration.
+# Compiler output produced by configure, useful for debugging
+# configure, is in config.log if it exists.
+
+debug=false
+ac_cs_recheck=false
+ac_cs_silent=false
+SHELL=${CONFIG_SHELL-/bin/sh}
+## --------------------- ##
+## M4sh Initialization.  ##
+## --------------------- ##
+
+# Be Bourne compatible
+if test -n "${ZSH_VERSION+set}" && (emulate sh) >/dev/null 2>&1; then
+  emulate sh
+  NULLCMD=:
+  # Zsh 3.x and 4.x performs word splitting on ${1+"$@"}, which
+  # is contrary to our usage.  Disable this feature.
+  alias -g '${1+"$@"}'='"$@"'
+elif test -n "${BASH_VERSION+set}" && (set -o posix) >/dev/null 2>&1; then
+  set -o posix
+fi
+DUALCASE=1; export DUALCASE # for MKS sh
+
+# Support unset when possible.
+if ( (MAIL=60; unset MAIL) || exit) >/dev/null 2>&1; then
+  as_unset=unset
+else
+  as_unset=false
+fi
+
+
+# Work around bugs in pre-3.0 UWIN ksh.
+$as_unset ENV MAIL MAILPATH
+PS1='$ '
+PS2='> '
+PS4='+ '
+
+# NLS nuisances.
+for as_var in \
+  LANG LANGUAGE LC_ADDRESS LC_ALL LC_COLLATE LC_CTYPE LC_IDENTIFICATION \
+  LC_MEASUREMENT LC_MESSAGES LC_MONETARY LC_NAME LC_NUMERIC LC_PAPER \
+  LC_TELEPHONE LC_TIME
+do
+  if (set +x; test -z "`(eval $as_var=C; export $as_var) 2>&1`"); then
+    eval $as_var=C; export $as_var
+  else
+    $as_unset $as_var
+  fi
+done
+
+# Required to use basename.
+if expr a : '\(a\)' >/dev/null 2>&1; then
+  as_expr=expr
+else
+  as_expr=false
+fi
+
+if (basename /) >/dev/null 2>&1 && test "X`basename / 2>&1`" = "X/"; then
+  as_basename=basename
+else
+  as_basename=false
+fi
+
+
+# Name of the executable.
+as_me=`$as_basename "$0" ||
+$as_expr X/"$0" : '.*/\([^/][^/]*\)/*$' \| \
+	 X"$0" : 'X\(//\)$' \| \
+	 X"$0" : 'X\(/\)$' \| \
+	 .     : '\(.\)' 2>/dev/null ||
+echo X/"$0" |
+    sed '/^.*\/\([^/][^/]*\)\/*$/{ s//\1/; q; }
+  	  /^X\/\(\/\/\)$/{ s//\1/; q; }
+  	  /^X\/\(\/\).*/{ s//\1/; q; }
+  	  s/.*/./; q'`
+
+
+# PATH needs CR, and LINENO needs CR and PATH.
+# Avoid depending upon Character Ranges.
+as_cr_letters='abcdefghijklmnopqrstuvwxyz'
+as_cr_LETTERS='ABCDEFGHIJKLMNOPQRSTUVWXYZ'
+as_cr_Letters=$as_cr_letters$as_cr_LETTERS
+as_cr_digits='0123456789'
+as_cr_alnum=$as_cr_Letters$as_cr_digits
+
+# The user is always right.
+if test "${PATH_SEPARATOR+set}" != set; then
+  echo "#! /bin/sh" >conf$$.sh
+  echo  "exit 0"   >>conf$$.sh
+  chmod +x conf$$.sh
+  if (PATH="/nonexistent;."; conf$$.sh) >/dev/null 2>&1; then
+    PATH_SEPARATOR=';'
+  else
+    PATH_SEPARATOR=:
+  fi
+  rm -f conf$$.sh
+fi
+
+
+  as_lineno_1=$LINENO
+  as_lineno_2=$LINENO
+  as_lineno_3=`(expr $as_lineno_1 + 1) 2>/dev/null`
+  test "x$as_lineno_1" != "x$as_lineno_2" &&
+  test "x$as_lineno_3"  = "x$as_lineno_2"  || {
+  # Find who we are.  Look in the path if we contain no path at all
+  # relative or not.
+  case $0 in
+    *[\\/]* ) as_myself=$0 ;;
+    *) as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
+for as_dir in $PATH
+do
+  IFS=$as_save_IFS
+  test -z "$as_dir" && as_dir=.
+  test -r "$as_dir/$0" && as_myself=$as_dir/$0 && break
+done
+
+       ;;
+  esac
+  # We did not find ourselves, most probably we were run as `sh COMMAND'
+  # in which case we are not to be found in the path.
+  if test "x$as_myself" = x; then
+    as_myself=$0
+  fi
+  if test ! -f "$as_myself"; then
+    { { echo "$as_me:$LINENO: error: cannot find myself; rerun with an absolute path" >&5
+echo "$as_me: error: cannot find myself; rerun with an absolute path" >&2;}
+   { (exit 1); exit 1; }; }
+  fi
+  case $CONFIG_SHELL in
+  '')
+    as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
+for as_dir in /bin$PATH_SEPARATOR/usr/bin$PATH_SEPARATOR$PATH
+do
+  IFS=$as_save_IFS
+  test -z "$as_dir" && as_dir=.
+  for as_base in sh bash ksh sh5; do
+	 case $as_dir in
+	 /*)
+	   if ("$as_dir/$as_base" -c '
+  as_lineno_1=$LINENO
+  as_lineno_2=$LINENO
+  as_lineno_3=`(expr $as_lineno_1 + 1) 2>/dev/null`
+  test "x$as_lineno_1" != "x$as_lineno_2" &&
+  test "x$as_lineno_3"  = "x$as_lineno_2" ') 2>/dev/null; then
+	     $as_unset BASH_ENV || test "${BASH_ENV+set}" != set || { BASH_ENV=; export BASH_ENV; }
+	     $as_unset ENV || test "${ENV+set}" != set || { ENV=; export ENV; }
+	     CONFIG_SHELL=$as_dir/$as_base
+	     export CONFIG_SHELL
+	     exec "$CONFIG_SHELL" "$0" ${1+"$@"}
+	   fi;;
+	 esac
+       done
+done
+;;
+  esac
+
+  # Create $as_me.lineno as a copy of $as_myself, but with $LINENO
+  # uniformly replaced by the line number.  The first 'sed' inserts a
+  # line-number line before each line; the second 'sed' does the real
+  # work.  The second script uses 'N' to pair each line-number line
+  # with the numbered line, and appends trailing '-' during
+  # substitution so that $LINENO is not a special case at line end.
+  # (Raja R Harinath suggested sed '=', and Paul Eggert wrote the
+  # second 'sed' script.  Blame Lee E. McMahon for sed's syntax.  :-)
+  sed '=' <$as_myself |
+    sed '
+      N
+      s,$,-,
+      : loop
+      s,^\(['$as_cr_digits']*\)\(.*\)[$]LINENO\([^'$as_cr_alnum'_]\),\1\2\1\3,
+      t loop
+      s,-$,,
+      s,^['$as_cr_digits']*\n,,
+    ' >$as_me.lineno &&
+  chmod +x $as_me.lineno ||
+    { { echo "$as_me:$LINENO: error: cannot create $as_me.lineno; rerun with a POSIX shell" >&5
+echo "$as_me: error: cannot create $as_me.lineno; rerun with a POSIX shell" >&2;}
+   { (exit 1); exit 1; }; }
+
+  # Don't try to exec as it changes $[0], causing all sort of problems
+  # (the dirname of $[0] is not the place where we might find the
+  # original and so on.  Autoconf is especially sensible to this).
+  . ./$as_me.lineno
+  # Exit status is that of the last command.
+  exit
+}
+
+
+case `echo "testing\c"; echo 1,2,3`,`echo -n testing; echo 1,2,3` in
+  *c*,-n*) ECHO_N= ECHO_C='
+' ECHO_T='	' ;;
+  *c*,*  ) ECHO_N=-n ECHO_C= ECHO_T= ;;
+  *)       ECHO_N= ECHO_C='\c' ECHO_T= ;;
+esac
+
+if expr a : '\(a\)' >/dev/null 2>&1; then
+  as_expr=expr
+else
+  as_expr=false
+fi
+
+rm -f conf$$ conf$$.exe conf$$.file
+echo >conf$$.file
+if ln -s conf$$.file conf$$ 2>/dev/null; then
+  # We could just check for DJGPP; but this test a) works b) is more generic
+  # and c) will remain valid once DJGPP supports symlinks (DJGPP 2.04).
+  if test -f conf$$.exe; then
+    # Don't use ln at all; we don't have any links
+    as_ln_s='cp -p'
+  else
+    as_ln_s='ln -s'
+  fi
+elif ln conf$$.file conf$$ 2>/dev/null; then
+  as_ln_s=ln
+else
+  as_ln_s='cp -p'
+fi
+rm -f conf$$ conf$$.exe conf$$.file
+
+if mkdir -p . 2>/dev/null; then
+  as_mkdir_p=:
+else
+  test -d ./-p && rmdir ./-p
+  as_mkdir_p=false
+fi
+
+as_executable_p="test -f"
+
+# Sed expression to map a string onto a valid CPP name.
+as_tr_cpp="eval sed 'y%*$as_cr_letters%P$as_cr_LETTERS%;s%[^_$as_cr_alnum]%_%g'"
+
+# Sed expression to map a string onto a valid variable name.
+as_tr_sh="eval sed 'y%*+%pp%;s%[^_$as_cr_alnum]%_%g'"
+
+
+# IFS
+# We need space, tab and new line, in precisely that order.
+as_nl='
+'
+IFS=" 	$as_nl"
+
+# CDPATH.
+$as_unset CDPATH
+
+exec 6>&1
+
+# Open the log real soon, to keep \$[0] and so on meaningful, and to
+# report actual input values of CONFIG_FILES etc. instead of their
+# values after options handling.  Logging --version etc. is OK.
+exec 5>>config.log
+{
+  echo
+  sed 'h;s/./-/g;s/^.../## /;s/...$/ ##/;p;x;p;x' <<_ASBOX
+## Running $as_me. ##
+_ASBOX
+} >&5
+cat >&5 <<_CSEOF
+
+This file was extended by $as_me, which was
+generated by GNU Autoconf 2.59.  Invocation command line was
+
+  CONFIG_FILES    = $CONFIG_FILES
+  CONFIG_HEADERS  = $CONFIG_HEADERS
+  CONFIG_LINKS    = $CONFIG_LINKS
+  CONFIG_COMMANDS = $CONFIG_COMMANDS
+  $ $0 $@
+
+_CSEOF
+echo "on `(hostname || uname -n) 2>/dev/null | sed 1q`" >&5
+echo >&5
+config_files=" Makefile handlers/Makefile"
+
+ac_cs_usage="\
+\`$as_me' instantiates files from templates according to the
+current configuration.
+
+Usage: $0 [OPTIONS] [FILE]...
+
+  -h, --help       print this help, then exit
+  -V, --version    print version number, then exit
+  -q, --quiet      do not print progress messages
+  -d, --debug      don't remove temporary files
+      --recheck    update $as_me by reconfiguring in the same conditions
+  --file=FILE[:TEMPLATE]
+		   instantiate the configuration file FILE
+
+Configuration files:
+$config_files
+
+Report bugs to <bug-autoconf@gnu.org>."
+ac_cs_version="\
+config.status
+configured by ../configure, generated by GNU Autoconf 2.59,
+  with options \"'--host=mips-linux-uclibc' 'CC=mips-linux-uclibc-gcc' 'AR=mips-linux-uclibc-ar' 'RANLIB=mips-linux-uclibc-ranlib' 'STRIP=mips-linux-uclibc-strip' 'NM=mips-linux-uclibc-nm' 'host_alias=mips-linux-uclibc'\"
+
+Copyright (C) 2003 Free Software Foundation, Inc.
+This config.status script is free software; the Free Software Foundation
+gives unlimited permission to copy, distribute and modify it."
+srcdir=..
+INSTALL="/usr/bin/install -c"
+# If no file are specified by the user, then we need to provide default
+# value.  By we need to know if files were specified by the user.
+ac_need_defaults=:
+while test $# != 0
+do
+  case $1 in
+  --*=*)
+    ac_option=`expr "x$1" : 'x\([^=]*\)='`
+    ac_optarg=`expr "x$1" : 'x[^=]*=\(.*\)'`
+    ac_shift=:
+    ;;
+  -*)
+    ac_option=$1
+    ac_optarg=$2
+    ac_shift=shift
+    ;;
+  *) # This is not an option, so the user has probably given explicit
+     # arguments.
+     ac_option=$1
+     ac_need_defaults=false;;
+  esac
+
+  case $ac_option in
+  # Handling of the options.
+  -recheck | --recheck | --rechec | --reche | --rech | --rec | --re | --r)
+    ac_cs_recheck=: ;;
+  --version | --vers* | -V )
+    echo "$ac_cs_version"; exit 0 ;;
+  --he | --h)
+    # Conflict between --help and --header
+    { { echo "$as_me:$LINENO: error: ambiguous option: $1
+Try \`$0 --help' for more information." >&5
+echo "$as_me: error: ambiguous option: $1
+Try \`$0 --help' for more information." >&2;}
+   { (exit 1); exit 1; }; };;
+  --help | --hel | -h )
+    echo "$ac_cs_usage"; exit 0 ;;
+  --debug | --d* | -d )
+    debug=: ;;
+  --file | --fil | --fi | --f )
+    $ac_shift
+    CONFIG_FILES="$CONFIG_FILES $ac_optarg"
+    ac_need_defaults=false;;
+  --header | --heade | --head | --hea )
+    $ac_shift
+    CONFIG_HEADERS="$CONFIG_HEADERS $ac_optarg"
+    ac_need_defaults=false;;
+  -q | -quiet | --quiet | --quie | --qui | --qu | --q \
+  | -silent | --silent | --silen | --sile | --sil | --si | --s)
+    ac_cs_silent=: ;;
+
+  # This is an error.
+  -*) { { echo "$as_me:$LINENO: error: unrecognized option: $1
+Try \`$0 --help' for more information." >&5
+echo "$as_me: error: unrecognized option: $1
+Try \`$0 --help' for more information." >&2;}
+   { (exit 1); exit 1; }; } ;;
+
+  *) ac_config_targets="$ac_config_targets $1" ;;
+
+  esac
+  shift
+done
+
+ac_configure_extra_args=
+
+if $ac_cs_silent; then
+  exec 6>/dev/null
+  ac_configure_extra_args="$ac_configure_extra_args --silent"
+fi
+
+if $ac_cs_recheck; then
+  echo "running /bin/sh ../configure " '--host=mips-linux-uclibc' 'CC=mips-linux-uclibc-gcc' 'AR=mips-linux-uclibc-ar' 'RANLIB=mips-linux-uclibc-ranlib' 'STRIP=mips-linux-uclibc-strip' 'NM=mips-linux-uclibc-nm' 'host_alias=mips-linux-uclibc' $ac_configure_extra_args " --no-create --no-recursion" >&6
+  exec /bin/sh ../configure '--host=mips-linux-uclibc' 'CC=mips-linux-uclibc-gcc' 'AR=mips-linux-uclibc-ar' 'RANLIB=mips-linux-uclibc-ranlib' 'STRIP=mips-linux-uclibc-strip' 'NM=mips-linux-uclibc-nm' 'host_alias=mips-linux-uclibc' $ac_configure_extra_args --no-create --no-recursion
+fi
+
+for ac_config_target in $ac_config_targets
+do
+  case "$ac_config_target" in
+  # Handling of arguments.
+  "$OUTPUT" ) CONFIG_FILES="$CONFIG_FILES $OUTPUT" ;;
+  *) { { echo "$as_me:$LINENO: error: invalid argument: $ac_config_target" >&5
+echo "$as_me: error: invalid argument: $ac_config_target" >&2;}
+   { (exit 1); exit 1; }; };;
+  esac
+done
+
+# If the user did not use the arguments to specify the items to instantiate,
+# then the envvar interface is used.  Set only those that are not.
+# We use the long form for the default assignment because of an extremely
+# bizarre bug on SunOS 4.1.3.
+if $ac_need_defaults; then
+  test "${CONFIG_FILES+set}" = set || CONFIG_FILES=$config_files
+fi
+
+# Have a temporary directory for convenience.  Make it in the build tree
+# simply because there is no reason to put it here, and in addition,
+# creating and moving files from /tmp can sometimes cause problems.
+# Create a temporary directory, and hook for its removal unless debugging.
+$debug ||
+{
+  trap 'exit_status=$?; rm -rf $tmp && exit $exit_status' 0
+  trap '{ (exit 1); exit 1; }' 1 2 13 15
+}
+
+# Create a (secure) tmp directory for tmp files.
+
+{
+  tmp=`(umask 077 && mktemp -d -q "./confstatXXXXXX") 2>/dev/null` &&
+  test -n "$tmp" && test -d "$tmp"
+}  ||
+{
+  tmp=./confstat$$-$RANDOM
+  (umask 077 && mkdir $tmp)
+} ||
+{
+   echo "$me: cannot create a temporary directory in ." >&2
+   { (exit 1); exit 1; }
+}
+
+
+#
+# CONFIG_FILES section.
+#
+
+# No need to generate the scripts if there are no CONFIG_FILES.
+# This happens for instance when ./config.status config.h
+if test -n "$CONFIG_FILES"; then
+  # Protect against being on the right side of a sed subst in config.status.
+  sed 's/,@/@@/; s/@,/@@/; s/,;t t$/@;t t/; /@;t t$/s/[\\&,]/\\&/g;
+   s/@@/,@/; s/@@/@,/; s/@;t t$/,;t t/' >$tmp/subs.sed <<\CEOF
+s,@SHELL@,/bin/sh,;t t
+s,@PATH_SEPARATOR@,:,;t t
+s,@PACKAGE_NAME@,,;t t
+s,@PACKAGE_TARNAME@,,;t t
+s,@PACKAGE_VERSION@,,;t t
+s,@PACKAGE_STRING@,,;t t
+s,@PACKAGE_BUGREPORT@,,;t t
+s,@exec_prefix@,${prefix},;t t
+s,@prefix@,/usr/local,;t t
+s,@program_transform_name@,s,x,x,,;t t
+s,@bindir@,${exec_prefix}/bin,;t t
+s,@sbindir@,${exec_prefix}/sbin,;t t
+s,@libexecdir@,${exec_prefix}/libexec,;t t
+s,@datadir@,${prefix}/share,;t t
+s,@sysconfdir@,${prefix}/etc,;t t
+s,@sharedstatedir@,${prefix}/com,;t t
+s,@localstatedir@,${prefix}/var,;t t
+s,@libdir@,${exec_prefix}/lib,;t t
+s,@includedir@,${prefix}/include,;t t
+s,@oldincludedir@,/usr/include,;t t
+s,@infodir@,${prefix}/info,;t t
+s,@mandir@,${prefix}/man,;t t
+s,@build_alias@,,;t t
+s,@host_alias@,mips-linux-uclibc,;t t
+s,@target_alias@,,;t t
+s,@DEFS@,-DPACKAGE_NAME=\"\" -DPACKAGE_TARNAME=\"\" -DPACKAGE_VERSION=\"\" -DPACKAGE_STRING=\"\" -DPACKAGE_BUGREPORT=\"\" -DHAVE_LIBDL=1 -DSTDC_HEADERS=1 -DHAVE_SYS_TYPES_H=1 -DHAVE_SYS_STAT_H=1 -DHAVE_STDLIB_H=1 -DHAVE_STRING_H=1 -DHAVE_MEMORY_H=1 -DHAVE_STRINGS_H=1 -DHAVE_INTTYPES_H=1 -DHAVE_STDINT_H=1 -DHAVE_UNISTD_H=1 -DHAVE_FCNTL_H=1 -DHAVE_SYS_IOCTL_H=1 -DHAVE_SYS_TIME_H=1 -DHAVE_SYSLOG_H=1 -DHAVE_UNISTD_H=1 -DTIME_WITH_SYS_TIME=1 -DRETSIGTYPE=void -DHAVE_VPRINTF=1 -DHAVE_GETHOSTNAME=1 -DHAVE_GETTIMEOFDAY=1 -DHAVE_SOCKET=1 -DHAVE_STRDUP=1 -DHAVE_STRERROR=1 -DHAVE_STRTOL=1 ,;t t
+s,@ECHO_C@,,;t t
+s,@ECHO_N@,-n,;t t
+s,@ECHO_T@,,;t t
+s,@LIBS@,-ldl ,;t t
+s,@CC@,mips-linux-uclibc-gcc,;t t
+s,@CFLAGS@,-g -O2,;t t
+s,@LDFLAGS@,,;t t
+s,@CPPFLAGS@,,;t t
+s,@ac_ct_CC@,,;t t
+s,@EXEEXT@,,;t t
+s,@OBJEXT@,o,;t t
+s,@INSTALL_PROGRAM@,${INSTALL},;t t
+s,@INSTALL_SCRIPT@,${INSTALL},;t t
+s,@INSTALL_DATA@,${INSTALL} -m 644,;t t
+s,@RANLIB@,mips-linux-uclibc-ranlib,;t t
+s,@ac_ct_RANLIB@,,;t t
+s,@CPP@,mips-linux-uclibc-gcc -E,;t t
+s,@EGREP@,grep -E,;t t
+s,@LIBEVENT@,../libevent,;t t
+s,@LIBOBJS@, memcmp$U.o,;t t
+s,@LTLIBOBJS@, memcmp$U.lo,;t t
+CEOF
+
+  # Split the substitutions into bite-sized pieces for seds with
+  # small command number limits, like on Digital OSF/1 and HP-UX.
+  ac_max_sed_lines=48
+  ac_sed_frag=1 # Number of current file.
+  ac_beg=1 # First line for current file.
+  ac_end=$ac_max_sed_lines # Line after last line for current file.
+  ac_more_lines=:
+  ac_sed_cmds=
+  while $ac_more_lines; do
+    if test $ac_beg -gt 1; then
+      sed "1,${ac_beg}d; ${ac_end}q" $tmp/subs.sed >$tmp/subs.frag
+    else
+      sed "${ac_end}q" $tmp/subs.sed >$tmp/subs.frag
+    fi
+    if test ! -s $tmp/subs.frag; then
+      ac_more_lines=false
+    else
+      # The purpose of the label and of the branching condition is to
+      # speed up the sed processing (if there are no `@' at all, there
+      # is no need to browse any of the substitutions).
+      # These are the two extra sed commands mentioned above.
+      (echo ':t
+  /@[a-zA-Z_][a-zA-Z_0-9]*@/!b' && cat $tmp/subs.frag) >$tmp/subs-$ac_sed_frag.sed
+      if test -z "$ac_sed_cmds"; then
+	ac_sed_cmds="sed -f $tmp/subs-$ac_sed_frag.sed"
+      else
+	ac_sed_cmds="$ac_sed_cmds | sed -f $tmp/subs-$ac_sed_frag.sed"
+      fi
+      ac_sed_frag=`expr $ac_sed_frag + 1`
+      ac_beg=$ac_end
+      ac_end=`expr $ac_end + $ac_max_sed_lines`
+    fi
+  done
+  if test -z "$ac_sed_cmds"; then
+    ac_sed_cmds=cat
+  fi
+fi # test -n "$CONFIG_FILES"
+
+for ac_file in : $CONFIG_FILES; do test "x$ac_file" = x: && continue
+  # Support "outfile[:infile[:infile...]]", defaulting infile="outfile.in".
+  case $ac_file in
+  - | *:- | *:-:* ) # input from stdin
+	cat >$tmp/stdin
+	ac_file_in=`echo "$ac_file" | sed 's,[^:]*:,,'`
+	ac_file=`echo "$ac_file" | sed 's,:.*,,'` ;;
+  *:* ) ac_file_in=`echo "$ac_file" | sed 's,[^:]*:,,'`
+	ac_file=`echo "$ac_file" | sed 's,:.*,,'` ;;
+  * )   ac_file_in=$ac_file.in ;;
+  esac
+
+  # Compute @srcdir@, @top_srcdir@, and @INSTALL@ for subdirectories.
+  ac_dir=`(dirname "$ac_file") 2>/dev/null ||
+$as_expr X"$ac_file" : 'X\(.*[^/]\)//*[^/][^/]*/*$' \| \
+	 X"$ac_file" : 'X\(//\)[^/]' \| \
+	 X"$ac_file" : 'X\(//\)$' \| \
+	 X"$ac_file" : 'X\(/\)' \| \
+	 .     : '\(.\)' 2>/dev/null ||
+echo X"$ac_file" |
+    sed '/^X\(.*[^/]\)\/\/*[^/][^/]*\/*$/{ s//\1/; q; }
+  	  /^X\(\/\/\)[^/].*/{ s//\1/; q; }
+  	  /^X\(\/\/\)$/{ s//\1/; q; }
+  	  /^X\(\/\).*/{ s//\1/; q; }
+  	  s/.*/./; q'`
+  { if $as_mkdir_p; then
+    mkdir -p "$ac_dir"
+  else
+    as_dir="$ac_dir"
+    as_dirs=
+    while test ! -d "$as_dir"; do
+      as_dirs="$as_dir $as_dirs"
+      as_dir=`(dirname "$as_dir") 2>/dev/null ||
+$as_expr X"$as_dir" : 'X\(.*[^/]\)//*[^/][^/]*/*$' \| \
+	 X"$as_dir" : 'X\(//\)[^/]' \| \
+	 X"$as_dir" : 'X\(//\)$' \| \
+	 X"$as_dir" : 'X\(/\)' \| \
+	 .     : '\(.\)' 2>/dev/null ||
+echo X"$as_dir" |
+    sed '/^X\(.*[^/]\)\/\/*[^/][^/]*\/*$/{ s//\1/; q; }
+  	  /^X\(\/\/\)[^/].*/{ s//\1/; q; }
+  	  /^X\(\/\/\)$/{ s//\1/; q; }
+  	  /^X\(\/\).*/{ s//\1/; q; }
+  	  s/.*/./; q'`
+    done
+    test ! -n "$as_dirs" || mkdir $as_dirs
+  fi || { { echo "$as_me:$LINENO: error: cannot create directory \"$ac_dir\"" >&5
+echo "$as_me: error: cannot create directory \"$ac_dir\"" >&2;}
+   { (exit 1); exit 1; }; }; }
+
+  ac_builddir=.
+
+if test "$ac_dir" != .; then
+  ac_dir_suffix=/`echo "$ac_dir" | sed 's,^\.[\\/],,'`
+  # A "../" for each directory in $ac_dir_suffix.
+  ac_top_builddir=`echo "$ac_dir_suffix" | sed 's,/[^\\/]*,../,g'`
+else
+  ac_dir_suffix= ac_top_builddir=
+fi
+
+case $srcdir in
+  .)  # No --srcdir option.  We are building in place.
+    ac_srcdir=.
+    if test -z "$ac_top_builddir"; then
+       ac_top_srcdir=.
+    else
+       ac_top_srcdir=`echo $ac_top_builddir | sed 's,/$,,'`
+    fi ;;
+  [\\/]* | ?:[\\/]* )  # Absolute path.
+    ac_srcdir=$srcdir$ac_dir_suffix;
+    ac_top_srcdir=$srcdir ;;
+  *) # Relative path.
+    ac_srcdir=$ac_top_builddir$srcdir$ac_dir_suffix
+    ac_top_srcdir=$ac_top_builddir$srcdir ;;
+esac
+
+# Do not use `cd foo && pwd` to compute absolute paths, because
+# the directories may not exist.
+case `pwd` in
+.) ac_abs_builddir="$ac_dir";;
+*)
+  case "$ac_dir" in
+  .) ac_abs_builddir=`pwd`;;
+  [\\/]* | ?:[\\/]* ) ac_abs_builddir="$ac_dir";;
+  *) ac_abs_builddir=`pwd`/"$ac_dir";;
+  esac;;
+esac
+case $ac_abs_builddir in
+.) ac_abs_top_builddir=${ac_top_builddir}.;;
+*)
+  case ${ac_top_builddir}. in
+  .) ac_abs_top_builddir=$ac_abs_builddir;;
+  [\\/]* | ?:[\\/]* ) ac_abs_top_builddir=${ac_top_builddir}.;;
+  *) ac_abs_top_builddir=$ac_abs_builddir/${ac_top_builddir}.;;
+  esac;;
+esac
+case $ac_abs_builddir in
+.) ac_abs_srcdir=$ac_srcdir;;
+*)
+  case $ac_srcdir in
+  .) ac_abs_srcdir=$ac_abs_builddir;;
+  [\\/]* | ?:[\\/]* ) ac_abs_srcdir=$ac_srcdir;;
+  *) ac_abs_srcdir=$ac_abs_builddir/$ac_srcdir;;
+  esac;;
+esac
+case $ac_abs_builddir in
+.) ac_abs_top_srcdir=$ac_top_srcdir;;
+*)
+  case $ac_top_srcdir in
+  .) ac_abs_top_srcdir=$ac_abs_builddir;;
+  [\\/]* | ?:[\\/]* ) ac_abs_top_srcdir=$ac_top_srcdir;;
+  *) ac_abs_top_srcdir=$ac_abs_builddir/$ac_top_srcdir;;
+  esac;;
+esac
+
+
+  case $INSTALL in
+  [\\/$]* | ?:[\\/]* ) ac_INSTALL=$INSTALL ;;
+  *) ac_INSTALL=$ac_top_builddir$INSTALL ;;
+  esac
+
+  if test x"$ac_file" != x-; then
+    { echo "$as_me:$LINENO: creating $ac_file" >&5
+echo "$as_me: creating $ac_file" >&6;}
+    rm -f "$ac_file"
+  fi
+  # Let's still pretend it is `configure' which instantiates (i.e., don't
+  # use $as_me), people would be surprised to read:
+  #    /* config.h.  Generated by config.status.  */
+  if test x"$ac_file" = x-; then
+    configure_input=
+  else
+    configure_input="$ac_file.  "
+  fi
+  configure_input=$configure_input"Generated from `echo $ac_file_in |
+				     sed 's,.*/,,'` by configure."
+
+  # First look for the input files in the build tree, otherwise in the
+  # src tree.
+  ac_file_inputs=`IFS=:
+    for f in $ac_file_in; do
+      case $f in
+      -) echo $tmp/stdin ;;
+      [\\/$]*)
+	 # Absolute (can't be DOS-style, as IFS=:)
+	 test -f "$f" || { { echo "$as_me:$LINENO: error: cannot find input file: $f" >&5
+echo "$as_me: error: cannot find input file: $f" >&2;}
+   { (exit 1); exit 1; }; }
+	 echo "$f";;
+      *) # Relative
+	 if test -f "$f"; then
+	   # Build tree
+	   echo "$f"
+	 elif test -f "$srcdir/$f"; then
+	   # Source tree
+	   echo "$srcdir/$f"
+	 else
+	   # /dev/null tree
+	   { { echo "$as_me:$LINENO: error: cannot find input file: $f" >&5
+echo "$as_me: error: cannot find input file: $f" >&2;}
+   { (exit 1); exit 1; }; }
+	 fi;;
+      esac
+    done` || { (exit 1); exit 1; }
+  sed "
+
+:t
+/@[a-zA-Z_][a-zA-Z_0-9]*@/!b
+s,@configure_input@,$configure_input,;t t
+s,@srcdir@,$ac_srcdir,;t t
+s,@abs_srcdir@,$ac_abs_srcdir,;t t
+s,@top_srcdir@,$ac_top_srcdir,;t t
+s,@abs_top_srcdir@,$ac_abs_top_srcdir,;t t
+s,@builddir@,$ac_builddir,;t t
+s,@abs_builddir@,$ac_abs_builddir,;t t
+s,@top_builddir@,$ac_top_builddir,;t t
+s,@abs_top_builddir@,$ac_abs_top_builddir,;t t
+s,@INSTALL@,$ac_INSTALL,;t t
+" $ac_file_inputs | (eval "$ac_sed_cmds") >$tmp/out
+  rm -f $tmp/stdin
+  if test x"$ac_file" != x-; then
+    mv $tmp/out $ac_file
+  else
+    cat $tmp/out
+    rm -f $tmp/out
+  fi
+
+done
+
+{ (exit 0); exit 0; }
diff -pruwN rp-l2tp-0.4/libevent/event.dump rp-l2tp-0.4-livebox/libevent/event.dump
--- rp-l2tp-0.4/libevent/event.dump	1970-01-01 01:00:00.000000000 +0100
+++ rp-l2tp-0.4-livebox/libevent/event.dump	2010-03-31 11:45:59.000000000 +0200
@@ -0,0 +1,1029 @@
+
+libevent/event.o:     file format elf32-tradbigmips
+
+Disassembly of section .text:
+
+00000000 <Event_GetCallback>:
+   0:	8c820014 	lw	v0,20(a0)
+   4:	03e00008 	jr	ra
+   8:	00000000 	nop
+
+0000000c <Event_GetData>:
+   c:	8c820018 	lw	v0,24(a0)
+  10:	03e00008 	jr	ra
+  14:	00000000 	nop
+
+00000018 <Event_SetCallbackAndData>:
+  18:	ac860018 	sw	a2,24(a0)
+  1c:	03e00008 	jr	ra
+  20:	ac850014 	sw	a1,20(a0)
+
+00000024 <Event_DebugMsg>:
+  24:	3c1c0000 	lui	gp,0x0
+  28:	279c0000 	addiu	gp,gp,0
+  2c:	0399e021 	addu	gp,gp,t9
+  30:	27bdffd0 	addiu	sp,sp,-48
+  34:	afbf0028 	sw	ra,40(sp)
+  38:	afb10024 	sw	s1,36(sp)
+  3c:	afb00020 	sw	s0,32(sp)
+  40:	afbc0010 	sw	gp,16(sp)
+  44:	8f900000 	lw	s0,0(gp)
+  48:	afa50034 	sw	a1,52(sp)
+  4c:	00808821 	move	s1,a0
+  50:	8e020000 	lw	v0,0(s0)
+  54:	8f990000 	lw	t9,0(gp)
+  58:	00002821 	move	a1,zero
+  5c:	afa60038 	sw	a2,56(sp)
+  60:	afa7003c 	sw	a3,60(sp)
+  64:	14400006 	bnez	v0,80 <Event_DebugMsg+0x5c>
+  68:	27a40018 	addiu	a0,sp,24
+  6c:	8fbf0028 	lw	ra,40(sp)
+  70:	8fb10024 	lw	s1,36(sp)
+  74:	8fb00020 	lw	s0,32(sp)
+  78:	03e00008 	jr	ra
+  7c:	27bd0030 	addiu	sp,sp,48
+  80:	0320f809 	jalr	t9
+  84:	00000000 	nop
+  88:	8fa80018 	lw	t0,24(sp)
+  8c:	3c031062 	lui	v1,0x1062
+  90:	34634dd3 	ori	v1,v1,0x4dd3
+  94:	01030018 	mult	t0,v1
+  98:	8fa7001c 	lw	a3,28(sp)
+  9c:	000837c3 	sra	a2,t0,0x1f
+  a0:	8fbc0010 	lw	gp,16(sp)
+  a4:	00074fc3 	sra	t1,a3,0x1f
+  a8:	8e040000 	lw	a0,0(s0)
+  ac:	8f850000 	lw	a1,0(gp)
+  b0:	8f990000 	lw	t9,0(gp)
+  b4:	24a50000 	addiu	a1,a1,0
+  b8:	00001010 	mfhi	v0
+  bc:	00021183 	sra	v0,v0,0x6
+  c0:	00461023 	subu	v0,v0,a2
+  c4:	00e30018 	mult	a3,v1
+  c8:	00023140 	sll	a2,v0,0x5
+  cc:	00c23023 	subu	a2,a2,v0
+  d0:	00063080 	sll	a2,a2,0x2
+  d4:	00c23021 	addu	a2,a2,v0
+  d8:	000630c0 	sll	a2,a2,0x3
+  dc:	01063023 	subu	a2,t0,a2
+  e0:	00003810 	mfhi	a3
+  e4:	00073983 	sra	a3,a3,0x6
+  e8:	0320f809 	jalr	t9
+  ec:	00e93823 	subu	a3,a3,t1
+  f0:	8fbc0010 	lw	gp,16(sp)
+  f4:	8e040000 	lw	a0,0(s0)
+  f8:	02202821 	move	a1,s1
+  fc:	8f990000 	lw	t9,0(gp)
+ 100:	00000000 	nop
+ 104:	0320f809 	jalr	t9
+ 108:	27a60034 	addiu	a2,sp,52
+ 10c:	8fbc0010 	lw	gp,16(sp)
+ 110:	8e040000 	lw	a0,0(s0)
+ 114:	8f990000 	lw	t9,0(gp)
+ 118:	00000000 	nop
+ 11c:	0320f809 	jalr	t9
+ 120:	00000000 	nop
+ 124:	8fbc0010 	lw	gp,16(sp)
+ 128:	8fbf0028 	lw	ra,40(sp)
+ 12c:	8fb10024 	lw	s1,36(sp)
+ 130:	8fb00020 	lw	s0,32(sp)
+ 134:	03e00008 	jr	ra
+ 138:	27bd0030 	addiu	sp,sp,48
+
+0000013c <DestroyHandler>:
+ 13c:	3c1c0000 	lui	gp,0x0
+ 140:	279c0000 	addiu	gp,gp,0
+ 144:	0399e021 	addu	gp,gp,t9
+ 148:	27bdffe0 	addiu	sp,sp,-32
+ 14c:	afbf001c 	sw	ra,28(sp)
+ 150:	afb00018 	sw	s0,24(sp)
+ 154:	afbc0010 	sw	gp,16(sp)
+ 158:	00808021 	move	s0,a0
+ 15c:	8f840000 	lw	a0,0(gp)
+ 160:	8f990000 	lw	t9,0(gp)
+ 164:	02002821 	move	a1,s0
+ 168:	0320f809 	jalr	t9
+ 16c:	2484000c 	addiu	a0,a0,12
+ 170:	8fbc0010 	lw	gp,16(sp)
+ 174:	02002021 	move	a0,s0
+ 178:	8fbf001c 	lw	ra,28(sp)
+ 17c:	8f990000 	lw	t9,0(gp)
+ 180:	8fb00018 	lw	s0,24(sp)
+ 184:	03200008 	jr	t9
+ 188:	27bd0020 	addiu	sp,sp,32
+
+0000018c <Event_DelHandler>:
+ 18c:	3c1c0000 	lui	gp,0x0
+ 190:	279c0000 	addiu	gp,gp,0
+ 194:	0399e021 	addu	gp,gp,t9
+ 198:	27bdffd8 	addiu	sp,sp,-40
+ 19c:	afbf0020 	sw	ra,32(sp)
+ 1a0:	afb1001c 	sw	s1,28(sp)
+ 1a4:	afb00018 	sw	s0,24(sp)
+ 1a8:	afbc0010 	sw	gp,16(sp)
+ 1ac:	00808821 	move	s1,a0
+ 1b0:	8f840000 	lw	a0,0(gp)
+ 1b4:	8f990000 	lw	t9,0(gp)
+ 1b8:	00a08021 	move	s0,a1
+ 1bc:	24840024 	addiu	a0,a0,36
+ 1c0:	02202821 	move	a1,s1
+ 1c4:	0320f809 	jalr	t9
+ 1c8:	02003021 	move	a2,s0
+ 1cc:	8fbc0010 	lw	gp,16(sp)
+ 1d0:	8e240000 	lw	a0,0(s1)
+ 1d4:	10000006 	b	1f0 <Event_DelHandler+0x64>
+ 1d8:	00001821 	move	v1,zero
+ 1dc:	1090000c 	beq	a0,s0,210 <Event_DelHandler+0x84>
+ 1e0:	00000000 	nop
+ 1e4:	00801821 	move	v1,a0
+ 1e8:	8c840000 	lw	a0,0(a0)
+ 1ec:	00000000 	nop
+ 1f0:	1480fffa 	bnez	a0,1dc <Event_DelHandler+0x50>
+ 1f4:	24050001 	li	a1,1
+ 1f8:	8fbf0020 	lw	ra,32(sp)
+ 1fc:	8fb1001c 	lw	s1,28(sp)
+ 200:	8fb00018 	lw	s0,24(sp)
+ 204:	00a01021 	move	v0,a1
+ 208:	03e00008 	jr	ra
+ 20c:	27bd0028 	addiu	sp,sp,40
+ 210:	8e220004 	lw	v0,4(s1)
+ 214:	00000000 	nop
+ 218:	14400013 	bnez	v0,268 <Event_DelHandler+0xdc>
+ 21c:	24020001 	li	v0,1
+ 220:	1060001c 	beqz	v1,294 <Event_DelHandler+0x108>
+ 224:	00000000 	nop
+ 228:	8c820000 	lw	v0,0(a0)
+ 22c:	00000000 	nop
+ 230:	ac620000 	sw	v0,0(v1)
+ 234:	8f990000 	lw	t9,0(gp)
+ 238:	00000000 	nop
+ 23c:	2739013c 	addiu	t9,t9,316
+ 240:	0320f809 	jalr	t9
+ 244:	00000000 	nop
+ 248:	8fbc0010 	lw	gp,16(sp)
+ 24c:	8fbf0020 	lw	ra,32(sp)
+ 250:	8fb1001c 	lw	s1,28(sp)
+ 254:	8fb00018 	lw	s0,24(sp)
+ 258:	00002821 	move	a1,zero
+ 25c:	00a01021 	move	v0,a1
+ 260:	03e00008 	jr	ra
+ 264:	27bd0028 	addiu	sp,sp,40
+ 268:	8c830008 	lw	v1,8(a0)
+ 26c:	8fbf0020 	lw	ra,32(sp)
+ 270:	34630100 	ori	v1,v1,0x100
+ 274:	ac830008 	sw	v1,8(a0)
+ 278:	8fb00018 	lw	s0,24(sp)
+ 27c:	ae220008 	sw	v0,8(s1)
+ 280:	8fb1001c 	lw	s1,28(sp)
+ 284:	00002821 	move	a1,zero
+ 288:	00a01021 	move	v0,a1
+ 28c:	03e00008 	jr	ra
+ 290:	27bd0028 	addiu	sp,sp,40
+ 294:	8c820000 	lw	v0,0(a0)
+ 298:	1000ffe6 	b	234 <Event_DelHandler+0xa8>
+ 29c:	ae220000 	sw	v0,0(s1)
+
+000002a0 <DestroySelector>:
+ 2a0:	3c1c0000 	lui	gp,0x0
+ 2a4:	279c0000 	addiu	gp,gp,0
+ 2a8:	0399e021 	addu	gp,gp,t9
+ 2ac:	27bdffd8 	addiu	sp,sp,-40
+ 2b0:	afbf0024 	sw	ra,36(sp)
+ 2b4:	afb20020 	sw	s2,32(sp)
+ 2b8:	afb1001c 	sw	s1,28(sp)
+ 2bc:	afb00018 	sw	s0,24(sp)
+ 2c0:	afbc0010 	sw	gp,16(sp)
+ 2c4:	00809021 	move	s2,a0
+ 2c8:	8c840000 	lw	a0,0(a0)
+ 2cc:	00000000 	nop
+ 2d0:	1080000b 	beqz	a0,300 <DestroySelector+0x60>
+ 2d4:	00000000 	nop
+ 2d8:	8f820000 	lw	v0,0(gp)
+ 2dc:	00000000 	nop
+ 2e0:	2451013c 	addiu	s1,v0,316
+ 2e4:	8c900000 	lw	s0,0(a0)
+ 2e8:	0220c821 	move	t9,s1
+ 2ec:	0320f809 	jalr	t9
+ 2f0:	00000000 	nop
+ 2f4:	8fbc0010 	lw	gp,16(sp)
+ 2f8:	1600fffa 	bnez	s0,2e4 <DestroySelector+0x44>
+ 2fc:	02002021 	move	a0,s0
+ 300:	8f990000 	lw	t9,0(gp)
+ 304:	02402021 	move	a0,s2
+ 308:	8fbf0024 	lw	ra,36(sp)
+ 30c:	8fb20020 	lw	s2,32(sp)
+ 310:	8fb1001c 	lw	s1,28(sp)
+ 314:	8fb00018 	lw	s0,24(sp)
+ 318:	03200008 	jr	t9
+ 31c:	27bd0028 	addiu	sp,sp,40
+
+00000320 <Event_DestroySelector>:
+ 320:	3c1c0000 	lui	gp,0x0
+ 324:	279c0000 	addiu	gp,gp,0
+ 328:	0399e021 	addu	gp,gp,t9
+ 32c:	8c820004 	lw	v0,4(a0)
+ 330:	00000000 	nop
+ 334:	10400004 	beqz	v0,348 <Event_DestroySelector+0x28>
+ 338:	24050001 	li	a1,1
+ 33c:	ac850008 	sw	a1,8(a0)
+ 340:	03e00008 	jr	ra
+ 344:	ac85000c 	sw	a1,12(a0)
+ 348:	8f990000 	lw	t9,0(gp)
+ 34c:	00000000 	nop
+ 350:	273902a0 	addiu	t9,t9,672
+ 354:	03200008 	jr	t9
+ 358:	00000000 	nop
+
+0000035c <Event_AddTimerHandler>:
+ 35c:	3c1c0000 	lui	gp,0x0
+ 360:	279c0000 	addiu	gp,gp,0
+ 364:	0399e021 	addu	gp,gp,t9
+ 368:	27bdffc0 	addiu	sp,sp,-64
+ 36c:	afbf0038 	sw	ra,56(sp)
+ 370:	afb30034 	sw	s3,52(sp)
+ 374:	afb20030 	sw	s2,48(sp)
+ 378:	afb1002c 	sw	s1,44(sp)
+ 37c:	afb00028 	sw	s0,40(sp)
+ 380:	afbc0018 	sw	gp,24(sp)
+ 384:	8f990000 	lw	t9,0(gp)
+ 388:	afa60048 	sw	a2,72(sp)
+ 38c:	00809021 	move	s2,a0
+ 390:	03204021 	move	t0,t9
+ 394:	afa50044 	sw	a1,68(sp)
+ 398:	04a00008 	bltz	a1,3bc <Event_AddTimerHandler+0x60>
+ 39c:	00e09821 	move	s3,a3
+ 3a0:	3c02000f 	lui	v0,0xf
+ 3a4:	3451423f 	ori	s1,v0,0x423f
+ 3a8:	04c00004 	bltz	a2,3bc <Event_AddTimerHandler+0x60>
+ 3ac:	0226102a 	slt	v0,s1,a2
+ 3b0:	8f990000 	lw	t9,0(gp)
+ 3b4:	10400010 	beqz	v0,3f8 <Event_AddTimerHandler+0x9c>
+ 3b8:	2404001c 	li	a0,28
+ 3bc:	0100c821 	move	t9,t0
+ 3c0:	0320f809 	jalr	t9
+ 3c4:	00000000 	nop
+ 3c8:	8fbc0018 	lw	gp,24(sp)
+ 3cc:	24030016 	li	v1,22
+ 3d0:	00003021 	move	a2,zero
+ 3d4:	ac430000 	sw	v1,0(v0)
+ 3d8:	8fbf0038 	lw	ra,56(sp)
+ 3dc:	8fb30034 	lw	s3,52(sp)
+ 3e0:	8fb20030 	lw	s2,48(sp)
+ 3e4:	8fb1002c 	lw	s1,44(sp)
+ 3e8:	8fb00028 	lw	s0,40(sp)
+ 3ec:	00c01021 	move	v0,a2
+ 3f0:	03e00008 	jr	ra
+ 3f4:	27bd0040 	addiu	sp,sp,64
+ 3f8:	0320f809 	jalr	t9
+ 3fc:	00000000 	nop
+ 400:	8fbc0018 	lw	gp,24(sp)
+ 404:	00408021 	move	s0,v0
+ 408:	27a40020 	addiu	a0,sp,32
+ 40c:	8f990000 	lw	t9,0(gp)
+ 410:	00002821 	move	a1,zero
+ 414:	1040fff0 	beqz	v0,3d8 <Event_AddTimerHandler+0x7c>
+ 418:	00003021 	move	a2,zero
+ 41c:	0320f809 	jalr	t9
+ 420:	00000000 	nop
+ 424:	8fa40048 	lw	a0,72(sp)
+ 428:	8fa30024 	lw	v1,36(sp)
+ 42c:	3c02fff0 	lui	v0,0xfff0
+ 430:	3442bdc0 	ori	v0,v0,0xbdc0
+ 434:	00832821 	addu	a1,a0,v1
+ 438:	00a23021 	addu	a2,a1,v0
+ 43c:	8fa30044 	lw	v1,68(sp)
+ 440:	8fa20020 	lw	v0,32(sp)
+ 444:	0225202a 	slt	a0,s1,a1
+ 448:	8fbc0018 	lw	gp,24(sp)
+ 44c:	00621821 	addu	v1,v1,v0
+ 450:	14800021 	bnez	a0,4d8 <Event_AddTimerHandler+0x17c>
+ 454:	24620001 	addiu	v0,v1,1
+ 458:	afa50048 	sw	a1,72(sp)
+ 45c:	afa30044 	sw	v1,68(sp)
+ 460:	8e440000 	lw	a0,0(s2)
+ 464:	2402ffff 	li	v0,-1
+ 468:	8fa60044 	lw	a2,68(sp)
+ 46c:	ae040000 	sw	a0,0(s0)
+ 470:	8fa70048 	lw	a3,72(sp)
+ 474:	ae020004 	sw	v0,4(s0)
+ 478:	8f840000 	lw	a0,0(gp)
+ 47c:	8fa20050 	lw	v0,80(sp)
+ 480:	8f990000 	lw	t9,0(gp)
+ 484:	24030004 	li	v1,4
+ 488:	ae130014 	sw	s3,20(s0)
+ 48c:	ae020018 	sw	v0,24(s0)
+ 490:	ae06000c 	sw	a2,12(s0)
+ 494:	ae500000 	sw	s0,0(s2)
+ 498:	ae030008 	sw	v1,8(s0)
+ 49c:	ae070010 	sw	a3,16(s0)
+ 4a0:	02402821 	move	a1,s2
+ 4a4:	afb00010 	sw	s0,16(sp)
+ 4a8:	0320f809 	jalr	t9
+ 4ac:	24840044 	addiu	a0,a0,68
+ 4b0:	02003021 	move	a2,s0
+ 4b4:	8fbc0018 	lw	gp,24(sp)
+ 4b8:	8fbf0038 	lw	ra,56(sp)
+ 4bc:	8fb30034 	lw	s3,52(sp)
+ 4c0:	8fb20030 	lw	s2,48(sp)
+ 4c4:	8fb1002c 	lw	s1,44(sp)
+ 4c8:	8fb00028 	lw	s0,40(sp)
+ 4cc:	00c01021 	move	v0,a2
+ 4d0:	03e00008 	jr	ra
+ 4d4:	27bd0040 	addiu	sp,sp,64
+ 4d8:	afa60048 	sw	a2,72(sp)
+ 4dc:	1000ffe0 	b	460 <Event_AddTimerHandler+0x104>
+ 4e0:	afa20044 	sw	v0,68(sp)
+
+000004e4 <Event_AddHandler>:
+ 4e4:	3c1c0000 	lui	gp,0x0
+ 4e8:	279c0000 	addiu	gp,gp,0
+ 4ec:	0399e021 	addu	gp,gp,t9
+ 4f0:	27bdffc8 	addiu	sp,sp,-56
+ 4f4:	afbf0034 	sw	ra,52(sp)
+ 4f8:	afb40030 	sw	s4,48(sp)
+ 4fc:	afb3002c 	sw	s3,44(sp)
+ 500:	afb20028 	sw	s2,40(sp)
+ 504:	afb10024 	sw	s1,36(sp)
+ 508:	afb00020 	sw	s0,32(sp)
+ 50c:	afbc0018 	sw	gp,24(sp)
+ 510:	8f990000 	lw	t9,0(gp)
+ 514:	2402fef3 	li	v0,-269
+ 518:	00809021 	move	s2,a0
+ 51c:	03204021 	move	t0,t9
+ 520:	00a08821 	move	s1,a1
+ 524:	8f990000 	lw	t9,0(gp)
+ 528:	00c29824 	and	s3,a2,v0
+ 52c:	2404001c 	li	a0,28
+ 530:	04a00025 	bltz	a1,5c8 <Event_AddHandler+0xe4>
+ 534:	00e0a021 	move	s4,a3
+ 538:	0100c821 	move	t9,t0
+ 53c:	0320f809 	jalr	t9
+ 540:	00000000 	nop
+ 544:	8fbc0018 	lw	gp,24(sp)
+ 548:	00408021 	move	s0,v0
+ 54c:	02402821 	move	a1,s2
+ 550:	8f840000 	lw	a0,0(gp)
+ 554:	8f990000 	lw	t9,0(gp)
+ 558:	02203021 	move	a2,s1
+ 55c:	24840074 	addiu	a0,a0,116
+ 560:	02603821 	move	a3,s3
+ 564:	1040000f 	beqz	v0,5a4 <Event_AddHandler+0xc0>
+ 568:	00004021 	move	t0,zero
+ 56c:	8e430000 	lw	v1,0(s2)
+ 570:	ac540014 	sw	s4,20(v0)
+ 574:	8fa20048 	lw	v0,72(sp)
+ 578:	ae030000 	sw	v1,0(s0)
+ 57c:	ae110004 	sw	s1,4(s0)
+ 580:	ae500000 	sw	s0,0(s2)
+ 584:	ae020018 	sw	v0,24(s0)
+ 588:	ae130008 	sw	s3,8(s0)
+ 58c:	ae000010 	sw	zero,16(s0)
+ 590:	ae00000c 	sw	zero,12(s0)
+ 594:	0320f809 	jalr	t9
+ 598:	afb00010 	sw	s0,16(sp)
+ 59c:	8fbc0018 	lw	gp,24(sp)
+ 5a0:	02004021 	move	t0,s0
+ 5a4:	8fbf0034 	lw	ra,52(sp)
+ 5a8:	8fb40030 	lw	s4,48(sp)
+ 5ac:	8fb3002c 	lw	s3,44(sp)
+ 5b0:	8fb20028 	lw	s2,40(sp)
+ 5b4:	8fb10024 	lw	s1,36(sp)
+ 5b8:	8fb00020 	lw	s0,32(sp)
+ 5bc:	01001021 	move	v0,t0
+ 5c0:	03e00008 	jr	ra
+ 5c4:	27bd0038 	addiu	sp,sp,56
+ 5c8:	0320f809 	jalr	t9
+ 5cc:	00000000 	nop
+ 5d0:	8fbc0018 	lw	gp,24(sp)
+ 5d4:	24030009 	li	v1,9
+ 5d8:	00004021 	move	t0,zero
+ 5dc:	1000fff1 	b	5a4 <Event_AddHandler+0xc0>
+ 5e0:	ac430000 	sw	v1,0(v0)
+
+000005e4 <Event_AddHandlerWithTimeout>:
+ 5e4:	3c1c0000 	lui	gp,0x0
+ 5e8:	279c0000 	addiu	gp,gp,0
+ 5ec:	0399e021 	addu	gp,gp,t9
+ 5f0:	27bdffb0 	addiu	sp,sp,-80
+ 5f4:	afbf004c 	sw	ra,76(sp)
+ 5f8:	afb60048 	sw	s6,72(sp)
+ 5fc:	afb50044 	sw	s5,68(sp)
+ 600:	afb40040 	sw	s4,64(sp)
+ 604:	afb3003c 	sw	s3,60(sp)
+ 608:	afb20038 	sw	s2,56(sp)
+ 60c:	afb10034 	sw	s1,52(sp)
+ 610:	afb00030 	sw	s0,48(sp)
+ 614:	afbc0020 	sw	gp,32(sp)
+ 618:	afa7005c 	sw	a3,92(sp)
+ 61c:	0080a021 	move	s4,a0
+ 620:	8fb60064 	lw	s6,100(sp)
+ 624:	8fb50068 	lw	s5,104(sp)
+ 628:	04e0004c 	bltz	a3,75c <Event_AddHandlerWithTimeout+0x178>
+ 62c:	00a09821 	move	s3,a1
+ 630:	8fa30060 	lw	v1,96(sp)
+ 634:	00000000 	nop
+ 638:	04600048 	bltz	v1,75c <Event_AddHandlerWithTimeout+0x178>
+ 63c:	2402fefb 	li	v0,-261
+ 640:	00c28824 	and	s1,a2,v0
+ 644:	04a00069 	bltz	a1,7ec <Event_AddHandlerWithTimeout+0x208>
+ 648:	36310008 	ori	s1,s1,0x8
+ 64c:	3c02000f 	lui	v0,0xf
+ 650:	3452423f 	ori	s2,v0,0x423f
+ 654:	0243182a 	slt	v1,s2,v1
+ 658:	14600051 	bnez	v1,7a0 <Event_AddHandlerWithTimeout+0x1bc>
+ 65c:	00000000 	nop
+ 660:	8f990000 	lw	t9,0(gp)
+ 664:	00000000 	nop
+ 668:	0320f809 	jalr	t9
+ 66c:	2404001c 	li	a0,28
+ 670:	00408021 	move	s0,v0
+ 674:	8fbc0020 	lw	gp,32(sp)
+ 678:	10400027 	beqz	v0,718 <Event_AddHandlerWithTimeout+0x134>
+ 67c:	00002021 	move	a0,zero
+ 680:	8f990000 	lw	t9,0(gp)
+ 684:	27a40028 	addiu	a0,sp,40
+ 688:	0320f809 	jalr	t9
+ 68c:	00002821 	move	a1,zero
+ 690:	8fa30060 	lw	v1,96(sp)
+ 694:	8fa2002c 	lw	v0,44(sp)
+ 698:	8fbc0020 	lw	gp,32(sp)
+ 69c:	00622821 	addu	a1,v1,v0
+ 6a0:	8fa3005c 	lw	v1,92(sp)
+ 6a4:	8fa20028 	lw	v0,40(sp)
+ 6a8:	0245202a 	slt	a0,s2,a1
+ 6ac:	14800025 	bnez	a0,744 <Event_AddHandlerWithTimeout+0x160>
+ 6b0:	00621821 	addu	v1,v1,v0
+ 6b4:	afa50060 	sw	a1,96(sp)
+ 6b8:	afa3005c 	sw	v1,92(sp)
+ 6bc:	8e820000 	lw	v0,0(s4)
+ 6c0:	8fa40060 	lw	a0,96(sp)
+ 6c4:	8fa3005c 	lw	v1,92(sp)
+ 6c8:	ae020000 	sw	v0,0(s0)
+ 6cc:	ae160014 	sw	s6,20(s0)
+ 6d0:	ae150018 	sw	s5,24(s0)
+ 6d4:	afa40014 	sw	a0,20(sp)
+ 6d8:	afa30010 	sw	v1,16(sp)
+ 6dc:	ae040010 	sw	a0,16(s0)
+ 6e0:	8f840000 	lw	a0,0(gp)
+ 6e4:	8f990000 	lw	t9,0(gp)
+ 6e8:	ae130004 	sw	s3,4(s0)
+ 6ec:	ae110008 	sw	s1,8(s0)
+ 6f0:	ae03000c 	sw	v1,12(s0)
+ 6f4:	ae900000 	sw	s0,0(s4)
+ 6f8:	248400a4 	addiu	a0,a0,164
+ 6fc:	afb00018 	sw	s0,24(sp)
+ 700:	02802821 	move	a1,s4
+ 704:	02603021 	move	a2,s3
+ 708:	0320f809 	jalr	t9
+ 70c:	02203821 	move	a3,s1
+ 710:	8fbc0020 	lw	gp,32(sp)
+ 714:	02002021 	move	a0,s0
+ 718:	8fbf004c 	lw	ra,76(sp)
+ 71c:	8fb60048 	lw	s6,72(sp)
+ 720:	8fb50044 	lw	s5,68(sp)
+ 724:	8fb40040 	lw	s4,64(sp)
+ 728:	8fb3003c 	lw	s3,60(sp)
+ 72c:	8fb20038 	lw	s2,56(sp)
+ 730:	8fb10034 	lw	s1,52(sp)
+ 734:	8fb00030 	lw	s0,48(sp)
+ 738:	00801021 	move	v0,a0
+ 73c:	03e00008 	jr	ra
+ 740:	27bd0050 	addiu	sp,sp,80
+ 744:	3c02fff0 	lui	v0,0xfff0
+ 748:	3442bdc0 	ori	v0,v0,0xbdc0
+ 74c:	00a21021 	addu	v0,a1,v0
+ 750:	24630001 	addiu	v1,v1,1
+ 754:	1000ffd8 	b	6b8 <Event_AddHandlerWithTimeout+0xd4>
+ 758:	afa20060 	sw	v0,96(sp)
+ 75c:	8f990000 	lw	t9,0(gp)
+ 760:	afb50010 	sw	s5,16(sp)
+ 764:	0320f809 	jalr	t9
+ 768:	02c03821 	move	a3,s6
+ 76c:	8fbc0020 	lw	gp,32(sp)
+ 770:	8fbf004c 	lw	ra,76(sp)
+ 774:	8fb60048 	lw	s6,72(sp)
+ 778:	8fb50044 	lw	s5,68(sp)
+ 77c:	8fb40040 	lw	s4,64(sp)
+ 780:	8fb3003c 	lw	s3,60(sp)
+ 784:	8fb20038 	lw	s2,56(sp)
+ 788:	8fb10034 	lw	s1,52(sp)
+ 78c:	8fb00030 	lw	s0,48(sp)
+ 790:	00402021 	move	a0,v0
+ 794:	00801021 	move	v0,a0
+ 798:	03e00008 	jr	ra
+ 79c:	27bd0050 	addiu	sp,sp,80
+ 7a0:	8f990000 	lw	t9,0(gp)
+ 7a4:	00000000 	nop
+ 7a8:	0320f809 	jalr	t9
+ 7ac:	00000000 	nop
+ 7b0:	8fbc0020 	lw	gp,32(sp)
+ 7b4:	24030016 	li	v1,22
+ 7b8:	00002021 	move	a0,zero
+ 7bc:	ac430000 	sw	v1,0(v0)
+ 7c0:	8fbf004c 	lw	ra,76(sp)
+ 7c4:	8fb60048 	lw	s6,72(sp)
+ 7c8:	8fb50044 	lw	s5,68(sp)
+ 7cc:	8fb40040 	lw	s4,64(sp)
+ 7d0:	8fb3003c 	lw	s3,60(sp)
+ 7d4:	8fb20038 	lw	s2,56(sp)
+ 7d8:	8fb10034 	lw	s1,52(sp)
+ 7dc:	8fb00030 	lw	s0,48(sp)
+ 7e0:	00801021 	move	v0,a0
+ 7e4:	03e00008 	jr	ra
+ 7e8:	27bd0050 	addiu	sp,sp,80
+ 7ec:	8f990000 	lw	t9,0(gp)
+ 7f0:	00000000 	nop
+ 7f4:	0320f809 	jalr	t9
+ 7f8:	00000000 	nop
+ 7fc:	8fbc0020 	lw	gp,32(sp)
+ 800:	24030009 	li	v1,9
+ 804:	00002021 	move	a0,zero
+ 808:	1000ffed 	b	7c0 <Event_AddHandlerWithTimeout+0x1dc>
+ 80c:	ac430000 	sw	v1,0(v0)
+
+00000810 <Event_HandleEvent>:
+ 810:	3c1c0000 	lui	gp,0x0
+ 814:	279c0000 	addiu	gp,gp,0
+ 818:	0399e021 	addu	gp,gp,t9
+ 81c:	27bdfe98 	addiu	sp,sp,-360
+ 820:	afbf0164 	sw	ra,356(sp)
+ 824:	afbe0160 	sw	s8,352(sp)
+ 828:	afb7015c 	sw	s7,348(sp)
+ 82c:	afb60158 	sw	s6,344(sp)
+ 830:	afb50154 	sw	s5,340(sp)
+ 834:	afb40150 	sw	s4,336(sp)
+ 838:	afb3014c 	sw	s3,332(sp)
+ 83c:	afb20148 	sw	s2,328(sp)
+ 840:	afb10144 	sw	s1,324(sp)
+ 844:	afb00140 	sw	s0,320(sp)
+ 848:	afbc0018 	sw	gp,24(sp)
+ 84c:	00809021 	move	s2,a0
+ 850:	8f840000 	lw	a0,0(gp)
+ 854:	8f990000 	lw	t9,0(gp)
+ 858:	02402821 	move	a1,s2
+ 85c:	0320f809 	jalr	t9
+ 860:	248400e8 	addiu	a0,a0,232
+ 864:	8fbc0018 	lw	gp,24(sp)
+ 868:	27b70020 	addiu	s7,sp,32
+ 86c:	afa0013c 	sw	zero,316(sp)
+ 870:	0000b021 	move	s6,zero
+ 874:	0000a021 	move	s4,zero
+ 878:	0000a821 	move	s5,zero
+ 87c:	2411ffff 	li	s1,-1
+ 880:	02e01821 	move	v1,s7
+ 884:	2402001f 	li	v0,31
+ 888:	2442ffff 	addiu	v0,v0,-1
+ 88c:	ac600000 	sw	zero,0(v1)
+ 890:	0441fffd 	bgez	v0,888 <Event_HandleEvent+0x78>
+ 894:	24630004 	addiu	v1,v1,4
+ 898:	27a600a0 	addiu	a2,sp,160
+ 89c:	00c01821 	move	v1,a2
+ 8a0:	2402001f 	li	v0,31
+ 8a4:	2442ffff 	addiu	v0,v0,-1
+ 8a8:	ac600000 	sw	zero,0(v1)
+ 8ac:	0441fffd 	bgez	v0,8a4 <Event_HandleEvent+0x94>
+ 8b0:	24630004 	addiu	v1,v1,4
+ 8b4:	8e500000 	lw	s0,0(s2)
+ 8b8:	00000000 	nop
+ 8bc:	16000007 	bnez	s0,8dc <Event_HandleEvent+0xcc>
+ 8c0:	0000f021 	move	s8,zero
+ 8c4:	10000039 	b	9ac <Event_HandleEvent+0x19c>
+ 8c8:	00000000 	nop
+ 8cc:	8e100000 	lw	s0,0(s0)
+ 8d0:	00000000 	nop
+ 8d4:	12000033 	beqz	s0,9a4 <Event_HandleEvent+0x194>
+ 8d8:	00000000 	nop
+ 8dc:	8e070008 	lw	a3,8(s0)
+ 8e0:	00000000 	nop
+ 8e4:	00071202 	srl	v0,a3,0x8
+ 8e8:	30420001 	andi	v0,v0,0x1
+ 8ec:	1440fff7 	bnez	v0,8cc <Event_HandleEvent+0xbc>
+ 8f0:	30e20001 	andi	v0,a3,0x1
+ 8f4:	1040000f 	beqz	v0,934 <Event_HandleEvent+0x124>
+ 8f8:	00071042 	srl	v0,a3,0x1
+ 8fc:	8e080004 	lw	t0,4(s0)
+ 900:	24140001 	li	s4,1
+ 904:	00081942 	srl	v1,t0,0x5
+ 908:	00031880 	sll	v1,v1,0x2
+ 90c:	00771821 	addu	v1,v1,s7
+ 910:	8c640000 	lw	a0,0(v1)
+ 914:	3102001f 	andi	v0,t0,0x1f
+ 918:	00541004 	sllv	v0,s4,v0
+ 91c:	00822025 	or	a0,a0,v0
+ 920:	0228282a 	slt	a1,s1,t0
+ 924:	10a00002 	beqz	a1,930 <Event_HandleEvent+0x120>
+ 928:	ac640000 	sw	a0,0(v1)
+ 92c:	01008821 	move	s1,t0
+ 930:	00071042 	srl	v0,a3,0x1
+ 934:	30420001 	andi	v0,v0,0x1
+ 938:	1040000f 	beqz	v0,978 <Event_HandleEvent+0x168>
+ 93c:	30e2000c 	andi	v0,a3,0xc
+ 940:	8e080004 	lw	t0,4(s0)
+ 944:	24150001 	li	s5,1
+ 948:	00081942 	srl	v1,t0,0x5
+ 94c:	00031880 	sll	v1,v1,0x2
+ 950:	00771821 	addu	v1,v1,s7
+ 954:	8c640080 	lw	a0,128(v1)
+ 958:	3102001f 	andi	v0,t0,0x1f
+ 95c:	00551004 	sllv	v0,s5,v0
+ 960:	00822025 	or	a0,a0,v0
+ 964:	0228282a 	slt	a1,s1,t0
+ 968:	10a00002 	beqz	a1,974 <Event_HandleEvent+0x164>
+ 96c:	ac640080 	sw	a0,128(v1)
+ 970:	01008821 	move	s1,t0
+ 974:	30e2000c 	andi	v0,a3,0xc
+ 978:	1040ffd4 	beqz	v0,8cc <Event_HandleEvent+0xbc>
+ 97c:	00000000 	nop
+ 980:	16c000cf 	bnez	s6,cc0 <Event_HandleEvent+0x4b0>
+ 984:	00000000 	nop
+ 988:	8e02000c 	lw	v0,12(s0)
+ 98c:	8e030010 	lw	v1,16(s0)
+ 990:	8e100000 	lw	s0,0(s0)
+ 994:	24160001 	li	s6,1
+ 998:	afa20120 	sw	v0,288(sp)
+ 99c:	1600ffcf 	bnez	s0,8dc <Event_HandleEvent+0xcc>
+ 9a0:	afa30124 	sw	v1,292(sp)
+ 9a4:	128000c4 	beqz	s4,cb8 <Event_HandleEvent+0x4a8>
+ 9a8:	02e0f021 	move	s8,s7
+ 9ac:	16a00002 	bnez	s5,9b8 <Event_HandleEvent+0x1a8>
+ 9b0:	afa60138 	sw	a2,312(sp)
+ 9b4:	afa00138 	sw	zero,312(sp)
+ 9b8:	16c000e4 	bnez	s6,d4c <Event_HandleEvent+0x53c>
+ 9bc:	00009821 	move	s3,zero
+ 9c0:	16800005 	bnez	s4,9d8 <Event_HandleEvent+0x1c8>
+ 9c4:	00000000 	nop
+ 9c8:	16a00003 	bnez	s5,9d8 <Event_HandleEvent+0x1c8>
+ 9cc:	00000000 	nop
+ 9d0:	12c0001d 	beqz	s6,a48 <Event_HandleEvent+0x238>
+ 9d4:	00000000 	nop
+ 9d8:	26300001 	addiu	s0,s1,1
+ 9dc:	24110004 	li	s1,4
+ 9e0:	8f990000 	lw	t9,0(gp)
+ 9e4:	8fa60138 	lw	a2,312(sp)
+ 9e8:	afb30010 	sw	s3,16(sp)
+ 9ec:	02002021 	move	a0,s0
+ 9f0:	03c02821 	move	a1,s8
+ 9f4:	0320f809 	jalr	t9
+ 9f8:	00003821 	move	a3,zero
+ 9fc:	8fbc0018 	lw	gp,24(sp)
+ a00:	00000000 	nop
+ a04:	8f990000 	lw	t9,0(gp)
+ a08:	04410007 	bgez	v0,a28 <Event_HandleEvent+0x218>
+ a0c:	afa2013c 	sw	v0,316(sp)
+ a10:	0320f809 	jalr	t9
+ a14:	00000000 	nop
+ a18:	8c430000 	lw	v1,0(v0)
+ a1c:	8fbc0018 	lw	gp,24(sp)
+ a20:	1071ffef 	beq	v1,s1,9e0 <Event_HandleEvent+0x1d0>
+ a24:	00000000 	nop
+ a28:	12c00007 	beqz	s6,a48 <Event_HandleEvent+0x238>
+ a2c:	27a40128 	addiu	a0,sp,296
+ a30:	8f990000 	lw	t9,0(gp)
+ a34:	00000000 	nop
+ a38:	0320f809 	jalr	t9
+ a3c:	00002821 	move	a1,zero
+ a40:	8fbc0018 	lw	gp,24(sp)
+ a44:	00000000 	nop
+ a48:	8f990000 	lw	t9,0(gp)
+ a4c:	00000000 	nop
+ a50:	0320f809 	jalr	t9
+ a54:	00000000 	nop
+ a58:	8e430004 	lw	v1,4(s2)
+ a5c:	8c540000 	lw	s4,0(v0)
+ a60:	8fbc0018 	lw	gp,24(sp)
+ a64:	24620001 	addiu	v0,v1,1
+ a68:	8fa3013c 	lw	v1,316(sp)
+ a6c:	00000000 	nop
+ a70:	04600054 	bltz	v1,bc4 <Event_HandleEvent+0x3b4>
+ a74:	00000000 	nop
+ a78:	8e500000 	lw	s0,0(s2)
+ a7c:	00000000 	nop
+ a80:	12000050 	beqz	s0,bc4 <Event_HandleEvent+0x3b4>
+ a84:	00000000 	nop
+ a88:	10000005 	b	aa0 <Event_HandleEvent+0x290>
+ a8c:	ae420004 	sw	v0,4(s2)
+ a90:	8e100000 	lw	s0,0(s0)
+ a94:	00000000 	nop
+ a98:	12000048 	beqz	s0,bbc <Event_HandleEvent+0x3ac>
+ a9c:	00000000 	nop
+ aa0:	8e070008 	lw	a3,8(s0)
+ aa4:	00000000 	nop
+ aa8:	00071202 	srl	v0,a3,0x8
+ aac:	30420001 	andi	v0,v0,0x1
+ ab0:	1440fff7 	bnez	v0,a90 <Event_HandleEvent+0x280>
+ ab4:	30e20001 	andi	v0,a3,0x1
+ ab8:	1040000d 	beqz	v0,af0 <Event_HandleEvent+0x2e0>
+ abc:	00008821 	move	s1,zero
+ ac0:	8e020004 	lw	v0,4(s0)
+ ac4:	00000000 	nop
+ ac8:	00021942 	srl	v1,v0,0x5
+ acc:	00031880 	sll	v1,v1,0x2
+ ad0:	00771821 	addu	v1,v1,s7
+ ad4:	8c640000 	lw	a0,0(v1)
+ ad8:	3042001f 	andi	v0,v0,0x1f
+ adc:	00442007 	srav	a0,a0,v0
+ ae0:	30840001 	andi	a0,a0,0x1
+ ae4:	10800003 	beqz	a0,af4 <Event_HandleEvent+0x2e4>
+ ae8:	00071042 	srl	v0,a3,0x1
+ aec:	24110001 	li	s1,1
+ af0:	00071042 	srl	v0,a3,0x1
+ af4:	30420001 	andi	v0,v0,0x1
+ af8:	1040000d 	beqz	v0,b30 <Event_HandleEvent+0x320>
+ afc:	30e2000c 	andi	v0,a3,0xc
+ b00:	8e020004 	lw	v0,4(s0)
+ b04:	00000000 	nop
+ b08:	00021942 	srl	v1,v0,0x5
+ b0c:	00031880 	sll	v1,v1,0x2
+ b10:	00771821 	addu	v1,v1,s7
+ b14:	8c640080 	lw	a0,128(v1)
+ b18:	3042001f 	andi	v0,v0,0x1f
+ b1c:	00442007 	srav	a0,a0,v0
+ b20:	30840001 	andi	a0,a0,0x1
+ b24:	10800002 	beqz	a0,b30 <Event_HandleEvent+0x320>
+ b28:	30e2000c 	andi	v0,a3,0xc
+ b2c:	36310002 	ori	s1,s1,0x2
+ b30:	10400009 	beqz	v0,b58 <Event_HandleEvent+0x348>
+ b34:	00000000 	nop
+ b38:	8e04000c 	lw	a0,12(s0)
+ b3c:	8fa30128 	lw	v1,296(sp)
+ b40:	00000000 	nop
+ b44:	0083102a 	slt	v0,a0,v1
+ b48:	14400075 	bnez	v0,d20 <Event_HandleEvent+0x510>
+ b4c:	00000000 	nop
+ b50:	1083006d 	beq	a0,v1,d08 <Event_HandleEvent+0x4f8>
+ b54:	00000000 	nop
+ b58:	1220ffcd 	beqz	s1,a90 <Event_HandleEvent+0x280>
+ b5c:	02002821 	move	a1,s0
+ b60:	8f840000 	lw	a0,0(gp)
+ b64:	8f990000 	lw	t9,0(gp)
+ b68:	24840108 	addiu	a0,a0,264
+ b6c:	0320f809 	jalr	t9
+ b70:	02203021 	move	a2,s1
+ b74:	8e050004 	lw	a1,4(s0)
+ b78:	8e190014 	lw	t9,20(s0)
+ b7c:	8e070018 	lw	a3,24(s0)
+ b80:	02402021 	move	a0,s2
+ b84:	0320f809 	jalr	t9
+ b88:	02203021 	move	a2,s1
+ b8c:	8fbc0018 	lw	gp,24(sp)
+ b90:	02002821 	move	a1,s0
+ b94:	02203021 	move	a2,s1
+ b98:	8f840000 	lw	a0,0(gp)
+ b9c:	8f990000 	lw	t9,0(gp)
+ ba0:	00000000 	nop
+ ba4:	0320f809 	jalr	t9
+ ba8:	24840128 	addiu	a0,a0,296
+ bac:	8e100000 	lw	s0,0(s0)
+ bb0:	8fbc0018 	lw	gp,24(sp)
+ bb4:	1600ffba 	bnez	s0,aa0 <Event_HandleEvent+0x290>
+ bb8:	00000000 	nop
+ bbc:	8e420004 	lw	v0,4(s2)
+ bc0:	00000000 	nop
+ bc4:	2442ffff 	addiu	v0,v0,-1
+ bc8:	14400028 	bnez	v0,c6c <Event_HandleEvent+0x45c>
+ bcc:	ae420004 	sw	v0,4(s2)
+ bd0:	8e420008 	lw	v0,8(s2)
+ bd4:	00000000 	nop
+ bd8:	10400024 	beqz	v0,c6c <Event_HandleEvent+0x45c>
+ bdc:	00000000 	nop
+ be0:	8e42000c 	lw	v0,12(s2)
+ be4:	00000000 	nop
+ be8:	14400073 	bnez	v0,db8 <Event_HandleEvent+0x5a8>
+ bec:	ae400008 	sw	zero,8(s2)
+ bf0:	8e440000 	lw	a0,0(s2)
+ bf4:	00000000 	nop
+ bf8:	1080001c 	beqz	a0,c6c <Event_HandleEvent+0x45c>
+ bfc:	00008821 	move	s1,zero
+ c00:	8f820000 	lw	v0,0(gp)
+ c04:	10000006 	b	c20 <Event_HandleEvent+0x410>
+ c08:	2453013c 	addiu	s3,v0,316
+ c0c:	00808821 	move	s1,a0
+ c10:	8c840000 	lw	a0,0(a0)
+ c14:	00000000 	nop
+ c18:	10800014 	beqz	a0,c6c <Event_HandleEvent+0x45c>
+ c1c:	00000000 	nop
+ c20:	8c820008 	lw	v0,8(a0)
+ c24:	00000000 	nop
+ c28:	00021202 	srl	v0,v0,0x8
+ c2c:	30420001 	andi	v0,v0,0x1
+ c30:	1040fff6 	beqz	v0,c0c <Event_HandleEvent+0x3fc>
+ c34:	00000000 	nop
+ c38:	1220005c 	beqz	s1,dac <Event_HandleEvent+0x59c>
+ c3c:	00000000 	nop
+ c40:	8c820000 	lw	v0,0(a0)
+ c44:	00000000 	nop
+ c48:	ae220000 	sw	v0,0(s1)
+ c4c:	8c900000 	lw	s0,0(a0)
+ c50:	0260c821 	move	t9,s3
+ c54:	0320f809 	jalr	t9
+ c58:	00000000 	nop
+ c5c:	02002021 	move	a0,s0
+ c60:	8fbc0018 	lw	gp,24(sp)
+ c64:	1480ffee 	bnez	a0,c20 <Event_HandleEvent+0x410>
+ c68:	00000000 	nop
+ c6c:	8f990000 	lw	t9,0(gp)
+ c70:	00000000 	nop
+ c74:	0320f809 	jalr	t9
+ c78:	00000000 	nop
+ c7c:	ac540000 	sw	s4,0(v0)
+ c80:	8fbc0018 	lw	gp,24(sp)
+ c84:	8fa2013c 	lw	v0,316(sp)
+ c88:	8fbf0164 	lw	ra,356(sp)
+ c8c:	8fbe0160 	lw	s8,352(sp)
+ c90:	8fb7015c 	lw	s7,348(sp)
+ c94:	8fb60158 	lw	s6,344(sp)
+ c98:	8fb50154 	lw	s5,340(sp)
+ c9c:	8fb40150 	lw	s4,336(sp)
+ ca0:	8fb3014c 	lw	s3,332(sp)
+ ca4:	8fb20148 	lw	s2,328(sp)
+ ca8:	8fb10144 	lw	s1,324(sp)
+ cac:	8fb00140 	lw	s0,320(sp)
+ cb0:	03e00008 	jr	ra
+ cb4:	27bd0168 	addiu	sp,sp,360
+ cb8:	1000ff3c 	b	9ac <Event_HandleEvent+0x19c>
+ cbc:	0000f021 	move	s8,zero
+ cc0:	8e04000c 	lw	a0,12(s0)
+ cc4:	8fa30120 	lw	v1,288(sp)
+ cc8:	00000000 	nop
+ ccc:	0083102a 	slt	v0,a0,v1
+ cd0:	14400009 	bnez	v0,cf8 <Event_HandleEvent+0x4e8>
+ cd4:	00000000 	nop
+ cd8:	1483fefc 	bne	a0,v1,8cc <Event_HandleEvent+0xbc>
+ cdc:	00000000 	nop
+ ce0:	8e020010 	lw	v0,16(s0)
+ ce4:	8fa30124 	lw	v1,292(sp)
+ ce8:	00000000 	nop
+ cec:	0043102a 	slt	v0,v0,v1
+ cf0:	1040fef6 	beqz	v0,8cc <Event_HandleEvent+0xbc>
+ cf4:	00000000 	nop
+ cf8:	8e020010 	lw	v0,16(s0)
+ cfc:	afa40120 	sw	a0,288(sp)
+ d00:	1000fef2 	b	8cc <Event_HandleEvent+0xbc>
+ d04:	afa20124 	sw	v0,292(sp)
+ d08:	8e030010 	lw	v1,16(s0)
+ d0c:	8fa2012c 	lw	v0,300(sp)
+ d10:	00000000 	nop
+ d14:	0043102a 	slt	v0,v0,v1
+ d18:	1440ff8f 	bnez	v0,b58 <Event_HandleEvent+0x348>
+ d1c:	00000000 	nop
+ d20:	00071082 	srl	v0,a3,0x2
+ d24:	30420001 	andi	v0,v0,0x1
+ d28:	1040ff8b 	beqz	v0,b58 <Event_HandleEvent+0x348>
+ d2c:	3631000c 	ori	s1,s1,0xc
+ d30:	24030001 	li	v1,1
+ d34:	ae430008 	sw	v1,8(s2)
+ d38:	8e020008 	lw	v0,8(s0)
+ d3c:	00000000 	nop
+ d40:	34420100 	ori	v0,v0,0x100
+ d44:	1000ff84 	b	b58 <Event_HandleEvent+0x348>
+ d48:	ae020008 	sw	v0,8(s0)
+ d4c:	8f990000 	lw	t9,0(gp)
+ d50:	27a40128 	addiu	a0,sp,296
+ d54:	0320f809 	jalr	t9
+ d58:	00002821 	move	a1,zero
+ d5c:	8fa30124 	lw	v1,292(sp)
+ d60:	8fa2012c 	lw	v0,300(sp)
+ d64:	8fa40120 	lw	a0,288(sp)
+ d68:	8fbc0018 	lw	gp,24(sp)
+ d6c:	00622823 	subu	a1,v1,v0
+ d70:	8fa20128 	lw	v0,296(sp)
+ d74:	04a00018 	bltz	a1,dd8 <Event_HandleEvent+0x5c8>
+ d78:	00821823 	subu	v1,a0,v0
+ d7c:	afa30130 	sw	v1,304(sp)
+ d80:	8fa20130 	lw	v0,304(sp)
+ d84:	00000000 	nop
+ d88:	04400005 	bltz	v0,da0 <Event_HandleEvent+0x590>
+ d8c:	27b30130 	addiu	s3,sp,304
+ d90:	1440ff0b 	bnez	v0,9c0 <Event_HandleEvent+0x1b0>
+ d94:	afa50134 	sw	a1,308(sp)
+ d98:	04a1ff09 	bgez	a1,9c0 <Event_HandleEvent+0x1b0>
+ d9c:	00000000 	nop
+ da0:	afa00130 	sw	zero,304(sp)
+ da4:	1000ff06 	b	9c0 <Event_HandleEvent+0x1b0>
+ da8:	afa00134 	sw	zero,308(sp)
+ dac:	8c820000 	lw	v0,0(a0)
+ db0:	1000ffa6 	b	c4c <Event_HandleEvent+0x43c>
+ db4:	ae420000 	sw	v0,0(s2)
+ db8:	8f990000 	lw	t9,0(gp)
+ dbc:	00000000 	nop
+ dc0:	273902a0 	addiu	t9,t9,672
+ dc4:	0320f809 	jalr	t9
+ dc8:	02402021 	move	a0,s2
+ dcc:	8fbc0018 	lw	gp,24(sp)
+ dd0:	1000ffa6 	b	c6c <Event_HandleEvent+0x45c>
+ dd4:	00000000 	nop
+ dd8:	3c02000f 	lui	v0,0xf
+ ddc:	34424240 	ori	v0,v0,0x4240
+ de0:	00a22821 	addu	a1,a1,v0
+ de4:	1000ffe5 	b	d7c <Event_HandleEvent+0x56c>
+ de8:	2463ffff 	addiu	v1,v1,-1
+
+00000dec <Event_CreateSelector>:
+ dec:	3c1c0000 	lui	gp,0x0
+ df0:	279c0000 	addiu	gp,gp,0
+ df4:	0399e021 	addu	gp,gp,t9
+ df8:	27bdffe0 	addiu	sp,sp,-32
+ dfc:	afbf001c 	sw	ra,28(sp)
+ e00:	afb00018 	sw	s0,24(sp)
+ e04:	afbc0010 	sw	gp,16(sp)
+ e08:	8f990000 	lw	t9,0(gp)
+ e0c:	00000000 	nop
+ e10:	0320f809 	jalr	t9
+ e14:	24040010 	li	a0,16
+ e18:	8fbc0010 	lw	gp,16(sp)
+ e1c:	00408021 	move	s0,v0
+ e20:	00402821 	move	a1,v0
+ e24:	8f840000 	lw	a0,0(gp)
+ e28:	8f990000 	lw	t9,0(gp)
+ e2c:	00001021 	move	v0,zero
+ e30:	12000008 	beqz	s0,e54 <Event_CreateSelector+0x68>
+ e34:	24840148 	addiu	a0,a0,328
+ e38:	ae000000 	sw	zero,0(s0)
+ e3c:	ae000004 	sw	zero,4(s0)
+ e40:	ae00000c 	sw	zero,12(s0)
+ e44:	0320f809 	jalr	t9
+ e48:	ae000008 	sw	zero,8(s0)
+ e4c:	8fbc0010 	lw	gp,16(sp)
+ e50:	02001021 	move	v0,s0
+ e54:	8fbf001c 	lw	ra,28(sp)
+ e58:	8fb00018 	lw	s0,24(sp)
+ e5c:	03e00008 	jr	ra
+ e60:	27bd0020 	addiu	sp,sp,32
+
+00000e64 <Event_EnableDebugging>:
+ e64:	3c1c0000 	lui	gp,0x0
+ e68:	279c0000 	addiu	gp,gp,0
+ e6c:	0399e021 	addu	gp,gp,t9
+ e70:	27bdffe0 	addiu	sp,sp,-32
+ e74:	afbf0018 	sw	ra,24(sp)
+ e78:	afbc0010 	sw	gp,16(sp)
+ e7c:	8f850000 	lw	a1,0(gp)
+ e80:	8f990000 	lw	t9,0(gp)
+ e84:	00000000 	nop
+ e88:	0320f809 	jalr	t9
+ e8c:	24a50160 	addiu	a1,a1,352
+ e90:	8fbc0010 	lw	gp,16(sp)
+ e94:	8fbf0018 	lw	ra,24(sp)
+ e98:	00402021 	move	a0,v0
+ e9c:	8f830000 	lw	v1,0(gp)
+ ea0:	0002102b 	sltu	v0,zero,v0
+ ea4:	27bd0020 	addiu	sp,sp,32
+ ea8:	03e00008 	jr	ra
+ eac:	ac640000 	sw	a0,0(v1)
+
+00000eb0 <Event_ChangeTimeout>:
+ eb0:	3c1c0000 	lui	gp,0x0
+ eb4:	279c0000 	addiu	gp,gp,0
+ eb8:	0399e021 	addu	gp,gp,t9
+ ebc:	27bdffd0 	addiu	sp,sp,-48
+ ec0:	afbf0028 	sw	ra,40(sp)
+ ec4:	afb10024 	sw	s1,36(sp)
+ ec8:	afb00020 	sw	s0,32(sp)
+ ecc:	afbc0010 	sw	gp,16(sp)
+ ed0:	afa50034 	sw	a1,52(sp)
+ ed4:	00808821 	move	s1,a0
+ ed8:	04a00009 	bltz	a1,f00 <Event_ChangeTimeout+0x50>
+ edc:	afa60038 	sw	a2,56(sp)
+ ee0:	3c02000f 	lui	v0,0xf
+ ee4:	3450423f 	ori	s0,v0,0x423f
+ ee8:	04c00005 	bltz	a2,f00 <Event_ChangeTimeout+0x50>
+ eec:	0206102a 	slt	v0,s0,a2
+ ef0:	8f990000 	lw	t9,0(gp)
+ ef4:	27a40018 	addiu	a0,sp,24
+ ef8:	10400006 	beqz	v0,f14 <Event_ChangeTimeout+0x64>
+ efc:	00002821 	move	a1,zero
+ f00:	8fbf0028 	lw	ra,40(sp)
+ f04:	8fb10024 	lw	s1,36(sp)
+ f08:	8fb00020 	lw	s0,32(sp)
+ f0c:	03e00008 	jr	ra
+ f10:	27bd0030 	addiu	sp,sp,48
+ f14:	0320f809 	jalr	t9
+ f18:	00000000 	nop
+ f1c:	8fa40038 	lw	a0,56(sp)
+ f20:	8fa3001c 	lw	v1,28(sp)
+ f24:	3c02fff0 	lui	v0,0xfff0
+ f28:	3442bdc0 	ori	v0,v0,0xbdc0
+ f2c:	00832821 	addu	a1,a0,v1
+ f30:	00a23021 	addu	a2,a1,v0
+ f34:	8fa30034 	lw	v1,52(sp)
+ f38:	8fa20018 	lw	v0,24(sp)
+ f3c:	0205202a 	slt	a0,s0,a1
+ f40:	8fbc0010 	lw	gp,16(sp)
+ f44:	00621821 	addu	v1,v1,v0
+ f48:	1080000c 	beqz	a0,f7c <Event_ChangeTimeout+0xcc>
+ f4c:	24620001 	addiu	v0,v1,1
+ f50:	afa60038 	sw	a2,56(sp)
+ f54:	afa20034 	sw	v0,52(sp)
+ f58:	8fa30034 	lw	v1,52(sp)
+ f5c:	8fa20038 	lw	v0,56(sp)
+ f60:	8fbf0028 	lw	ra,40(sp)
+ f64:	ae23000c 	sw	v1,12(s1)
+ f68:	ae220010 	sw	v0,16(s1)
+ f6c:	8fb00020 	lw	s0,32(sp)
+ f70:	8fb10024 	lw	s1,36(sp)
+ f74:	03e00008 	jr	ra
+ f78:	27bd0030 	addiu	sp,sp,48
+ f7c:	afa50038 	sw	a1,56(sp)
+ f80:	1000fff5 	b	f58 <Event_ChangeTimeout+0xa8>
+ f84:	afa30034 	sw	v1,52(sp)
+	...
diff -pruwN rp-l2tp-0.4/libevent/event_tcp.c rp-l2tp-0.4-livebox/libevent/event_tcp.c
--- rp-l2tp-0.4/libevent/event_tcp.c	2003-01-11 17:17:58.000000000 +0100
+++ rp-l2tp-0.4-livebox/libevent/event_tcp.c	2010-03-31 11:45:59.000000000 +0200
@@ -12,7 +12,7 @@
 ***********************************************************************/
 
 static char const RCSID[] =
-"$Id: event_tcp.c,v 1.3 2003/01/11 16:10:41 dskoll Exp $";
+"$Id$";
 
 #include "event_tcp.h"
 #include <unistd.h>
@@ -283,12 +283,8 @@ handle_writeable(EventSelector *es,
     /* Timed out? */
     if (flags & EVENT_FLAG_TIMEOUT) {
 	errno = ETIMEDOUT;
-	if (state->f) {
 	    (state->f)(es, state->socket, state->buf, done, EVENT_TCP_FLAG_TIMEOUT,
 		       state->data);
-	} else {
-	    close(fd);
-	}
 	free_state(state);
 	return;
     }
diff -pruwN rp-l2tp-0.4/libevent/handlers/Makefile rp-l2tp-0.4-livebox/libevent/handlers/Makefile
--- rp-l2tp-0.4/libevent/handlers/Makefile	1970-01-01 01:00:00.000000000 +0100
+++ rp-l2tp-0.4-livebox/libevent/handlers/Makefile	2010-03-31 11:45:59.000000000 +0200
@@ -0,0 +1,45 @@
+# $Id: Makefile.in,v 1.2 2002/09/30 19:45:00 dskoll Exp $
+# Makefile for LNS handlers
+# LIC: GPL
+
+prefix=/usr/local
+exec_prefix=${prefix}
+mandir=${prefix}/man
+docdir=/usr/local/doc/rp-pppoe-$(VERSION)
+install=/usr/bin/install -c
+install_dir=/usr/bin/install -c -d
+sbindir=${exec_prefix}/sbin
+
+HANDLERS=sync-pppd.so cmd.so
+
+OBJS=pty.o sync-pppd.o dstring.o
+SRCS=$(OBJS:.o=.c)
+CFLAGS=-g -O2 -I.. -I../libevent -I../../libevent -Wall
+
+all: $(HANDLERS) l2tp-control
+
+l2tp-control: cmd-control.o
+	mips-linux-uclibc-gcc -o l2tp-control cmd-control.o
+
+cmd-control.o: cmd-control.c
+	mips-linux-uclibc-gcc -c -o $@ $^
+
+%.o: %.c
+	mips-linux-uclibc-gcc $(CFLAGS) -fPIC -c -o $@ $<
+
+sync-pppd.so: pty.o sync-pppd.o
+	mips-linux-uclibc-gcc -shared -o $@ $^
+
+cmd.so: cmd.o dstring.o
+	mips-linux-uclibc-gcc -shared -o $@ $^
+
+clean:
+	rm -f *.so *.o *~
+	rm -f l2tp-control
+
+install: all
+	-mkdir -p $(RPM_INSTALL_ROOT)$(sbindir)
+	-mkdir -p $(RPM_INSTALL_ROOT)$(prefix)/lib/l2tp/plugins
+	$(install) -m 755  l2tp-control  $(RPM_INSTALL_ROOT)$(sbindir)
+	$(install) -m 755 $(HANDLERS) $(RPM_INSTALL_ROOT)$(prefix)/lib/l2tp/plugins
+distclean: clean
diff -pruwN rp-l2tp-0.4/libevent/Makefile.in rp-l2tp-0.4-livebox/libevent/Makefile.in
--- rp-l2tp-0.4/libevent/Makefile.in	2002-09-30 21:45:00.000000000 +0200
+++ rp-l2tp-0.4-livebox/libevent/Makefile.in	2010-03-31 11:45:59.000000000 +0200
@@ -12,26 +12,25 @@
 OBJS=event.o event_tcp.o hash.o event_sig.o
 SRCS=$(OBJS:.o=.c)
 HDRS=event.h event_tcp.h eventpriv.h hash.h
-CFLAGS=@CFLAGS@ -I..
 
 all: libevent.a
 
 libevent.a: $(OBJS)
 	rm -f libevent.a
-	ar -cq libevent.a $(OBJS)
+	$(AR) -cq libevent.a $(OBJS)
 	@RANLIB@ libevent.a
 
 event.o: event.c $(HDRS)
-	gcc $(CFLAGS) -c -o event.o event.c
+	@CC@ $(CFLAGS) -c -o event.o event.c
 
 hash.o: hash.c $(HDRS)
-	gcc $(CFLAGS) -c -o hash.o hash.c
+	@CC@ $(CFLAGS) -c -o hash.o hash.c
 
 event_sig.o: event_sig.c $(HDRS)
-	gcc $(CFLAGS) -c -o event_sig.o event_sig.c
+	@CC@ $(CFLAGS) -c -o event_sig.o event_sig.c
 
 event_tcp.o: event_tcp.c $(HDRS)
-	gcc $(CFLAGS) -c -o event_tcp.o event_tcp.c
+	@CC@ $(CFLAGS) -c -o event_tcp.o event_tcp.c
 
 clean: FORCE
 	rm -f *.a *.o *~
diff -pruwN rp-l2tp-0.4/main.c rp-l2tp-0.4-livebox/main.c
--- rp-l2tp-0.4/main.c	2002-09-30 21:45:00.000000000 +0200
+++ rp-l2tp-0.4-livebox/main.c	2010-03-31 11:45:59.000000000 +0200
@@ -13,9 +13,6 @@
 *
 ***********************************************************************/
 
-static char const RCSID[] =
-"$Id: main.c,v 1.2 2002/09/30 19:45:00 dskoll Exp $";
-
 #include "l2tp.h"
 #include <stdio.h>
 #include <string.h>
@@ -31,6 +28,7 @@ usage(int argc, char *argv[], int exitco
     fprintf(stderr, "http://www.roaringpenguin.com/\n\n");
     fprintf(stderr, "Usage: %s [options]\n", argv[0]);
     fprintf(stderr, "Options:\n");
+    fprintf(stderr, "-l log_file            -- Log to this file\n");
     fprintf(stderr, "-d level               -- Set debugging to 'level'\n");
     fprintf(stderr, "-f                     -- Do not fork\n");
     fprintf(stderr, "-h                     -- Print usage\n");
@@ -45,9 +43,10 @@ main(int argc, char *argv[])
     int i;
     int opt;
     int do_fork = 1;
-    int debugmask = 0;
+    int debugmask = DBG_CONTROL;
+    char *log_file = NULL;
 
-    while((opt = getopt(argc, argv, "d:fh")) != -1) {
+    while((opt = getopt(argc, argv, "d:fhl:")) != -1) {
 	switch(opt) {
 	case 'h':
 	    usage(argc, argv, EXIT_SUCCESS);
@@ -58,6 +57,9 @@ main(int argc, char *argv[])
 	case 'd':
 	    sscanf(optarg, "%d", &debugmask);
 	    break;
+	case 'l':
+	    log_file = optarg;
+	    break;
 	default:
 	    usage(argc, argv, EXIT_FAILURE);
 	}
@@ -67,12 +69,15 @@ main(int argc, char *argv[])
     l2tp_tunnel_init(es);
     l2tp_peer_init();
     l2tp_debug_set_bitmask(debugmask);
+    l2tp_debug_set_log_file(log_file);
+
+    Settings.listen_port = L2TP_PORT;
 
-    if (l2tp_parse_config_file(es, "/etc/l2tp/l2tp.conf") < 0) {
+    if (!l2tp_network_init(es)) {
 	l2tp_die();
     }
 
-    if (!l2tp_network_init(es)) {
+    if (rg_init(es)) {
 	l2tp_die();
     }
 
diff -pruwN rp-l2tp-0.4/Makefile.in rp-l2tp-0.4-livebox/Makefile.in
--- rp-l2tp-0.4/Makefile.in	2004-07-01 17:17:11.000000000 +0200
+++ rp-l2tp-0.4-livebox/Makefile.in	2010-03-31 11:45:59.000000000 +0200
@@ -26,40 +26,53 @@ install=@INSTALL@
 install_dir=@INSTALL@ -d
 sbindir=@sbindir@
 
-OBJS=auth.o debug.o dgram.o main.o md5.o network.o options.o peer.o session.o tunnel.o utils.o
-EXTRA_LIBS=@LIBEVENT@/*.o -ldl
+export AR=mips-linux-uclibc-ar
 
-SRCS=$(OBJS:.o=.c)
-CFLAGS=-g -I.. -I@LIBEVENT@ -Wall -Wstrict-prototypes -ansi -pedantic -D_GNU_SOURCE -DVERSION=\"$(VERSION)\" -DPREFIX=\"$(prefix)\"
+OBJS=auth.o debug.o dgram.o main.o md5.o network.o options.o peer.o session.o tunnel.o utils.o rg.o
+OPENRG_GPL_OBJS=openrg_gpl.o ipc.o bio_socket.o rg_memory.o alloc.o
 
-TARGETS=l2tpd libl2tp.a handlers
+SRCS=$(OBJS:.o=.c)
+OPENRG_GPL_SRCS=$(OPENRG_GPL_OBJS:.o=.c)
 
-all: $(TARGETS)
+CFLAGS=-Ilibevent -Wstrict-prototypes --no-strict-aliasing -D_LIBC_REENTRANT -g -Wall -Os  -meb  -msoft-float  -mabi=32  -march=lx4189  -Wa,-32  -Wa,-march=lx4189  -Wa,-mips1  -D__TARGET__ -DVERSION=\"$(VERSION)\" 
 
-libl2tp.a: $(OBJS)
-	rm -f $@
-	ar -rc $@ $^
-	ranlib $@ || true
+all: l2tpd
 
-l2tpd: libl2tp.a libevent/libevent.a
-	$(MAKE) -C handlers
-	@CC@ -o l2tpd -rdynamic $(OBJS) $(EXTRA_LIBS)
+l2tpd: $(OBJS) libevent/libevent.a libopenrg_gpl.so
+	@CC@ $(OBJS) -meb -L. -Llibevent -levent -lutil -lopenrg_gpl -o $@
 
 libevent/libevent.a:
-	test -d libevent || ln -s ../libevent .
-	$(MAKE) -C libevent
+	$(MAKE) -C libevent CFLAGS="$(CFLAGS)"
+
+libopenrg_gpl.so: $(OPENRG_GPL_OBJS) libulibc_syslog.a
+	@CC@ -nostdlib $(TOOLCHAIN_DIR)/mips-linux-uclibc/lib/crti.o $(TOOLCHAIN_DIR)/lib/gcc/mips-linux-uclibc/3.4.3/crtbegin.o -shared -o $@ -fpic $(OPENRG_GPL_OBJS) -L. -lulibc_syslog -Wl,--no-whole-archive -lgcc -lc -lgcc $(TOOLCHAIN_DIR)/lib/gcc/mips-linux-uclibc/3.4.3/crtend.o $(TOOLCHAIN_DIR)/mips-linux-uclibc/lib/crtn.o
+
+libulibc_syslog.a: ulibc_syslog.o
+	$(AR)    cruv $@ $^
+	@RANLIB@      $@
+
+ulibc_syslog.o: ulibc_syslog.c
+	@CC@ -c -o $@ $(CFLAGS) $<
+
+openrg_gpl.o: openrg_gpl.c
+	@CC@ -c -o $@ -fpic $(CFLAGS) $<
+ipc.o: ipc.c
+	@CC@ -c -o $@ -fpic $(CFLAGS) $<
+bio_socket.o: bio_socket.c
+	@CC@ -c -o $@ -fpic $(CFLAGS) $<
+rg_memory.o: rg_memory.c
+	@CC@ -c -o $@ -fpic $(CFLAGS) $<
+alloc.o: alloc.c
+	@CC@ -c -o $@ -fpic $(CFLAGS) $<
 
 %.o: %.c
 	@CC@ -c -o $@ $(CFLAGS) $<
 
 depend: .depend
 
-.depend: $(SRCS)
+.depend: $(SRCS) $(OPENRG_GPL_SRCS)
 	@CC@ -M $(CFLAGS) $^ > .depend
 
-handlers:
-	$(MAKE) -C handlers
-
 # Release requires GNU tar!!
 release: FORCE
 	rm -f rp-l2tp-$(VERSION).tar.gz
@@ -69,8 +82,9 @@ release: FORCE
 	gzip -v -9 rp-l2tp-$(VERSION).tar
 
 clean:
-	rm -f *.o *.a *~
+	rm -f *.o *.a *.so *~
 	rm -f l2tpd
+	$(MAKE) -C libevent clean
 	$(MAKE) -C handlers clean
 
 distclean: clean
@@ -81,7 +95,7 @@ distclean: clean
 
 install: all
 	-mkdir -p $(RPM_INSTALL_ROOT)$(DESTDIR)$(sbindir)
-	$(install) -m 755 -s l2tpd $(RPM_INSTALL_ROOT)$(DESTDIR)$(sbindir)
+	$(install) -m 755  l2tpd  $(RPM_INSTALL_ROOT)$(DESTDIR)$(sbindir)
 	-mkdir -p $(RPM_INSTALL_ROOT)$(DESTDIR)/etc/l2tp
 	$(install) -m 644 l2tp.conf $(RPM_INSTALL_ROOT)$(DESTDIR)/etc/l2tp/l2tp.conf.example
 	-mkdir -p $(RPM_INSTALL_ROOT)$(DESTDIR)$(mandir)/man8
diff -pruwN rp-l2tp-0.4/network.c rp-l2tp-0.4-livebox/network.c
--- rp-l2tp-0.4/network.c	2003-06-11 04:17:17.000000000 +0200
+++ rp-l2tp-0.4-livebox/network.c	2010-03-31 11:45:59.000000000 +0200
@@ -15,11 +15,7 @@
 *
 ***********************************************************************/
 
-static char const RCSID[] =
-"$Id: network.c,v 1.3 2003/06/11 02:17:17 dossy Exp $";
-
 #include "l2tp.h"
-#include "event.h"
 #include <sys/socket.h>
 #include <netinet/in.h>
 #include <errno.h>
@@ -86,9 +82,10 @@ l2tp_network_init(EventSelector *es)
     }
 
     me.sin_family = AF_INET;
-    me.sin_addr = Settings.listen_addr;
+    me.sin_addr.s_addr = htonl(INADDR_ANY);
     me.sin_port = htons((uint16_t) Settings.listen_port);
-    if (bind(Sock, (struct sockaddr *) &me, sizeof(me)) < 0) {
+    if (Settings.listen_port &&
+       	bind(Sock, (struct sockaddr *) &me, sizeof(me)) < 0) {
 	l2tp_set_errmsg("network_init: bind: %s", strerror(errno));
 	close(Sock);
 	Sock = -1;
diff -pruwN rp-l2tp-0.4/openrg_gpl.c rp-l2tp-0.4-livebox/openrg_gpl.c
--- rp-l2tp-0.4/openrg_gpl.c	1970-01-01 01:00:00.000000000 +0100
+++ rp-l2tp-0.4-livebox/openrg_gpl.c	2010-03-31 11:45:59.000000000 +0200
@@ -0,0 +1,175 @@
+/****************************************************************************
+ *
+ * /home/bat/bat/fast3202_4_0_21_3_3_1/rg/pkg/util/openrg_gpl.c
+ * 
+ * Copyright (C) Jungo LTD 2004
+ * 
+ * This program is free software; you can redistribute it
+ * and/or modify it under the terms of the GNU General 
+ * Public License as published by the Free Software
+ * Foundation; either version 2 of the License, or (at
+ * your option) any later version.
+ * 
+ * This program is distributed in the hope that it will be
+ * useful, but WITHOUT ANY WARRANTY; without even the implied
+ * warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.
+ * See the GNU General Public License for more details.
+ * 
+ * You should have received a copy of the GNU General Public
+ * License along with this program; if not, write to the Free
+ * Software Foundation, Inc., 59 Temple Place - Suite 330, Boston,
+ * MA 02111-1307, USA.
+ */
+
+#include "rg_config.h"
+#ifdef CONFIG_GLIBC
+#include <syslog/glibc/ulibc_syslog.h>
+#endif
+#include <ctype.h>
+#include <string.h>
+#include <dirent.h>
+#include <stdio.h>
+#include <stdlib.h>
+#include <unistd.h>
+#include <signal.h>
+#include <syslog.h>
+#include <stdarg.h>
+#include <errno.h>
+#include <sys/types.h>
+#include <netinet/in.h>
+#include <sys/socket.h>
+#include <arpa/inet.h>
+
+#include <sys/stat.h>
+#include <fcntl.h>
+#include <sys/ioctl.h>
+#include <net/if.h>
+
+#include "openrg_gpl.h"
+
+void sys_sleep(unsigned int seconds)
+{
+    sleep(seconds);
+}
+
+void socket_close(int fd)
+{
+    close(fd);
+}
+
+/* normally should be called with src_ip==0 and src_port==0 */
+int sock_socket(int type, u32 src_ip, u16 src_port)
+{
+    int sock = -1;
+    struct sockaddr_in sa;
+
+    if ((sock = socket(AF_INET, type, 0))<0)
+    {
+	rg_error(LERR, "sock_socket: failed socket()");
+	return -1;
+    }
+    MZERO(sa);
+    sa.sin_family = AF_INET;
+    sa.sin_addr.s_addr = src_ip;
+    sa.sin_port = src_port; 
+    if (src_port)
+    {
+	int opt = 1;
+	if (setsockopt(sock, SOL_SOCKET, SO_REUSEADDR, 
+	    (void *)&opt, sizeof(opt))<0)
+	{
+	    rg_error(LERR, "sock_socket: failed setsockopt(SO_REUSEADDR)");
+	    goto Error;
+	}
+	if ((bind(sock, (struct sockaddr *)&sa, sizeof(sa)))<0)
+	{
+	    rg_error(LERR, "sock_socket: failed bind(): %s", strerror(errno));
+	    goto Error;
+	}
+    }
+    else
+    {
+	if ((bind(sock, (struct sockaddr *)&sa, sizeof(sa)))<0)
+	{
+	    rg_error(LERR, "sock_socket: failed bind()");
+	    goto Error;
+	}
+    }
+    
+    rg_error(LDEBUG, "sock_socket: created fd %d for ip %s port %d", sock,
+	inet_ntoa(sa.sin_addr), ntohs(sa.sin_port));
+    return sock;
+    
+Error:
+    if (sock>=0)
+	close(sock);
+    return -1;
+}
+
+static void rg_reboot(void)
+{
+    rg_error(LINFO, "rebooting!");
+
+#ifdef HAVE_KILL
+   /* signal the init process (openrg or init) to reboot. */
+   kill(1, SIGINT);
+#else
+   /* This code generates three types of exception: 
+    * division by 0 - handled by FPU/Emulator, 
+    * unaligned access (float at wrong alignment) - for non-MMU out there
+    * segmentation  - 1 is not legal at most MMU platforms.
+    */
+   *(float *)1 = 1 / 0.0;
+#endif
+}
+
+int rg_error(rg_error_level_t severity, const char *format, ...)
+{
+    va_list ap;
+    int priority;
+    u32 severity_level = severity & LLEVEL_MASK;    
+    static int priorities[] = {
+	0,
+	LOG_DEBUG,
+	LOG_INFO,
+	LOG_WARNING,
+	LOG_ERR,
+	LOG_CRIT,
+	LOG_EMERG
+    };
+    
+    priority = LOG_DAEMON | priorities[severity_level];
+    
+    va_start(ap, format);
+    vsyslog(priority, format, ap);
+    va_end(ap);
+
+    if (severity_level == LEXIT || severity_level == LPANIC)
+	rg_reboot();
+    
+    return -1;
+}
+
+#define RG_IOCTL_PREFIX_BASE 0xD0
+#define RG_IOCTL_PREFIX_KOS (RG_IOCTL_PREFIX_BASE + 8)
+#define RG_IOCTL_SIOCSETRGCHRDEVTYPE \
+    _IOW(RG_IOCTL_PREFIX_KOS, 3, struct ifreq)
+
+int gpl_sys_rg_chrdev_open(int type, int mode)
+{
+    int fd = open("/dev/rg_chrdev", mode, 0);
+
+    if (fd < 0)
+    {
+	rg_error(LERR, "can't open /dev/rg_chrdev %d %m", type);
+	return fd;
+    }
+
+    if (ioctl(fd, RG_IOCTL_SIOCSETRGCHRDEVTYPE, type))
+    {
+	return rg_error(LERR, "can't open /dev/rg_chrdev %d %m", type);
+    }
+
+    return fd;
+}
+
diff -pruwN rp-l2tp-0.4/openrg_gpl.h rp-l2tp-0.4-livebox/openrg_gpl.h
--- rp-l2tp-0.4/openrg_gpl.h	1970-01-01 01:00:00.000000000 +0100
+++ rp-l2tp-0.4-livebox/openrg_gpl.h	2010-03-31 11:45:59.000000000 +0200
@@ -0,0 +1,40 @@
+/****************************************************************************
+ *
+ * /home/bat/bat/fast3202_4_0_21_3_3_1/rg/pkg/util/openrg_gpl.h
+ * 
+ * Copyright (C) Jungo LTD 2004
+ * 
+ * This program is free software; you can redistribute it
+ * and/or modify it under the terms of the GNU General 
+ * Public License as published by the Free Software
+ * Foundation; either version 2 of the License, or (at
+ * your option) any later version.
+ * 
+ * This program is distributed in the hope that it will be
+ * useful, but WITHOUT ANY WARRANTY; without even the implied
+ * warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.
+ * See the GNU General Public License for more details.
+ * 
+ * You should have received a copy of the GNU General Public
+ * License along with this program; if not, write to the Free
+ * Software Foundation, Inc., 59 Temple Place - Suite 330, Boston,
+ * MA 02111-1307, USA.
+ */
+
+#ifndef _OPENRG_GPL_H_
+#define _OPENRG_GPL_H_
+
+#include "rg_types.h"
+
+#ifndef MZERO
+    #define MZERO(buf) memset(&(buf), 0, sizeof(buf))
+#endif
+
+#include "rg_error.h"
+
+void sys_sleep(unsigned int seconds);
+int sock_socket(int type, u32 src_ip, u16 src_port);
+void socket_close(int fd);
+int gpl_sys_rg_chrdev_open(int type, int mode);
+
+#endif
diff -pruwN rp-l2tp-0.4/options.c rp-l2tp-0.4-livebox/options.c
--- rp-l2tp-0.4/options.c	2003-06-11 04:16:34.000000000 +0200
+++ rp-l2tp-0.4-livebox/options.c	2010-03-31 11:45:59.000000000 +0200
@@ -13,9 +13,6 @@
 *
 ***********************************************************************/
 
-static char const RCSID[] =
-"$Id: options.c,v 1.4 2003/06/11 02:16:34 dossy Exp $";
-
 #include "l2tp.h"
 #include <string.h>
 #include <stdlib.h>
@@ -41,7 +38,6 @@ static l2tp_opt_descriptor global_opts[]
     /*  name               type                 addr */
     { "load-handler",      OPT_TYPE_CALLFUNC,   (void *) do_load_handler },
     { "listen-port",       OPT_TYPE_PORT,       &Settings.listen_port },
-    { "listen-addr",       OPT_TYPE_IPADDR,     &Settings.listen_addr },
     { NULL,                OPT_TYPE_BOOL,       NULL }
 };
 
@@ -133,11 +129,11 @@ set_option(EventSelector *es,
 	return 0;
 
     case OPT_TYPE_STRING:
-	if (* (char **) desc->addr) {
-	    free(* (char **) desc->addr);
+	if (desc->addr) {
+	    free(desc->addr);
 	}
-	* (char **) desc->addr = strdup(value);
-	if (! * (char *) desc->addr) {
+	desc->addr = strdup(value);
+	if (!desc->addr) {
 	    l2tp_set_errmsg("Out of memory");
 	    return -1;
 	}
@@ -352,7 +348,9 @@ l2tp_parse_config_file(EventSelector *es
 
     /* Defaults */
     Settings.listen_port = 1701;
-    Settings.listen_addr.s_addr = htonl(INADDR_ANY);
+
+    if (!fname || !*fname)
+	return 0;
 
     fp = fopen(fname, "r");
     if (!fp) {
diff -pruwN rp-l2tp-0.4/os_includes.h rp-l2tp-0.4-livebox/os_includes.h
--- rp-l2tp-0.4/os_includes.h	1970-01-01 01:00:00.000000000 +0100
+++ rp-l2tp-0.4-livebox/os_includes.h	2010-03-31 11:45:59.000000000 +0200
@@ -0,0 +1,463 @@
+/****************************************************************************
+ *
+ * /home/bat/bat/fast3202_4_0_21_3_3_1/rg/pkg/include/os_includes.h
+ * 
+ * Copyright (C) Jungo LTD 2004
+ * 
+ * This program is free software; you can redistribute it
+ * and/or modify it under the terms of the GNU General 
+ * Public License as published by the Free Software
+ * Foundation; either version 2 of the License, or (at
+ * your option) any later version.
+ * 
+ * This program is distributed in the hope that it will be
+ * useful, but WITHOUT ANY WARRANTY; without even the implied
+ * warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.
+ * See the GNU General Public License for more details.
+ * 
+ * You should have received a copy of the GNU General Public
+ * License along with this program; if not, write to the Free
+ * Software Foundation, Inc., 59 Temple Place - Suite 330, Boston,
+ * MA 02111-1307, USA.
+ *
+ * Developed by Jungo LTD.
+ * Residential Gateway Software Division
+ * www.jungo.com
+ * info@jungo.com
+ */
+/* SYNC: rg/pkg/include/os_includes.h <-> project/tools/util/os_includes.h */
+
+/* IMPORTANT: Prior to including this file, define the needed sections. */
+
+#include "rg_os.h"
+
+#ifdef OS_INCLUDE_IOCTL
+#ifndef OS_INCLUDE_IOCTL_INCLUDED
+#define OS_INCLUDE_IOCTL_INCLUDED
+#ifdef __OS_VXWORKS__
+#include <ioLib.h>
+#define BLKFLSBUF  97 /* flush buffer cache */
+#define FLASH_SYNC_IOCTL 98 /* flush internal buffers */
+#endif
+#include <sys/ioctl.h>
+#endif
+#endif
+
+#ifdef OS_INCLUDE_STD
+#ifndef OS_INCLUDE_STD_INCLUDED
+#define OS_INCLUDE_STD_INCLUDED
+#include <stdlib.h>
+#include <stdio.h>
+#include <unistd.h>
+#include <errno.h>
+#include <limits.h>
+#define OS_INCLUDE_STRING
+#include <ctype.h>
+#ifdef __OS_VXWORKS__
+long int random(void);
+void srandom(unsigned int seed);
+int putenv(char *string);
+#endif
+#endif
+#endif
+
+#ifdef OS_INCLUDE_GETOPT
+#include <unistd.h>
+#ifdef __OS_VXWORKS__
+#include <rg_getopt.h>
+#elif defined(__OS_LINUX__)
+#include <getopt.h>
+#endif
+#endif
+
+#ifdef OS_INCLUDE_STDARG
+#ifndef OS_INCLUDE_STDARG_INCLUDED
+#define OS_INCLUDE_STDARG_INCLUDED
+#include <stdarg.h>
+
+/* Deal with pre-C99 compilers */
+#ifndef va_copy
+#ifdef __va_copy
+#define va_copy(A, B) __va_copy(A, B)
+#else
+#warning "neither va_copy nor __va_copy is defined. Using simple copy."
+#define va_copy(A, B) A = B
+#endif
+#endif
+
+#endif
+#endif
+
+/* IO functions - open/read/close */
+#ifdef OS_INCLUDE_IO
+#ifndef OS_INCLUDE_IO_INCLUDED
+#define OS_INCLUDE_IO_INCLUDED
+#define OS_INCLUDE_TYPES
+#include <sys/stat.h>
+#include <fcntl.h>
+#include <unistd.h>
+#include <dirent.h>
+#endif
+#endif
+
+#ifdef OS_INCLUDE_INET
+#ifndef OS_INCLUDE_INET_INCLUDED
+#define OS_INCLUDE_INET_INCLUDED
+#ifdef __OS_VXWORKS__
+#include <netinet/in_systm.h>
+#include <inetLib.h>
+#include <hostLib.h>
+#define inet_aton(cp, inp) (inet_aton(cp, inp) ? 0 : -1)
+/* We cannot use the VX implementation for inet_ntoa because it allocates a
+ * buffer every time it is called, and no one frees it.
+ */
+char *sys_vx_inet_ntoa(struct in_addr in);
+#define inet_ntoa(inp) (sys_vx_inet_ntoa(inp))
+/* in_addr_t and in_port_t are missing in VxWorks' in.h */
+#define in_addr_t u_int
+#define in_port_t u_short
+#include "vx_in6.h"
+#elif defined(__OS_LINUX__)
+#include <netinet/in.h>
+#include <arpa/inet.h>
+#define uh_sport source
+#define uh_dport dest
+#define uh_ulen len
+#define uh_sum check
+#endif
+#include <netinet/ip.h>
+#include <netinet/udp.h>
+#include <netinet/tcp.h>
+#include <netinet/ip_icmp.h>
+#endif
+#endif
+
+#ifdef OS_INCLUDE_SOCKET
+#ifndef OS_INCLUDE_SOCKET_INCLUDED
+#define OS_INCLUDE_SOCKET_INCLUDED
+#ifdef __OS_VXWORKS__
+#include <sockLib.h>
+#include <ioLib.h>
+#elif defined(__OS_LINUX__)
+#include <sys/socket.h>
+#include <fcntl.h>
+#endif
+#endif
+#endif
+
+#ifdef OS_INCLUDE_IF_ETHER
+#ifndef OS_INCLUDE_IF_ETHER_INCLUDED
+#define OS_INCLUDE_IF_ETHER_INCLUDED
+#ifdef __OS_VXWORKS__
+#include <netinet/if_ether.h>
+#include <net/if_dl.h>
+#include <net/if_types.h>
+#define ETH_HLEN SIZEOF_ETHERHEADER
+#elif defined(__OS_LINUX__)
+#include <linux/if_ether.h>
+#include <net/if_arp.h>
+#endif
+#endif
+#endif
+
+#ifdef OS_INCLUDE_IF_ATM
+#ifndef OS_INCLUDE_IF_ATM_INCLUDED
+#define OS_INCLUDE_IF_ATM_INCLUDED
+#ifdef __OS_VXWORKS__
+typedef struct {} atm_qos_t;
+#elif defined(__OS_LINUX__)
+#include <stdint.h>
+#include <linux/atmdev.h>
+typedef struct atm_qos atm_qos_t;
+#endif
+#endif
+#endif
+
+#ifdef OS_INCLUDE_TIME
+#ifndef OS_INCLUDE_TIME_INCLUDED
+#define OS_INCLUDE_TIME_INCLUDED
+#ifdef __OS_VXWORKS__
+#include <sysLib.h>
+#include <tickLib.h>
+#ifndef timercmp
+#define	timercmp(tvp, uvp, cmp) \
+    ((tvp)->tv_sec cmp (uvp)->tv_sec || \
+    ((tvp)->tv_sec == (uvp)->tv_sec && \
+    (tvp)->tv_usec cmp (uvp)->tv_usec))
+#endif
+#ifndef timeradd
+#define timeradd(a, b, result)						      \
+  do { \
+    (result)->tv_sec = (a)->tv_sec + (b)->tv_sec; \
+    (result)->tv_usec = (a)->tv_usec + (b)->tv_usec; \
+    if ((result)->tv_usec >= 1000000) \
+      { \
+	++(result)->tv_sec; \
+	(result)->tv_usec -= 1000000; \
+      } \
+  } while (0)
+#endif
+#ifndef timersub
+#define timersub(a, b, result) \
+  do { \
+    (result)->tv_sec = (a)->tv_sec - (b)->tv_sec; \
+    (result)->tv_usec = (a)->tv_usec - (b)->tv_usec; \
+    if ((result)->tv_usec < 0) { \
+      --(result)->tv_sec; \
+      (result)->tv_usec += 1000000; \
+    } \
+  } while (0)
+#endif
+#ifndef timerclear
+#define	timerclear(tvp)	(tvp)->tv_sec = (tvp)->tv_usec = 0
+#endif
+#ifndef timerset
+#define timerisset(tvp) ((tvp)->tv_sec || (tvp)->tv_usec)
+#endif
+#elif defined(__OS_LINUX__)
+#include <sys/time.h>
+#endif
+#include <sys/times.h>
+#include <time.h>
+#endif
+#endif
+
+#ifdef OS_INCLUDE_SELECT
+#ifndef OS_INCLUDE_SELECT_INCLUDED
+#define OS_INCLUDE_SELECT_INCLUDED
+#ifdef __OS_VXWORKS__
+#include <selectLib.h>
+#elif defined(__OS_LINUX__)
+#include <sys/time.h>
+#include <sys/types.h>
+#include <unistd.h>
+#endif
+#endif
+#endif
+
+#ifdef OS_INCLUDE_SIGNAL
+#ifndef OS_INCLUDE_SIGNAL_INCLUDED
+#define OS_INCLUDE_SIGNAL_INCLUDED
+#include <sys/wait.h>
+#include <signal.h>
+#endif
+#endif
+
+#ifdef OS_INCLUDE_REBOOT
+#ifndef OS_INCLUDE_REBOOT_INCLUDED
+#define OS_INCLUDE_REBOOT_INCLUDED
+#ifdef __OS_LINUX__
+#include <sys/reboot.h>
+#include <linux/reboot.h>
+#endif
+#endif
+#endif
+
+#ifdef OS_INCLUDE_MOUNT
+#ifndef OS_INCLUDE_MOUNT_INCLUDED
+#define OS_INCLUDE_MOUNT_INCLUDED
+#ifdef __OS_LINUX__
+#include <sys/mount.h>
+#endif
+#endif
+#endif
+
+#ifdef OS_INCLUDE_TERMIO
+#ifndef OS_INCLUDE_TERMIO_INCLUDED
+#define OS_INCLUDE_TERMIO_INCLUDED
+#ifdef __OS_LINUX__
+#include <termios.h>
+#endif
+#endif
+#endif
+
+#ifdef OS_INCLUDE_PROCESS
+#ifndef OS_INCLUDE_PROCESS_INCLUDED
+#define OS_INCLUDE_PROCESS_INCLUDED
+#include <sys/types.h>
+#ifdef __OS_LINUX__
+#include <wait.h>
+#endif
+#endif
+#endif
+
+#ifdef OS_INCLUDE_BOOTP
+#ifndef OS_INCLUDE_BOOTP_INCLUDED
+#define OS_INCLUDE_BOOTP_INCLUDED
+#ifdef __OS_VXWORKS__
+#include <bootpLib.h>
+#elif defined(__OS_LINUX__)
+#include <netinet/ip.h>
+#endif
+#endif
+#endif
+
+#ifdef OS_INCLUDE_STRING
+#ifndef OS_INCLUDE_STRING_INCLUDED
+#define OS_INCLUDE_STRING_INCLUDED
+#include <string.h>
+#endif
+#endif
+
+#ifdef OS_INCLUDE_NAMESER
+#ifndef OS_INCLUDE_NAMESER_INCLUDED
+#define OS_INCLUDE_NAMESER_INCLUDED
+#ifdef __OS_VXWORKS__
+#include <resolv/nameser.h>
+#define HFIXEDSZ 12
+#define INT32SZ 4
+#define INT16SZ 2
+#define NS_NOTIFY_OP 0x4
+#define T_NULL T_NULL_RR
+#elif defined(__OS_LINUX__)
+#include <arpa/nameser.h>
+#define DNS_STATUS STATUS
+#endif
+#endif
+#endif
+
+#ifdef OS_INCLUDE_RESOLV
+#ifndef OS_INCLUDE_RESOLV_INCLUDED
+#define OS_INCLUDE_RESOLV_INCLUDED
+#include <resolv.h>
+#endif
+#endif
+
+#ifdef OS_INCLUDE_CDEFS
+#ifndef OS_INCLUDE_CDEFS_INCLUDED
+#define OS_INCLUDE_CDEFS_INCLUDED
+#ifdef __OS_VXWORKS__
+#define __P(xxx) xxx
+#define __BEGIN_DECLS
+#define __END_DECLS
+#elif defined(__OS_LINUX__)
+#include <sys/cdefs.h>
+#endif
+#endif
+#endif
+
+#ifdef OS_INCLUDE_PARAM
+#ifndef OS_INCLUDE_PARAM_INCLUDED
+#define OS_INCLUDE_PARAM_INCLUDED
+#ifdef __OS_LINUX__
+#include <sys/param.h>
+#endif
+#endif
+#endif
+
+#ifdef OS_INCLUDE_NETDB
+#ifndef OS_INCLUDE_NETDB_INCLUDED
+#define OS_INCLUDE_NETDB_INCLUDED
+#ifdef __OS_VXWORKS__
+#define NETDB_INTERNAL -1
+#define NETDB_SUCCESS 0
+#endif
+#include <netdb.h>
+#endif
+#endif
+
+#ifdef OS_INCLUDE_UIO
+#ifndef OS_INCLUDE_UIO_INCLUDED
+#define OS_INCLUDE_UIO_INCLUDED
+#ifdef __OS_LINUX__
+#include <sys/uio.h>
+#endif
+#endif
+#endif
+
+#ifdef OS_INCLUDE_TYPES
+#ifndef OS_INCLUDE_TYPES_INCLUDED
+#define OS_INCLUDE_TYPES_INCLUDED
+#ifdef __OS_VXWORKS__
+#include <rg_types.h>
+#endif
+#include <sys/types.h>
+#endif
+#endif
+
+#ifdef OS_INCLUDE_NETIF
+#ifndef OS_INCLUDE_NETIF_INCLUDED
+#define OS_INCLUDE_NETIF_INCLUDED
+#include <net/if.h>
+#endif
+#endif
+
+#ifdef OS_INCLUDE_SOCKIOS
+#ifndef OS_INCLUDE_SOCKIOS_INCLUDED
+#define OS_INCLUDE_SOCKIOS_INCLUDED
+#ifdef __OS_LINUX__
+#include <linux/sockios.h>
+#endif
+#endif
+#endif
+
+#ifdef OS_INCLUDE_TFTP
+#ifndef OS_INCLUDE_TFTP_INCLUDED
+#define OS_INCLUDE_TFTP_INCLUDED
+#ifndef TFTP_0ACK
+#define TFTP_0ACK 6
+#endif
+#ifdef __OS_VXWORKS__
+#include <tftpLib.h>
+/* For struct-alignment problem architectures (e.g. IXP225), we redefine the
+ * packed version of TFTP header (without alignment)
+ */
+struct tftp_format {
+    u_short blockOrError;
+    char data[TFTP_SEGSIZE];
+} __attribute__ ((__packed__));
+ 
+struct tftphdr {
+    u_short th_opcode; /* packet op code */
+    union {
+	char request[TFTP_SEGSIZE + 2];	/* request string */
+	struct tftp_format misc;
+    } __attribute__ ((__packed__)) th;
+} __attribute__ ((__packed__));
+#define	th_stuff th_request
+#define th_msg th_data
+#define th_code th_error
+#elif defined(__OS_LINUX__)
+#include <arpa/tftp.h>
+#define TFTP_SEGSIZE SEGSIZE
+#define	TFTP_RRQ RRQ
+#define	TFTP_WRQ WRQ
+#define	TFTP_DATA DATA
+#define	TFTP_ACK ACK
+#define	TFTP_ERROR ERROR
+#endif
+#endif
+#endif
+
+#ifdef OS_INCLUDE_TELNET
+#ifndef OS_INCLUDE_TELNET_INCLUDED
+#define OS_INCLUDE_TELNET_INCLUDED
+#ifdef __OS_VXWORKS__
+#include <telnetLib.h>
+#define NTELOPTS 100
+#elif defined(__OS_LINUX__)
+#include <arpa/telnet.h>
+#endif
+#endif
+#endif
+
+#ifdef OS_INCLUDE_MIB_LIB
+#ifndef OS_INCLUDE_MIB_LIB_INCLUDE
+#define OS_INCLUDE_MIB_LIB_INCLUDE
+#ifdef __OS_VXWORKS__
+#include <m2Lib.h>
+#endif
+#endif
+#endif
+
+#ifdef OS_INCLUDE_ROUTE
+#ifndef OS_INCLUDE_ROUTE_INCLUDE
+#define OS_INCLUDE_ROUTE_INCLUDE
+#ifdef __OS_VXWORKS__
+#include <sys/socket.h>
+#include <routeLib.h>
+#endif
+#include <net/route.h>
+#endif
+#endif
+
diff -pruwN rp-l2tp-0.4/peer.c rp-l2tp-0.4-livebox/peer.c
--- rp-l2tp-0.4/peer.c	2004-07-01 16:58:55.000000000 +0200
+++ rp-l2tp-0.4-livebox/peer.c	2010-03-31 11:45:59.000000000 +0200
@@ -13,9 +13,6 @@
 *
 ***********************************************************************/
 
-static char const RCSID[] =
-"$Id: peer.c,v 1.5 2003/12/22 14:57:33 dskoll Exp $";
-
 #include "l2tp.h"
 #include <stddef.h>
 #include <string.h>
@@ -34,31 +31,19 @@ static option_handler peer_option_handle
 static int port;
 
 static int handle_secret_option(EventSelector *es, l2tp_opt_descriptor *desc, char const *value);
-static int handle_hostname_option(EventSelector *es, l2tp_opt_descriptor *desc, char const *value);
-static int handle_peername_option(EventSelector *es, l2tp_opt_descriptor *desc, char const *value);
 static int set_lac_handler(EventSelector *es, l2tp_opt_descriptor *desc, char const *value);
-static int handle_lac_option(EventSelector *es, l2tp_opt_descriptor *desc, char const *value);
 static int set_lns_handler(EventSelector *es, l2tp_opt_descriptor *desc, char const *value);
-static int handle_lns_option(EventSelector *es, l2tp_opt_descriptor *desc, char const *value);
 
 /* Peer options */
 static l2tp_opt_descriptor peer_opts[] = {
     /*  name               type                 addr */
     { "peer",              OPT_TYPE_IPADDR,   &prototype.addr.sin_addr.s_addr},
-    { "mask",              OPT_TYPE_INT,      &prototype.mask_bits},
     { "secret",            OPT_TYPE_CALLFUNC, (void *) handle_secret_option},
-    { "hostname",          OPT_TYPE_CALLFUNC, (void *) handle_hostname_option},
-    { "peername",          OPT_TYPE_CALLFUNC, (void *) handle_peername_option},
     { "port",              OPT_TYPE_PORT,     &port },
     { "lac-handler",       OPT_TYPE_CALLFUNC, (void *) set_lac_handler},
-    { "lac-opts",          OPT_TYPE_CALLFUNC, (void *) handle_lac_option},
     { "lns-handler",       OPT_TYPE_CALLFUNC, (void *) set_lns_handler},
-    { "lns-opts",          OPT_TYPE_CALLFUNC, (void *) handle_lns_option},
     { "hide-avps",         OPT_TYPE_BOOL,     &prototype.hide_avps},
     { "retain-tunnel",     OPT_TYPE_BOOL,     &prototype.retain_tunnel},
-    { "persist",           OPT_TYPE_BOOL,     &prototype.persist},
-    { "holdoff",           OPT_TYPE_INT,      &prototype.holdoff},
-    { "maxfail",           OPT_TYPE_INT,      &prototype.maxfail},
     { "strict-ip-check",   OPT_TYPE_BOOL,     &prototype.validate_peer_ip},
     { NULL,                OPT_TYPE_BOOL,     NULL }
 };
@@ -114,112 +99,6 @@ handle_secret_option(EventSelector *es,
 }
 
 /**********************************************************************
-* %FUNCTION: handle_hostname_option
-* %ARGUMENTS:
-*  es -- event selector
-*  desc -- descriptor
-*  value -- the hostname
-* %RETURNS:
-*  0
-* %DESCRIPTION:
-*  Copies hostname to prototype
-***********************************************************************/
-static int
-handle_hostname_option(EventSelector *es,
-		     l2tp_opt_descriptor *desc,
-		     char const *value)
-{
-    strncpy(prototype.hostname, value, MAX_HOSTNAME);
-    prototype.hostname[MAX_HOSTNAME-1] = 0;
-    prototype.hostname_len = strlen(prototype.hostname);
-    return 0;
-}
-
-/**********************************************************************
-* %FUNCTION: handle_peername_option
-* %ARGUMENTS:
-*  es -- event selector
-*  desc -- descriptor
-*  value -- the hostname
-* %RETURNS:
-*  0
-* %DESCRIPTION:
-*  Copies peername to prototype
-***********************************************************************/
-static int
-handle_peername_option(EventSelector *es,
-		     l2tp_opt_descriptor *desc,
-		     char const *value)
-{
-    strncpy(prototype.peername, value, MAX_HOSTNAME);
-    prototype.peername[MAX_HOSTNAME-1] = 0;
-    prototype.peername_len = strlen(prototype.peername);
-    return 0;
-}
-
-/**********************************************************************
-* %FUNCTION: handle_lac_option
-* %ARGUMENTS:
-*  es -- event selector
-*  desc -- descriptor
-*  value -- the hostname
-* %RETURNS:
-*  0
-* %DESCRIPTION:
-*  Copies LAC options to prototype
-***********************************************************************/
-static int
-handle_lac_option(EventSelector *es,
-		     l2tp_opt_descriptor *desc,
-		     char const *value)
-{
-    char word[512];
-    while (value && *value) {
-        value = l2tp_chomp_word(value, word);
-        if (!word[0]) break;
-        if (prototype.num_lac_options < MAX_OPTS) {
-            char *x = strdup(word);
-            if (x) prototype.lac_options[prototype.num_lac_options++] = x;
-            prototype.lac_options[prototype.num_lac_options] = NULL;
-        } else {
-            break;
-        }
-    }
-    return 0;
-}
-
-/**********************************************************************
-* %FUNCTION: handle_lns_option
-* %ARGUMENTS:
-*  es -- event selector
-*  desc -- descriptor
-*  value -- the hostname
-* %RETURNS:
-*  0
-* %DESCRIPTION:
-*  Copies LNS options to prototype
-***********************************************************************/
-static int
-handle_lns_option(EventSelector *es,
-		     l2tp_opt_descriptor *desc,
-		     char const *value)
-{
-    char word[512];
-    while (value && *value) {
-        value = l2tp_chomp_word(value, word);
-        if (!word[0]) break;
-        if (prototype.num_lns_options < MAX_OPTS) {
-            char *x = strdup(word);
-            if (x) prototype.lns_options[prototype.num_lns_options++] = x;
-            prototype.lns_options[prototype.num_lns_options] = NULL;
-        } else {
-            break;
-        }
-    }
-    return 0;
-}
-
-/**********************************************************************
 * %FUNCTION: peer_process_option
 * %ARGUMENTS:
 *  es -- event selector
@@ -240,7 +119,6 @@ peer_process_option(EventSelector *es,
     if (!strcmp(name, "*begin*")) {
 	/* Switching in to peer context */
 	memset(&prototype, 0, sizeof(prototype));
-	prototype.mask_bits = 32;
 	prototype.validate_peer_ip = 1;
 	port = 1701;
 	return 0;
@@ -267,23 +145,12 @@ peer_process_option(EventSelector *es,
 	peer = l2tp_peer_insert(&prototype.addr);
 	if (!peer) return -1;
 
-	peer->mask_bits = prototype.mask_bits;
-	memcpy(&peer->hostname,&prototype.hostname, sizeof(prototype.hostname));
-	peer->hostname_len = prototype.hostname_len;
-	memcpy(&peer->peername,&prototype.peername, sizeof(prototype.peername));
-	peer->peername_len = prototype.peername_len;
 	memcpy(&peer->secret, &prototype.secret, MAX_SECRET_LEN);
 	peer->secret_len = prototype.secret_len;
 	peer->lns_ops = prototype.lns_ops;
-        memcpy(&peer->lns_options,&prototype.lns_options,sizeof(prototype.lns_options));
 	peer->lac_ops = prototype.lac_ops;
-        memcpy(&peer->lac_options,&prototype.lac_options,sizeof(prototype.lac_options));
 	peer->hide_avps = prototype.hide_avps;
 	peer->retain_tunnel = prototype.retain_tunnel;
-	peer->persist = prototype.persist;
-	peer->holdoff = prototype.holdoff;
-	peer->maxfail = prototype.maxfail;
-	peer->fail = 0;
 	peer->validate_peer_ip = prototype.validate_peer_ip;
 	return 0;
     }
@@ -344,55 +211,29 @@ l2tp_peer_init(void)
 * %FUNCTION: peer_find
 * %ARGUMENTS:
 *  addr -- IP address of peer
-*  hostname -- AVP peer hostname
 * %RETURNS:
 *  A pointer to the peer with given IP address, or NULL if not found.
 * %DESCRIPTION:
 *  Searches peer hash table for specified peer.
 ***********************************************************************/
 l2tp_peer *
-l2tp_peer_find(struct sockaddr_in *addr, char const *peername)
+l2tp_peer_find(struct sockaddr_in *addr)
 {
-    void *cursor;
-    l2tp_peer *peer = NULL;
-    l2tp_peer *candidate = NULL;
-    char addr1_str[16], addr2_str[16];
-
-    for (candidate = hash_start(&all_peers, &cursor);
-	 candidate ;
-	 candidate = hash_next(&all_peers, &cursor)) {
-
-	unsigned long mask = candidate->mask_bits ?
-	    htonl(0xFFFFFFFFUL << (32 - candidate->mask_bits)) : 0;
-
-	strcpy(addr1_str, inet_ntoa(addr->sin_addr));
-	strcpy(addr2_str, inet_ntoa(candidate->addr.sin_addr));
-	DBG(l2tp_db(DBG_TUNNEL, "l2tp_peer_find(%s) examining peer %s/%d\n",
-	       addr1_str, addr2_str,
-	       candidate->mask_bits));
-
-	if ((candidate->addr.sin_addr.s_addr & mask) ==
-	    (addr->sin_addr.s_addr & mask)
-	    && (!peername ||
-		!(candidate->peername[0]) ||
-		!strcmp(peername,candidate->peername))) {
-
-	    if (peer == NULL) {
-		peer = candidate;
-	    } else {
-		if (peer->mask_bits < candidate->mask_bits)
-		    peer = candidate;
-	    }
-	}
+    l2tp_peer candidate;
+
+    candidate.addr = *addr;
+
+    return hash_find(&all_peers, &candidate);
     }
 
-    strcpy(addr1_str, inet_ntoa(addr->sin_addr));
-    if (peer != NULL)
-	strcpy(addr2_str, inet_ntoa(peer->addr.sin_addr));
-    DBG(l2tp_db(DBG_TUNNEL, "l2tp_peer_find(%s) found %s/%d\n",
-	   addr1_str,
-	   peer == NULL ? "NULL" : addr2_str,
-	   peer == NULL ? -1 : peer->mask_bits));
+l2tp_peer *
+l2tp_peer_find_by_func(int (*func)(l2tp_peer *peer, void *param), void *param)
+{
+    void *cursor;
+    l2tp_peer *peer;
+
+    for (peer = hash_start(&all_peers, &cursor); peer && !func(peer, param);
+	 peer = hash_next(&all_peers, &cursor));
 
     return peer;
 }
@@ -420,3 +261,64 @@ l2tp_peer_insert(struct sockaddr_in *add
     hash_insert(&all_peers, peer);
     return peer;
 }
+
+void
+peer_release(l2tp_peer *peer)
+{
+    DBG(l2tp_db(DBG_TUNNEL, "peer_release(%s)\n",
+       	inet_ntoa(peer->addr.sin_addr)));
+    hash_remove(&all_peers, peer);
+}
+
+void
+peer_free(l2tp_peer *peer)
+{
+    DBG(l2tp_db(DBG_TUNNEL, "peer_free(%s)\n", inet_ntoa(peer->addr.sin_addr)));
+    if (peer->close)
+	peer->close(peer);
+    free(peer);
+}
+
+l2tp_peer *
+l2tp_peer_insert_and_fill(char *handler_name, struct in_addr *addr,
+    uint16_t port, char *secret, int secret_len, void *private,
+    void (*close_peer)(l2tp_peer *), int (*getid)(l2tp_peer *), void (*sigid)(l2tp_tuid *))
+{
+    l2tp_peer *peer;
+    struct sockaddr_in sock_addr;
+    l2tp_lac_handler *handler = l2tp_session_find_lac_handler(handler_name);
+
+    if (!handler) {
+	l2tp_set_errmsg("No LAC handler named '%s'", handler_name);
+	return NULL;
+    }
+
+    sock_addr.sin_addr.s_addr = addr->s_addr;
+    sock_addr.sin_port = htons(port);
+    sock_addr.sin_family = AF_INET;
+
+    /* Add the peer, if not already exists from previous connection */
+    peer = l2tp_peer_find(&sock_addr);
+    if (peer) {
+	l2tp_set_errmsg("peer already exists-IP %s port %d", 
+	    inet_ntoa(*addr), port);
+	return NULL;
+    }
+    peer = l2tp_peer_insert(&sock_addr);
+    if (!peer) return NULL;
+
+    if (secret_len)
+	memcpy(peer->secret, secret, secret_len);
+    peer->secret_len = secret_len;
+    peer->lns_ops = NULL;
+    peer->lac_ops = handler->call_ops;
+    peer->hide_avps = 0;
+    peer->retain_tunnel = 0;
+    peer->validate_peer_ip = 1;
+    peer->private = private;
+    peer->close = close_peer;
+    peer->getid = getid;
+    peer->sigid = sigid;
+    return peer;
+}
+
diff -pruwN rp-l2tp-0.4/rg.c rp-l2tp-0.4-livebox/rg.c
--- rp-l2tp-0.4/rg.c	1970-01-01 01:00:00.000000000 +0100
+++ rp-l2tp-0.4-livebox/rg.c	2010-03-31 11:45:59.000000000 +0200
@@ -0,0 +1,552 @@
+/****************************************************************************
+ *
+ * /home/gil/dev/rg.tag/pkg/l2tp/rg.c
+ * 
+ * Copyright (C) Jungo LTD 2004
+ * 
+ * This program is free software; you can redistribute it
+ * and/or modify it under the terms of the GNU General 
+ * Public License as published by the Free Software
+ * Foundation; either version 2 of the License, or (at
+ * your option) any later version.
+ * 
+ * This program is distributed in the hope that it will be
+ * useful, but WITHOUT ANY WARRANTY; without even the implied
+ * warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.
+ * See the GNU General Public License for more details.
+ * 
+ * You should have received a copy of the GNU General Public
+ * License along with this program; if not, write to the Free
+ * Software Foundation, Inc., 59 Temple Place - Suite 330, Boston,
+ * MA 02111-1307, USA.
+ *
+ * Developed by Jungo LTD.
+ * Residential Gateway Software Division
+ * www.jungo.com
+ * info@jungo.com
+ */
+
+#include "l2tp.h"
+#include "rg_ipc.h"
+#include <stdio.h>
+#include <string.h>
+#include <sys/ioctl.h>
+#include <fcntl.h>
+#include <errno.h>
+#include <unistd.h>
+#include <termios.h>
+
+#include "be_api_gpl.h"
+#include "openrg_gpl.h"
+#include "kos_chardev_id.h"
+#include "alloc.h"
+
+#define HANDLER_NAME "jungo"
+
+static int rg_session_close(EventSelector *es, int id);
+static int rg_session_open(EventSelector *es, int id, struct in_addr *addr,
+    char *secret, int secret_len);
+static int establish_session(l2tp_session *ses);
+static void close_session(l2tp_session *ses, char const *reason);
+static void rg_tunnel_close(l2tp_tunnel *tunnel);
+static void handle_frame(l2tp_session *ses, unsigned char *buf, size_t len);
+static void readable(EventSelector *es, int fd, unsigned int flags, void *data);
+static int l2tp_peer_is_equal_id(l2tp_peer *peer, void *param);
+static void rg_session_cont_free(l2tp_session *ses);
+static int rg_send_ipc(l2tpd_msg_type_t type, EventSelector *es,
+    l2tp_session *ses);
+static int rg_peer_id(l2tp_peer *peer);
+static void rg_sig_id(l2tp_tuid *tuid);
+
+typedef struct {
+    EventHandler *read_event;	/* Read event handler */
+    int fd;			/* socket of master tty */
+    int attached;		/* 1 if char device is already attached 
+				   0 otherwise */
+} rg_session_context_t;
+
+typedef struct {
+    int id;			/* as received in the open message */
+    enum {
+	PEER_ACTIVE = 0,
+	PEER_WAITING_CLOSE = 1,
+    } state;
+} rg_peer_context_t;
+
+typedef struct rg_ipc_send_msg_t {
+    struct rg_ipc_send_msg_t *next;
+    EventHandler *retry_event;	/* Retry event handler */
+    l2tpd_msg_t msg;
+} rg_ipc_send_msg_t;
+
+static l2tp_call_ops my_ops = {
+    establish_session,
+    close_session,
+    handle_frame
+};
+
+static l2tp_lac_handler my_lac_handler = {
+    NULL,
+    HANDLER_NAME,
+    &my_ops
+};
+
+static int ipc_sock = -1;
+static EventHandler *ipc_event;
+static rg_ipc_send_msg_t *rg_ipc_send_msgs;
+
+static int rg_backend_attach(int id, char *dev_name)
+{
+    l2tp_tunnel *tunnel;
+    l2tp_peer *peer;
+    l2tp_session *ses;
+    void *dummy;
+    rg_session_context_t *cont;
+
+    /* search matching session */
+    if (!(peer = l2tp_peer_find_by_func(l2tp_peer_is_equal_id, &id)) ||
+	!peer->private)
+    {
+	l2tp_set_errmsg("peer for id %d not found", id);
+	return -1;
+    }
+    
+    if (!(tunnel = tunnel_find_bypeer(peer)))
+    {
+	l2tp_set_errmsg("tunnel for id %d not found", id);
+	return -1;
+    }
+    
+    if (!(ses = l2tp_tunnel_first_session(tunnel, &dummy)))
+    {
+	l2tp_set_errmsg("session for id %d not found", id);
+	return -1;
+    }
+
+    cont = malloc(sizeof(rg_session_context_t));
+    if (!cont)
+    {
+	l2tp_set_errmsg("unable to allocate session private memory");
+	return -1;
+    }
+
+    ses->private = cont;
+    memset(cont, 0, sizeof(rg_session_context_t));
+
+    /* open char device and attach to it */
+    if ((cont->fd = gpl_sys_rg_chrdev_open(KOS_CDT_PPPCHARDEV_BACKEND, O_RDWR))
+	< 0)
+    {
+	l2tp_set_errmsg("Can't open ppp chardevice");
+	goto Error;
+    }
+
+    if (ioctl(cont->fd, PPPBE_ATTACH, (int)dev_name) < 0)
+    {
+	l2tp_set_errmsg("failed attach l2tpd to device %s", dev_name);
+	goto Error;
+    }
+    cont->attached = 1;
+
+    cont->read_event = Event_AddHandler(ses->tunnel->es, cont->fd,
+	EVENT_FLAG_READABLE, readable, ses);
+
+    l2tp_db(DBG_CONTROL, "session %d to %s opened, fd %d",
+	((rg_peer_context_t *)ses->tunnel->peer->private)->id,
+       	inet_ntoa(ses->tunnel->peer->addr.sin_addr), cont->fd);
+    return 0;
+Error:
+    rg_session_cont_free(ses);
+    return -1;
+}
+
+/* called by l2tpd main event loop when there is something to read from ipc
+ * socket */
+static void rg_input(EventSelector *es, int sock, unsigned int flags,
+    void *data)
+{
+    l2tpd_msg_t msg;
+    int fd, rc = -1;
+    u8 secret[MAX_SECRET_LEN];
+    char *dev_name = NULL;
+
+    /* read message */
+    if ((fd = ipc_accept(sock))<0 ||
+        (rc = ipc_read(fd, (u8 *)&msg, sizeof(msg))))
+    {
+	goto Exit;
+    }
+
+    /* handle message */
+    switch (msg.type)
+    {
+    case L2M_CONNECT:
+	if (msg.params.shared_secret_len)
+	{
+	    if (msg.params.shared_secret_len > MAX_SECRET_LEN ||
+		(rc = ipc_read(fd, secret, msg.params.shared_secret_len)))
+	    {
+		goto Exit;
+	    }
+	}
+	    
+	/* open new session */
+	ipc_u32_write(fd, (u32)rg_session_open(es, msg.params.id,
+	    &msg.params.server_ip, secret, msg.params.shared_secret_len));
+	break;
+    case L2M_CLOSE:
+	/* close session */
+	rg_session_close(es, msg.params.id);
+	break;
+    case L2M_ATTACH:
+	if (!(dev_name = ipc_string_read(fd)))
+	    goto Exit;
+	ipc_u32_write(fd, (u32)rg_backend_attach(msg.params.id, dev_name));
+	break;
+    default:
+	break;
+    }
+
+Exit:
+    if (fd>=0)
+	ipc_server_close(fd, rc);
+    nfree(dev_name);
+}
+
+int rg_init(EventSelector *es)
+{
+    l2tp_session_register_lac_handler(&my_lac_handler);
+
+    ipc_sock = ipc_bind_listen_port(htons(RG_IPC_PORT_MT_2_L2TPD));
+    if (ipc_sock < 0)
+    {
+	l2tp_set_errmsg("could not open ipc socket");
+	return -1;
+    }
+
+    ipc_event = Event_AddHandler(es, ipc_sock, EVENT_FLAG_READABLE, rg_input,
+	NULL);
+    
+    /* update caller that l2tpd/ipc is ready */
+    rg_send_ipc(L2M_READY, es, NULL);
+
+    return 0;
+}
+
+static int l2tp_peer_is_equal_id(l2tp_peer *peer, void *param)
+{
+    rg_peer_context_t *cont = peer->private;
+
+    return cont && cont->id == *(int *)param;
+}
+
+static int rg_session_close(EventSelector *es, int id)
+{
+    l2tp_tunnel *tunnel;
+    l2tp_peer *peer;
+    rg_peer_context_t *cont;
+
+    /* search matching session */
+    peer = l2tp_peer_find_by_func(l2tp_peer_is_equal_id, &id);
+    if (!peer || !peer->private)
+    {
+	l2tp_set_errmsg("session %d not found", id);
+	return -1;
+    }
+    cont = peer->private;
+    switch (cont->state)
+    {
+    case PEER_ACTIVE:
+	tunnel = tunnel_find_bypeer(peer);
+	peer_release(peer);
+	if (!tunnel)
+	{
+	    l2tp_set_errmsg("no tunnel found for session %d to %s", id,
+	       	inet_ntoa(peer->addr.sin_addr));
+	    peer_free(peer);
+	    return -1;
+	}
+	cont->state = PEER_WAITING_CLOSE;
+	l2tp_tunnel_stop_tunnel(tunnel, "Closed by OpenRG");
+	DBG(l2tp_db(DBG_FLOW, "tunnel stopped for session %d to %s", id,
+	    inet_ntoa(peer->addr.sin_addr)));
+	break;
+    case PEER_WAITING_CLOSE:
+	/* should never be reached */
+	l2tp_set_errmsg("session %d to %s already closing", id, 
+	    inet_ntoa(peer->addr.sin_addr));
+	return -1;
+    }
+
+    return 0;
+}
+
+static void rg_peer_close(l2tp_peer *p)
+{
+    if (!p->private)
+	return;
+
+    free(p->private);
+    p->private = NULL;
+}
+
+static int rg_session_open(EventSelector *es, int id, struct in_addr *addr,
+    char *secret, int secret_len)
+{
+    l2tp_peer *p;
+    rg_peer_context_t *cont;
+    l2tp_session *ses;
+
+    l2tp_db(DBG_CONTROL, "opening session %d to %s", id, inet_ntoa(*addr));
+
+    cont = malloc(sizeof(*cont));
+    if (!cont)
+    {
+	l2tp_set_errmsg("could not allocate peer context for session %d to %s", 
+	    id, inet_ntoa(*addr));
+	return -1;
+    }
+    memset(cont, 0, sizeof(*cont));
+    cont->state = PEER_ACTIVE;
+    cont->id = id;
+
+    p = l2tp_peer_insert_and_fill(HANDLER_NAME, addr, L2TP_PORT, secret,
+	secret_len, cont, rg_peer_close, rg_peer_id, rg_sig_id);
+    if (!p)
+    {
+	l2tp_set_errmsg("could not create peer for session %d to %s", id,
+	    inet_ntoa(*addr));
+	free(cont);
+	return  -1;
+    }
+
+    ses = l2tp_session_call_lns(p, "foobar", es, NULL);
+    if (!ses)
+    {
+	l2tp_set_errmsg("could not call peer of session %d to %s", id,
+	    inet_ntoa(p->addr.sin_addr));
+	peer_release(p);
+	peer_free(p);
+	return -1;
+    }
+    ses->tunnel->close = rg_tunnel_close;
+
+    return 0;
+}
+
+static void rg_ipc_send_msg_free(EventSelector *es,
+    rg_ipc_send_msg_t *rg_ipc_send_msg)
+{
+    rg_ipc_send_msg_t **cur;
+
+    if (rg_ipc_send_msg->retry_event)
+	Event_DelHandler(es, rg_ipc_send_msg->retry_event);
+
+    /* remove from list */
+    for (cur = &rg_ipc_send_msgs; *cur && *cur != rg_ipc_send_msg;
+	cur = &(*cur)->next);
+    if (*cur)
+	*cur = rg_ipc_send_msg->next;
+
+    free(rg_ipc_send_msg);
+}
+
+
+static void rg_send_ipc_try(EventSelector *es, int fd_dummy,
+    unsigned int flags_dummy, void *data)
+{
+    rg_ipc_send_msg_t *rg_ipc_send_msg = data;
+    int rc = -1, fd;
+
+    if ((fd = ipc_connect(htons(RG_IPC_PORT_L2TPD_2_MT)))<0 ||
+	(rc = ipc_write(fd, (u8 *)&rg_ipc_send_msg->msg,
+       	sizeof(rg_ipc_send_msg->msg))))
+    {
+	struct timeval t;
+
+	/* schedule retry 0.1 seconds from now */
+	t.tv_sec = 0;
+	t.tv_usec = 100000;
+	rg_ipc_send_msg->retry_event =
+	    Event_AddTimerHandler(es, t, rg_send_ipc_try, rg_ipc_send_msg);
+
+	return;
+    }
+    if (fd >= 0)
+	ipc_client_close(fd, rc);
+
+    rg_ipc_send_msg_free(es, rg_ipc_send_msg);
+}
+
+static int rg_send_ipc(l2tpd_msg_type_t type, EventSelector *es,
+    l2tp_session *ses)
+{
+    rg_ipc_send_msg_t *rg_ipc_send_msg = zalloc(sizeof(rg_ipc_send_msg_t));
+
+    if (!rg_ipc_send_msg)
+	return -1;
+
+    rg_ipc_send_msg->msg.type = type;
+    if (ses)
+    {
+	l2tp_peer *peer = ses->tunnel->peer;
+	rg_peer_context_t *cont = peer->private;
+
+	rg_ipc_send_msg->msg.params.id = cont->id;
+	rg_ipc_send_msg->msg.params.server_ip = peer->addr.sin_addr;
+	rg_ipc_send_msg->msg.params.shared_secret_len = peer->secret_len;
+    }
+
+    /* add to list */
+    rg_ipc_send_msg->next = rg_ipc_send_msgs;
+    rg_ipc_send_msgs = rg_ipc_send_msg;
+
+    rg_send_ipc_try(es, 0, 0, rg_ipc_send_msg);
+
+    return 0;
+}
+
+static void rg_session_cont_free(l2tp_session *ses)
+{
+    rg_session_context_t *cont = ses->private;
+
+    if (!cont)
+	return;
+
+    if (cont->read_event)
+	Event_DelHandler(ses->tunnel->es, cont->read_event);
+    if (cont->attached)
+	ioctl(cont->fd, PPPBE_DETACH, NULL); 
+    if (cont->fd >= 0)
+	close(cont->fd);
+    free(cont);
+    ses->private = NULL;
+}
+
+static int establish_session(l2tp_session *ses)
+{
+    /* update caller that session is open */
+    return rg_send_ipc(L2M_CONNECT, ses->tunnel->es, ses);
+}
+
+/* close_session() is called just before ses is freed */
+static void close_session(l2tp_session *ses, char const *reason)
+{
+    l2tp_db(DBG_CONTROL, "session %d to %s closed. reason %s",
+	((rg_peer_context_t *)ses->tunnel->peer->private)->id,
+       	inet_ntoa(ses->tunnel->peer->addr.sin_addr), reason ? reason : "-");
+
+    if (ses->private)
+	rg_session_cont_free(ses);
+}
+
+/* rg_tunnel_close() is called just before tunnel is freed */
+static void rg_tunnel_close(l2tp_tunnel *tunnel)
+{
+    rg_peer_context_t *cont = tunnel->peer->private;
+
+    DBG(l2tp_db(DBG_TUNNEL, "tunnel of session %d to %s closed",
+	((rg_peer_context_t *)tunnel->peer->private)->id,
+       	inet_ntoa(tunnel->peer->addr.sin_addr)));
+
+    switch (cont->state)
+    {
+    case PEER_ACTIVE:
+	peer_release(tunnel->peer);
+	/* fall through */
+    case PEER_WAITING_CLOSE:
+	/* peer already released, either here or in rg_session_close() */
+	peer_free(tunnel->peer);
+	break;
+    }
+}
+
+/* deliver the peer device id corresponding */
+static int rg_peer_id(l2tp_peer *peer)
+{
+return(((rg_peer_context_t *)peer->private)->id);
+}
+
+/* signal to the main task a shutdown message at peer device */
+static void rg_sig_id(l2tp_tuid * tuid)
+{
+rg_ipc_send_msg_t *rg_ipc_send_msg;
+
+/* not a real id ? */
+if (tuid->id < 0) return;
+
+rg_ipc_send_msg = zalloc(sizeof(rg_ipc_send_msg_t));
+
+/* no memory ? */
+if (!rg_ipc_send_msg) return ;
+
+rg_ipc_send_msg->msg.type = L2M_CLOSE;
+rg_ipc_send_msg->msg.params.id = tuid->id;
+
+/* add to list */
+rg_ipc_send_msg->next = rg_ipc_send_msgs;
+rg_ipc_send_msgs = rg_ipc_send_msg;
+
+/* send the message */
+rg_send_ipc_try(tuid->es, 0, 0, rg_ipc_send_msg);	
+}
+
+static void handle_frame(l2tp_session *ses, unsigned char *buf, size_t len)
+{
+    int n;
+    rg_session_context_t *cont = ses->private;
+
+    /* chardev was not attached yet */
+    if (!cont)
+	return;
+    
+    /* TODO: Add error checking */
+    n = write(cont->fd, buf, len);
+
+    DBG(l2tp_db(DBG_XMIT_RCV,
+	"handle_frame() sent to pppd %d octets of %d (%d-%s):\n",
+	n, len, errno, strerror(errno)));
+    DBG(l2tp_db(DBG_XMIT_RCV_DUMP, "orig: %s\n", dump(buf, len)));
+}
+
+static void readable(EventSelector *es, int fd, unsigned int flags, void *data)
+{
+    unsigned char buf[MAX_PACKET_LEN+EXTRA_HEADER_ROOM];
+    int n;
+    l2tp_session *ses = (l2tp_session *)data;
+    rg_session_context_t *cont;
+    int iters = 5;
+
+    /* It seems to be better to read in a loop than to go
+     * back to select loop.  However, don't loop forever, or
+     * we could have a DoS potential */
+    while (iters--)
+    {
+	n = read(fd, buf + EXTRA_HEADER_ROOM, MAX_PACKET_LEN);
+
+	if (n < 0)
+	{
+	    if (errno != EIO)
+		continue;
+	    return;
+	}
+
+	DBG(l2tp_db(DBG_XMIT_RCV, 
+	    "readable() got from pppd %d octets (%d-%s)\n",
+	    n, errno, strerror(errno)));
+	DBG(l2tp_db(DBG_XMIT_RCV_DUMP, "readable(): %s\n", dump(buf, n)));
+	errno = 0;
+
+	/* TODO: Check this.... */
+	if (n <= 2)
+	    return;
+
+	if (!ses)
+	    continue;
+
+	cont = ses->private;
+
+	l2tp_dgram_send_ppp_frame(ses, buf+EXTRA_HEADER_ROOM, n); 
+    }
+}
+
diff -pruwN rp-l2tp-0.4/rg_config.h rp-l2tp-0.4-livebox/rg_config.h
--- rp-l2tp-0.4/rg_config.h	1970-01-01 01:00:00.000000000 +0100
+++ rp-l2tp-0.4-livebox/rg_config.h	2010-03-31 11:45:59.000000000 +0200
@@ -0,0 +1,2986 @@
+/* OpenRG: This file was automatically generated by pkg/build/create_config 
+ * See /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/build.FAST3202_LBV2ULT/config.log for configuration log.
+ */
+#ifndef _RG_CONFIG_H_
+#define _RG_CONFIG_H_
+
+#define AUTOCONF_INCLUDED
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/sagem_on_the_fly_dist_config.c:48 */
+#define CONFIG_INOTIFY 1
+
+#define cCONFIG_RG_DEV_IF_ATHBCMWRAPPER 0
+extern int vcCONFIG_RG_DEV_IF_ATHBCMWRAPPER;
+
+#define cCONFIG_RG_DEV_IF_BCM43XX 0
+extern int vcCONFIG_RG_DEV_IF_BCM43XX;
+
+#define cCONFIG_RG_DEV_IF_AR500XX 0
+extern int vcCONFIG_RG_DEV_IF_AR500XX;
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/hw_config.c:1590 */
+#define CONFIG_RG_DEV_IF_VLAN 1
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/hw_config.c:1658 */
+#define CONFIG_RG_DEV_IF_ETHOA 1
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/device_config.c:192 */
+#define CONFIG_RG_DEV_IF_BRIDGE 1
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/hw_config.c:1518 */
+#define CONFIG_RG_DEV_IF_AD6834_ETH 1
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/hw_config.c:1643 */
+#define CONFIG_RG_DEV_IF_AD68XX_ADSL 1
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/dist_config.c:3268 */
+#define cCONFIG_BOOTLDR_UBOOT 1
+extern int vcCONFIG_BOOTLDR_UBOOT;
+#define CONFIG_BOOTLDR_UBOOT 1
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/feature_config.c:2963 */
+#define RG_PROD_STR "Livebox"
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/config_target_os.c:40 */
+#define CONFIG_RG_OS "LINUX_26"
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/hw_config.c:206 */
+#define cCONFIG_RG_HW "FAST3202"
+extern char *vcCONFIG_RG_HW;
+#define CONFIG_RG_HW "FAST3202"
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/hw_config.c:207 */
+#define cCONFIG_RG_HW_DESC_STR "Sagem F@ST3202 Livebox1"
+extern char *vcCONFIG_RG_HW_DESC_STR;
+#define CONFIG_RG_HW_DESC_STR "Sagem F@ST3202 Livebox1"
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/dist_config.c:5054 */
+#define cCONFIG_RG_DIST "FAST3202_LBV2ULT"
+extern char *vcCONFIG_RG_DIST;
+#define CONFIG_RG_DIST "FAST3202_LBV2ULT"
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/dist_config.c:3240 */
+#define cCONFIG_RG_WBM_READONLY_USERS_GROUPS 1
+extern int vcCONFIG_RG_WBM_READONLY_USERS_GROUPS;
+#define CONFIG_RG_WBM_READONLY_USERS_GROUPS 1
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/config_target_os.c:95 */
+#define CONFIG_MMU 1
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/config_target_os.c:68 */
+#define CONFIG_INIT_ENV_ARG_LIMIT 32
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/config_target_os.c:71 */
+#define CONFIG_PRINTK 1
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/config_target_os.c:73 */
+#define CONFIG_BUG 1
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/config_target_os.c:74 */
+#define CONFIG_TINY_SHMEM 1
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/config_target_os.c:75 */
+#define CONFIG_BASE_SMALL 0
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/config_target_os.c:101 */
+#define CONFIG_OBSOLETE_MODPARM 1
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/config_target_os.c:102 */
+#define CONFIG_KMOD 1
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/config_target_os.c:76 */
+#define CONFIG_GENERIC_CALIBRATE_DELAY 1
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/config_target_os.c:118 */
+#define CONFIG_IOSCHED_NOOP 1
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/config_target_os.c:96 */
+#define CONFIG_DEFAULT_IOSCHED "anticipatory"
+
+#define cCONFIG_NET_IPGRE_FEATURE 0
+extern int vcCONFIG_NET_IPGRE_FEATURE;
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/feature_config.c:1234 */
+#define CONFIG_XFRM 1
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/feature_config.c:1235 */
+#define CONFIG_CRYPTO 1
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/feature_config.c:1236 */
+#define CONFIG_CRYPTO_HMAC 1
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/feature_config.c:1237 */
+#define CONFIG_CRYPTO_MD5 1
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/feature_config.c:1238 */
+#define CONFIG_CRYPTO_SHA1 1
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/feature_config.c:1239 */
+#define CONFIG_CRYPTO_AES 1
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/feature_config.c:1240 */
+#define CONFIG_INET_AH 1
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/config_target_os.c:115 */
+#define CONFIG_NET_SCH_CLK_JIFFIES 1
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/config_target_os.c:124 */
+#define CONFIG_LEGACY_PTYS 1
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/config_target_os.c:125 */
+#define CONFIG_LEGACY_PTY_COUNT 256
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/feature_config.c:1195 */
+#define CONFIG_LOG_BUF_SHIFT 14
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/config_target_os.c:93 */
+#define CONFIG_CRC32 1
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/config_target_os.c:77 */
+#define CONFIG_GENERIC_HARDIRQS 1
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/config_target_os.c:114 */
+#define CONFIG_IP_MULTIPLE_TABLES 1
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/config_target_os.c:100 */
+#define CONFIG_MODULE_UNLOAD 1
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/feature_config.c:1177 */
+#define CONFIG_BOOT_ELF32 1
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/feature_config.c:1191 */
+#define CONFIG_DMA_NONCOHERENT 1
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/dist_config.c:3255 */
+#define cCONFIG_SOFTIRQ_THROTTLE 1
+extern int vcCONFIG_SOFTIRQ_THROTTLE;
+#define CONFIG_SOFTIRQ_THROTTLE 1
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/feature_config.c:1250 */
+#define CONFIG_KALLSYMS 1
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/feature_config.c:1193 */
+#define CONFIG_MIPS_L1_CACHE_SHIFT 5
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/feature_config.c:1231 */
+#define CONFIG_DEBUG_INFO 1
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/feature_config.c:1194 */
+#define CONFIG_PAGE_SIZE_4KB 1
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/feature_config.c:1192 */
+#define CONFIG_TRAD_SIGNALS 1
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/feature_config.c:2545 */
+#define CONFIG_INITRAMFS_SOURCE $(RAMDISK_MOUNT_POINT)
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/feature_config.c:2546 */
+#define CONFIG_INITRAMFS_ROOT_UID $(shell id -u)
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/feature_config.c:2547 */
+#define CONFIG_INITRAMFS_ROOT_GID $(shell id -g)
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/config_target_os.c:111 */
+#define CONFIG_IP_FIB_HASH 1
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/feature_config.c:1169 */
+#define ARCH "mips"
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/feature_config.c:1170 */
+#define LIBC_ARCH mips
+
+#define cCONFIG_BRIDGE_FEATURE 0
+extern int vcCONFIG_BRIDGE_FEATURE;
+
+#define cCONFIG_BRIDGE_UTILS 0
+extern int vcCONFIG_BRIDGE_UTILS;
+
+#define cCONFIG_IPTABLES 0
+extern int vcCONFIG_IPTABLES;
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/feature_config.c:575 */
+#define CONFIG_NETFILTER 1
+
+#define cCONFIG_IP_NF_FILTER_FEATURE 0
+extern int vcCONFIG_IP_NF_FILTER_FEATURE;
+
+#define cCONFIG_IP_NF_IPTABLES_FEATURE 0
+extern int vcCONFIG_IP_NF_IPTABLES_FEATURE;
+
+#define cCONFIG_IP_NF_CONNTRACK_FEATURE 0
+extern int vcCONFIG_IP_NF_CONNTRACK_FEATURE;
+
+#define cCONFIG_IP_NF_NAT_FEATURE 0
+extern int vcCONFIG_IP_NF_NAT_FEATURE;
+
+#define cCONFIG_IP_NF_TARGET_MASQUERADE_FEATURE 0
+extern int vcCONFIG_IP_NF_TARGET_MASQUERADE_FEATURE;
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/feature_config.c:3053 */
+#define CONFIG_EXPORT_BINARIES 1
+
+#define cCONFIG_LSP_DIST 0
+extern int vcCONFIG_LSP_DIST;
+
+#define cCONFIG_RG_RGLOADER 0
+extern int vcCONFIG_RG_RGLOADER;
+
+#define cCONFIG_RG_NETWORK_BOOT 0
+extern int vcCONFIG_RG_NETWORK_BOOT;
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/feature_config.c:299 */
+#define CONFIG_RG_RGLOADER_CLI_CMD 1
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/hw_config.c:1871 */
+#define CONFIG_RG_UIEVENTS 1
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/hw_config.c:1872 */
+#define cCONFIG_RG_KLEDS_FEATURE 1
+extern int vcCONFIG_RG_KLEDS_FEATURE;
+#define CONFIG_RG_KLEDS_FEATURE 1
+#define CONFIG_RG_KLEDS_MODULE 1
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/hw_config.c:1874 */
+#define cCONFIG_RG_KSTART_LEDS_LUMS_FEATURE 1
+extern int vcCONFIG_RG_KSTART_LEDS_LUMS_FEATURE;
+#define CONFIG_RG_KSTART_LEDS_LUMS_FEATURE 1
+#define CONFIG_RG_KSTART_LEDS_LUMS_MODULE 1
+
+#define cCONFIG_RG_KRGLDR_FEATURE 0
+extern int vcCONFIG_RG_KRGLDR_FEATURE;
+
+#define cCONFIG_RG_KMONTE 0
+extern int vcCONFIG_RG_KMONTE;
+
+#define cCONFIG_PCMCIA 0
+extern int vcCONFIG_PCMCIA;
+#define cCONFIG_PCMCIA_FEATURE 0
+extern int vcCONFIG_PCMCIA_FEATURE;
+
+#define cCONFIG_80211G_AP_ADVANCED 0
+extern int vcCONFIG_80211G_AP_ADVANCED;
+
+#define cCONFIG_80211_WDS 0
+extern int vcCONFIG_80211_WDS;
+
+#define cCONFIG_8139TOO_FEATURE 0
+extern int vcCONFIG_8139TOO_FEATURE;
+
+#define cCONFIG_ARCH_IXP22X 0
+extern int vcCONFIG_ARCH_IXP22X;
+
+#define cCONFIG_ARCH_IXP425_HG21 0
+extern int vcCONFIG_ARCH_IXP425_HG21;
+
+#define cCONFIG_ARCH_IXP425_NAPA 0
+extern int vcCONFIG_ARCH_IXP425_NAPA;
+
+#define cCONFIG_ARCH_IXP425_BAMBOO 0
+extern int vcCONFIG_ARCH_IXP425_BAMBOO;
+
+#define cCONFIG_ARCH_IXP425_JEEVES 0
+extern int vcCONFIG_ARCH_IXP425_JEEVES;
+
+#define cCONFIG_JEEVES_RTC7301_FEATURE 0
+extern int vcCONFIG_JEEVES_RTC7301_FEATURE;
+
+#define cCONFIG_ARCH_IXP425_WAV54G 0
+extern int vcCONFIG_ARCH_IXP425_WAV54G;
+
+#define cCONFIG_ARCH_IXP425_BRUCE 0
+extern int vcCONFIG_ARCH_IXP425_BRUCE;
+
+#define cCONFIG_ARCH_IXP425_BRUCE_CPLD_FEATURE 0
+extern int vcCONFIG_ARCH_IXP425_BRUCE_CPLD_FEATURE;
+
+#define cCONFIG_ARM 0
+extern int vcCONFIG_ARM;
+
+#define cCONFIG_ARMNOMMU 0
+extern int vcCONFIG_ARMNOMMU;
+
+#define cCONFIG_ATALK_FEATURE 0
+extern int vcCONFIG_ATALK_FEATURE;
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/feature_config.c:424 */
+#define cCONFIG_ATM 1
+extern int vcCONFIG_ATM;
+#define CONFIG_ATM 1
+
+#define cCONFIG_ATM_NULL 0
+extern int vcCONFIG_ATM_NULL;
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/feature_config.c:426 */
+#define cCONFIG_ATM_BR2684_FEATURE 1
+extern int vcCONFIG_ATM_BR2684_FEATURE;
+#define CONFIG_ATM_BR2684_FEATURE 1
+#define CONFIG_ATM_BR2684 1
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/feature_config.c:433 */
+#define cCONFIG_ATM_CLIP_FEATURE 1
+extern int vcCONFIG_ATM_CLIP_FEATURE;
+#define CONFIG_ATM_CLIP_FEATURE 1
+#define CONFIG_ATM_CLIP_MODULE 1
+
+#define cCONFIG_ATM_CONEXANT_DSL_FEATURE 0
+extern int vcCONFIG_ATM_CONEXANT_DSL_FEATURE;
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/feature_config.c:425 */
+#define CONFIG_ATM_SKB 1
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/feature_config.c:429 */
+#define cCONFIG_ATM_PVC_SCAN 1
+extern int vcCONFIG_ATM_PVC_SCAN;
+#define CONFIG_ATM_PVC_SCAN 1
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/hw_config.c:1639 */
+#define cCONFIG_RG_ATM_QOS 1
+extern int vcCONFIG_RG_ATM_QOS;
+#define CONFIG_RG_ATM_QOS 1
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/feature_config.c:214 */
+#define cCONFIG_AUTO_LEARN_DNS 1
+extern int vcCONFIG_AUTO_LEARN_DNS;
+#define CONFIG_AUTO_LEARN_DNS 1
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/config_target_os.c:80 */
+#define cCONFIG_BINFMT_ELF_FEATURE 1
+extern int vcCONFIG_BINFMT_ELF_FEATURE;
+#define CONFIG_BINFMT_ELF_FEATURE 1
+#define CONFIG_BINFMT_ELF 1
+
+#define cCONFIG_BLK_DEV_IDE_FEATURE 0
+extern int vcCONFIG_BLK_DEV_IDE_FEATURE;
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/feature_config.c:1100 */
+#define CONFIG_CMDLINE "console=ttyS0,57600 quiet"
+
+#define cCONFIG_CNXT_EMAC_FEATURE 0
+extern int vcCONFIG_CNXT_EMAC_FEATURE;
+
+#define cCONFIG_CNXT_ADSL_FEATURE 0
+extern int vcCONFIG_CNXT_ADSL_FEATURE;
+
+#define cCONFIG_CNXT_ATM_FEATURE 0
+extern int vcCONFIG_CNXT_ATM_FEATURE;
+
+#define cCONFIG_CNXT_SOFTSAR_FEATURE 0
+extern int vcCONFIG_CNXT_SOFTSAR_FEATURE;
+
+#define cCONFIG_CONEXANT_DSL_TIGRIS_FEATURE 0
+extern int vcCONFIG_CONEXANT_DSL_TIGRIS_FEATURE;
+
+#define cCONFIG_CONEXANT_DSL_YUKON_FEATURE 0
+extern int vcCONFIG_CONEXANT_DSL_YUKON_FEATURE;
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/feature_config.c:2567 */
+#define CONFIG_CRAMFS_DYN_BLOCKSIZE 1
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/feature_config.c:2582 */
+#define CONFIG_CRAMFS_BLKSZ 65536
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/feature_config.c:1171 */
+#define CONFIG_CPU_BIG_ENDIAN 1
+
+#define cCONFIG_ROMFS_FS 0
+extern int vcCONFIG_ROMFS_FS;
+
+#define cCONFIG_RG_BZIP2 0
+extern int vcCONFIG_RG_BZIP2;
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/feature_config.c:2563 */
+#define CONFIG_CRAMFS 1
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/feature_config.c:2551 */
+#define CONFIG_CRAMFS_FS 1
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/dist_config.c:123 */
+#define CONFIG_NTFS_FS 1
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/feature_config.c:2561 */
+#define cCONFIG_CRAMFS_FS_COMMON 1
+extern int vcCONFIG_CRAMFS_FS_COMMON;
+#define CONFIG_CRAMFS_FS_COMMON 1
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/feature_config.c:1201 */
+#define CONFIG_CROSSCOMPILE 1
+
+#define cCONFIG_CX821XX_COMMON 0
+extern int vcCONFIG_CX821XX_COMMON;
+
+#define cCONFIG_GEMTEK_WX5715 0
+extern int vcCONFIG_GEMTEK_WX5715;
+
+#define cCONFIG_ISL38XX_FEATURE 0
+extern int vcCONFIG_ISL38XX_FEATURE;
+
+#define cCONFIG_ISL_SOFTMAC_FEATURE 0
+extern int vcCONFIG_ISL_SOFTMAC_FEATURE;
+
+#define cCONFIG_RALINK_RT2560_FEATURE 0
+extern int vcCONFIG_RALINK_RT2560_FEATURE;
+
+#define cCONFIG_AGN100_FEATURE 0
+extern int vcCONFIG_AGN100_FEATURE;
+
+#define cCONFIG_WIRELESS_TOOLS 0
+extern int vcCONFIG_WIRELESS_TOOLS;
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/hw_config.c:144 */
+#define cCONFIG_RG_WIRELESS_EXTENSIONS 1
+extern int vcCONFIG_RG_WIRELESS_EXTENSIONS;
+#define CONFIG_RG_WIRELESS_EXTENSIONS 1
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/feature_config.c:874 */
+#define CONFIG_DEF_KEYS 1
+
+#define cCONFIG_DSL_SYNCD_FEATURE 0
+extern int vcCONFIG_DSL_SYNCD_FEATURE;
+
+#define cCONFIG_DUETTE_FEATURE 0
+extern int vcCONFIG_DUETTE_FEATURE;
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/feature_config.c:1204 */
+#define CONFIG_DYN_LINK 1
+
+#define cCONFIG_EEPRO100_FEATURE 0
+extern int vcCONFIG_EEPRO100_FEATURE;
+
+#define cCONFIG_EEXPRESS_PRO100_FEATURE 0
+extern int vcCONFIG_EEXPRESS_PRO100_FEATURE;
+/* Set by command line */
+#define LIC /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/license/jpkg_fast3202.lic
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/create_config.c:655 */
+#define LICSTR 34ab8923211d0b2de5d3d0b527e8e204cf095886cdab51635b07f7222b565eb03491a37a19864f125d3bf8b5838ce291e6cc9907678ec674b5d1cee0a0fbd19115f3bd3d3a0ee7f89b9af02f
+
+#define cCONFIG_LICENSE_AGREEMENT 0
+extern int vcCONFIG_LICENSE_AGREEMENT;
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/sagem_on_the_fly_dist_config.c:49 */
+#define CONFIG_E2FSPROGS 1
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/feature_config.c:2851 */
+#define CONFIG_DOSFSPROGS 1
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/feature_config.c:2852 */
+#define CONFIG_EXT2_FS 1
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/dist_config.c:124 */
+#define CONFIG_EXT3_FS 1
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/dist_config.c:125 */
+#define CONFIG_JBD 1
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/feature_config.c:1103 */
+#define CONFIG_MAGIC_SYSRQ 1
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/feature_config.c:1494 */
+#define CONFIG_FREEPAGES_HIGH 384
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/feature_config.c:1493 */
+#define CONFIG_FREEPAGES_LOW 256
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/feature_config.c:1492 */
+#define CONFIG_FREEPAGES_MIN 32
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/feature_config.c:3071 */
+#define CONFIG_FREEPAGES_THRESHOLD 1
+
+#define cCONFIG_FREESWAN 0
+extern int vcCONFIG_FREESWAN;
+
+#define cCONFIG_RG_NETBIOS_RT_FEATURE 0
+extern int vcCONFIG_RG_NETBIOS_RT_FEATURE;
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/feature_config.c:1483 */
+#define CONFIG_GEN_RG_DEFAULT 1
+
+#define cCONFIG_GLIBC 0
+extern int vcCONFIG_GLIBC;
+
+#define cCONFIG_GMP 0
+extern int vcCONFIG_GMP;
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/feature_config.c:1166 */
+#define CONFIG_HAS_MMU 1
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/device_config.c:202 */
+#define cCONFIG_DEF_BRIDGE_LANS 1
+extern int vcCONFIG_DEF_BRIDGE_LANS;
+#define CONFIG_DEF_BRIDGE_LANS 1
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/device_config.c:204 */
+#define cCONFIG_DEF_BRIDGE_WAN 1
+extern int vcCONFIG_DEF_BRIDGE_WAN;
+#define CONFIG_DEF_BRIDGE_WAN 1
+
+#define cCONFIG_DEF_WAN_BRIDGE_FALLBACK_IP 0
+extern int vcCONFIG_DEF_WAN_BRIDGE_FALLBACK_IP;
+
+#define cCONFIG_DEF_BRIDGE_ALTERNATE_IP 0
+extern int vcCONFIG_DEF_BRIDGE_ALTERNATE_IP;
+
+#define cCONFIG_DEF_WAN_ALIAS_IP 0
+extern int vcCONFIG_DEF_WAN_ALIAS_IP;
+
+#define cCONFIG_IEEE1394_FEATURE 0
+extern int vcCONFIG_IEEE1394_FEATURE;
+
+#define cCONFIG_IEEE1394_OHCI1394_FEATURE 0
+extern int vcCONFIG_IEEE1394_OHCI1394_FEATURE;
+
+#define cCONFIG_IEEE1394_ETH1394_FEATURE 0
+extern int vcCONFIG_IEEE1394_ETH1394_FEATURE;
+
+#define cCONFIG_IEEE1394_SBP2_FEATURE 0
+extern int vcCONFIG_IEEE1394_SBP2_FEATURE;
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/config_target_os.c:109 */
+#define cCONFIG_INET_FEATURE 1
+extern int vcCONFIG_INET_FEATURE;
+#define CONFIG_INET_FEATURE 1
+#define CONFIG_INET 1
+
+#define cCONFIG_INIT_BASIC_RUNLEVELS 0
+extern int vcCONFIG_INIT_BASIC_RUNLEVELS;
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/feature_config.c:612 */
+#define CONFIG_IP_ADVANCED_ROUTER 1
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/config_target_os.c:110 */
+#define cCONFIG_IP_MULTICAST 1
+extern int vcCONFIG_IP_MULTICAST;
+#define CONFIG_IP_MULTICAST 1
+
+#define cCONFIG_IPSEC 0
+extern int vcCONFIG_IPSEC;
+
+#define cCONFIG_IPSEC_ALG_MD5_FEATURE 0
+extern int vcCONFIG_IPSEC_ALG_MD5_FEATURE;
+
+#define cCONFIG_IPSEC_ALG_SHA1_FEATURE 0
+extern int vcCONFIG_IPSEC_ALG_SHA1_FEATURE;
+
+#define cCONFIG_IPSEC_ALG_3DES_FEATURE 0
+extern int vcCONFIG_IPSEC_ALG_3DES_FEATURE;
+
+#define cCONFIG_IPSEC_ALG_1DES_FEATURE 0
+extern int vcCONFIG_IPSEC_ALG_1DES_FEATURE;
+
+#define cCONFIG_IPSEC_ALG_NULL_FEATURE 0
+extern int vcCONFIG_IPSEC_ALG_NULL_FEATURE;
+
+#define cCONFIG_IPSEC_ENC_AES 0
+extern int vcCONFIG_IPSEC_ENC_AES;
+
+#define cCONFIG_IPSEC_ALG_AES_FEATURE 0
+extern int vcCONFIG_IPSEC_ALG_AES_FEATURE;
+
+#define cCONFIG_IPSEC_DRIVER_FEATURE 0
+extern int vcCONFIG_IPSEC_DRIVER_FEATURE;
+
+#define cCONFIG_IXP_CS8900_FEATURE 0
+extern int vcCONFIG_IXP_CS8900_FEATURE;
+
+#define cCONFIG_ARCH_IXP425 0
+extern int vcCONFIG_ARCH_IXP425;
+
+#define cCONFIG_IXP425_CODELET_DSP_ENG_FEATURE 0
+extern int vcCONFIG_IXP425_CODELET_DSP_ENG_FEATURE;
+
+#define cCONFIG_IXP425_CODELET_ATM_FEATURE 0
+extern int vcCONFIG_IXP425_CODELET_ATM_FEATURE;
+
+#define cCONFIG_IXP425_CODELET_ETH_FEATURE 0
+extern int vcCONFIG_IXP425_CODELET_ETH_FEATURE;
+
+#define cCONFIG_IXP425_CODELET_HSS_FEATURE 0
+extern int vcCONFIG_IXP425_CODELET_HSS_FEATURE;
+
+#define cCONFIG_IXP425_CODELET_USB_FEATURE 0
+extern int vcCONFIG_IXP425_CODELET_USB_FEATURE;
+
+#define cCONFIG_IXP425_CODELET_DMA_FEATURE 0
+extern int vcCONFIG_IXP425_CODELET_DMA_FEATURE;
+
+#define cCONFIG_IXP425_CODELET_CRYPTO_FEATURE 0
+extern int vcCONFIG_IXP425_CODELET_CRYPTO_FEATURE;
+
+#define cCONFIG_IXP425_CODELET_PERF_PROF_FEATURE 0
+extern int vcCONFIG_IXP425_CODELET_PERF_PROF_FEATURE;
+
+#define cCONFIG_IXP425_CODELET_TIMERS_FEATURE 0
+extern int vcCONFIG_IXP425_CODELET_TIMERS_FEATURE;
+
+#define cCONFIG_IXP425_CODELETS_FEATURE 0
+extern int vcCONFIG_IXP425_CODELETS_FEATURE;
+
+#define cCONFIG_IXP425_COMMON 0
+extern int vcCONFIG_IXP425_COMMON;
+
+#define cCONFIG_IXP425_CSR_FEATURE 0
+extern int vcCONFIG_IXP425_CSR_FEATURE;
+
+#define cCONFIG_IXP425_DSR_FEATURE 0
+extern int vcCONFIG_IXP425_DSR_FEATURE;
+
+#define cCONFIG_IXP425_ETH_FEATURE 0
+extern int vcCONFIG_IXP425_ETH_FEATURE;
+
+#define cCONFIG_IXP425_ATM_FEATURE 0
+extern int vcCONFIG_IXP425_ATM_FEATURE;
+
+#define cCONFIG_IXP425_FLASH_E28F128J3_FEATURE 0
+extern int vcCONFIG_IXP425_FLASH_E28F128J3_FEATURE;
+
+#define cCONFIG_IXP425_FLASH_E28F640J3_FEATURE 0
+extern int vcCONFIG_IXP425_FLASH_E28F640J3_FEATURE;
+
+#define cCONFIG_IXP425_FLASH_E28F320J3_FEATURE 0
+extern int vcCONFIG_IXP425_FLASH_E28F320J3_FEATURE;
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/hw_config.c:1880 */
+#define cCONFIG_JFFS2_FS_FEATURE 1
+extern int vcCONFIG_JFFS2_FS_FEATURE;
+#define CONFIG_JFFS2_FS_FEATURE 1
+#define CONFIG_JFFS2_FS 1
+
+#define cCONFIG_LINUX_OAM_FEATURE 0
+extern int vcCONFIG_LINUX_OAM_FEATURE;
+
+#define cCONFIG_LOCKD_FEATURE 0
+extern int vcCONFIG_LOCKD_FEATURE;
+
+#define cCONFIG_I2C_FEATURE 0
+extern int vcCONFIG_I2C_FEATURE;
+
+#define cCONFIG_I2C_ALGOBIT_FEATURE 0
+extern int vcCONFIG_I2C_ALGOBIT_FEATURE;
+
+#define cCONFIG_I2C_IXP425_FEATURE 0
+extern int vcCONFIG_I2C_IXP425_FEATURE;
+
+#define cCONFIG_I2C_DS1374_FEATURE 0
+extern int vcCONFIG_I2C_DS1374_FEATURE;
+
+#define cCONFIG_I2C_LM81_FEATURE 0
+extern int vcCONFIG_I2C_LM81_FEATURE;
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/feature_config.c:2763 */
+#define CONFIG_LOG_FILES_MAX_SIZE 16384
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/feature_config.c:2762 */
+#define CONFIG_LOG_FILES_MIN_SIZE 12288
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/config_host.c:1371 */
+#define cCONFIG_MIPS 1
+extern int vcCONFIG_MIPS;
+#define CONFIG_MIPS 1
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/feature_config.c:1175 */
+#define CONFIG_MIPS_PATENTFREE 1
+
+#define cCONFIG_RG_INSMOD_SILENT 0
+extern int vcCONFIG_RG_INSMOD_SILENT;
+
+#define cCONFIG_INCAIP 0
+extern int vcCONFIG_INCAIP;
+
+#define cCONFIG_INCAIP_KEYPAD_FEATURE 0
+extern int vcCONFIG_INCAIP_KEYPAD_FEATURE;
+
+#define cCONFIG_INCAIP_LEDMATRIX_FEATURE 0
+extern int vcCONFIG_INCAIP_LEDMATRIX_FEATURE;
+
+#define cCONFIG_INCAIP_DSP_FEATURE 0
+extern int vcCONFIG_INCAIP_DSP_FEATURE;
+
+#define cCONFIG_VINETIC_FEATURE 0
+extern int vcCONFIG_VINETIC_FEATURE;
+
+#define cCONFIG_INCAIP_IOM2_FEATURE 0
+extern int vcCONFIG_INCAIP_IOM2_FEATURE;
+
+#define cCONFIG_INCAIP_ETHERNET_FEATURE 0
+extern int vcCONFIG_INCAIP_ETHERNET_FEATURE;
+
+#define cCONFIG_INCAIP_PSEUDO_LAN_FEATURE 0
+extern int vcCONFIG_INCAIP_PSEUDO_LAN_FEATURE;
+
+#define cCONFIG_INCAIPSSC_FEATURE 0
+extern int vcCONFIG_INCAIPSSC_FEATURE;
+
+#define cCONFIG_INCAIPPWM_FEATURE 0
+extern int vcCONFIG_INCAIPPWM_FEATURE;
+
+#define cCONFIG_SERIAL_INCAIPASC_FEATURE 0
+extern int vcCONFIG_SERIAL_INCAIPASC_FEATURE;
+
+#define cCONFIG_MTD_INCAIP_FEATURE 0
+extern int vcCONFIG_MTD_INCAIP_FEATURE;
+
+#define cCONFIG_ZSP400_FEATURE 0
+extern int vcCONFIG_ZSP400_FEATURE;
+
+#define cCONFIG_INCAIP_SWITCH_FEATURE 0
+extern int vcCONFIG_INCAIP_SWITCH_FEATURE;
+
+#define cCONFIG_INCAIP_SWITCH_API_FEATURE 0
+extern int vcCONFIG_INCAIP_SWITCH_API_FEATURE;
+
+#define cCONFIG_MPC8272ADS 0
+extern int vcCONFIG_MPC8272ADS;
+
+#define cCONFIG_ADM5120_COMMON 0
+extern int vcCONFIG_ADM5120_COMMON;
+
+#define cCONFIG_ADM5120_MTD_FEATURE 0
+extern int vcCONFIG_ADM5120_MTD_FEATURE;
+
+#define cCONFIG_ADM5120_SWITCH_FEATURE 0
+extern int vcCONFIG_ADM5120_SWITCH_FEATURE;
+
+#define cCONFIG_ET_FEATURE 0
+extern int vcCONFIG_ET_FEATURE;
+
+#define cCONFIG_BCM947XX 0
+extern int vcCONFIG_BCM947XX;
+
+#define cCONFIG_BCM947_COMMON 0
+extern int vcCONFIG_BCM947_COMMON;
+
+#define cCONFIG_BCM963XX 0
+extern int vcCONFIG_BCM963XX;
+
+#define cCONFIG_BCM963XX_MTD_FEATURE 0
+extern int vcCONFIG_BCM963XX_MTD_FEATURE;
+
+#define cCONFIG_BCM963XX_SERIAL_FEATURE 0
+extern int vcCONFIG_BCM963XX_SERIAL_FEATURE;
+
+#define cCONFIG_BCM963XX_BOARD_FEATURE 0
+extern int vcCONFIG_BCM963XX_BOARD_FEATURE;
+
+#define cCONFIG_BCM963XX_ETH_FEATURE 0
+extern int vcCONFIG_BCM963XX_ETH_FEATURE;
+
+#define cCONFIG_BCM963XX_ATM_FEATURE 0
+extern int vcCONFIG_BCM963XX_ATM_FEATURE;
+
+#define cCONFIG_BCM963XX_ADSL_FEATURE 0
+extern int vcCONFIG_BCM963XX_ADSL_FEATURE;
+
+#define cCONFIG_BCM963XX_USB_FEATURE 0
+extern int vcCONFIG_BCM963XX_USB_FEATURE;
+
+#define cCONFIG_BCM963XX_WLAN_FEATURE 0
+extern int vcCONFIG_BCM963XX_WLAN_FEATURE;
+
+#define cCONFIG_BCM963XX_ENDPOINT_FEATURE 0
+extern int vcCONFIG_BCM963XX_ENDPOINT_FEATURE;
+
+#define cCONFIG_BCM963XX_PROCFS_FEATURE 0
+extern int vcCONFIG_BCM963XX_PROCFS_FEATURE;
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/feature_config.c:1097 */
+#define cCONFIG_CPU_LX4189 1
+extern int vcCONFIG_CPU_LX4189;
+#define CONFIG_CPU_LX4189 1
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/feature_config.c:1161 */
+#define cCONFIG_ADI_6843 1
+extern int vcCONFIG_ADI_6843;
+#define CONFIG_ADI_6843 1
+
+#define cCONFIG_ETH_NETPRO_SIERRA_FEATURE 0
+extern int vcCONFIG_ETH_NETPRO_SIERRA_FEATURE;
+
+#define cCONFIG_ADI_6843_USB_FEATURE 0
+extern int vcCONFIG_ADI_6843_USB_FEATURE;
+
+#define cCONFIG_ADI_6843_MTD_FEATURE 0
+extern int vcCONFIG_ADI_6843_MTD_FEATURE;
+
+#define cCONFIG_ADI_6843_UART2_FEATURE 0
+extern int vcCONFIG_ADI_6843_UART2_FEATURE;
+
+#define cCONFIG_DSPDRIVER_218X_FEATURE 0
+extern int vcCONFIG_DSPDRIVER_218X_FEATURE;
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/hw_config.c:1635 */
+#define CONFIG_MACH_ADI_FUSIV 1
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/hw_config.c:1886 */
+#define cCONFIG_FUSIV_LIBRARY 1
+extern int vcCONFIG_FUSIV_LIBRARY;
+#define CONFIG_FUSIV_LIBRARY 1
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/hw_config.c:1887 */
+#define cCONFIG_FUSIV_BMDRIVER 1
+extern int vcCONFIG_FUSIV_BMDRIVER;
+#define CONFIG_FUSIV_BMDRIVER 1
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/hw_config.c:1888 */
+#define cCONFIG_FUSIV_TIMERS 1
+extern int vcCONFIG_FUSIV_TIMERS;
+#define CONFIG_FUSIV_TIMERS 1
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/hw_config.c:1506 */
+#define cCONFIG_FUSIV_KERNEL_ETHERNET 1
+extern int vcCONFIG_FUSIV_KERNEL_ETHERNET;
+#define CONFIG_FUSIV_KERNEL_ETHERNET 1
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/hw_config.c:1637 */
+#define cCONFIG_FUSIV_KERNEL_ATM 1
+extern int vcCONFIG_FUSIV_KERNEL_ATM;
+#define CONFIG_FUSIV_KERNEL_ATM 1
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/hw_config.c:1851 */
+#define cCONFIG_FUSIV_KERNEL_UART2 1
+extern int vcCONFIG_FUSIV_KERNEL_UART2;
+#define CONFIG_FUSIV_KERNEL_UART2 1
+
+#define cCONFIG_FUSIV_VX200 0
+extern int vcCONFIG_FUSIV_VX200;
+
+#define cCONFIG_FUSIV_VX160 0
+extern int vcCONFIG_FUSIV_VX160;
+
+#define cCONFIG_FUSIV_AT300 0
+extern int vcCONFIG_FUSIV_AT300;
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/dist_config.c:3324 */
+#define cCONFIG_FUSIV_REUSE_SKBS 1
+extern int vcCONFIG_FUSIV_REUSE_SKBS;
+#define CONFIG_FUSIV_REUSE_SKBS 1
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/hw_config.c:1819 */
+#define cCONFIG_FUSIV_KERNEL_PERI_AP 1
+extern int vcCONFIG_FUSIV_KERNEL_PERI_AP;
+#define CONFIG_FUSIV_KERNEL_PERI_AP 1
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/hw_config.c:1484 */
+#define cNUM_PHYS 2
+extern int vcNUM_PHYS;
+#define NUM_PHYS 2
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/hw_config.c:1636 */
+#define cCONFIG_ARCH_AD6834_FAST3202 1
+extern int vcCONFIG_ARCH_AD6834_FAST3202;
+#define CONFIG_ARCH_AD6834_FAST3202 1
+
+#define cCONFIG_SW_80211G_AR500XX 0
+extern int vcCONFIG_SW_80211G_AR500XX;
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/sagem_on_the_fly_dist_config.c:15 */
+#define cCONFIG_SW_80211N_AR500XX 1
+extern int vcCONFIG_SW_80211N_AR500XX;
+#define CONFIG_SW_80211N_AR500XX 1
+
+#define cCONFIG_LIVEBOX1 0
+extern int vcCONFIG_LIVEBOX1;
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/dist_config.c:3227 */
+#define cCONFIG_LIVEBOX 1
+extern int vcCONFIG_LIVEBOX;
+#define CONFIG_LIVEBOX 1
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/hw_config.c:1725 */
+#define cCONFIG_LIVEBOX_SAGEM_SWITCH_FEATURE 1
+extern int vcCONFIG_LIVEBOX_SAGEM_SWITCH_FEATURE;
+#define CONFIG_LIVEBOX_SAGEM_SWITCH_FEATURE 1
+#define CONFIG_LIVEBOX_SAGEM_SWITCH_MODULE 1
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/sagem_on_the_fly_dist_config.c:108 */
+#define cCONFIG_LIVEBOX_TV 1
+extern int vcCONFIG_LIVEBOX_TV;
+#define CONFIG_LIVEBOX_TV 1
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/sagem_on_the_fly_dist_config.c:80 */
+#define cCONFIG_LIVEBOX_MULTICAST_ROUTING 1
+extern int vcCONFIG_LIVEBOX_MULTICAST_ROUTING;
+#define CONFIG_LIVEBOX_MULTICAST_ROUTING 1
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/sagem_on_the_fly_dist_config.c:81 */
+#define cCONFIG_LIVEBOX_MLTV_ROUTED 1
+extern int vcCONFIG_LIVEBOX_MLTV_ROUTED;
+#define CONFIG_LIVEBOX_MLTV_ROUTED 1
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/sagem_on_the_fly_dist_config.c:82 */
+#define CONFIG_LIVEBOX_MLTV_FTTH_ROUTED 1
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/sagem_on_the_fly_dist_config.c:74 */
+#define CONFIG_LIVEBOX_MLTV_ADSL_ROUTED 1
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/sagem_on_the_fly_dist_config.c:75 */
+#define CONFIG_LIVEBOX_MLTV_BRIDGED 1
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/sagem_on_the_fly_dist_config.c:76 */
+#define CONFIG_LIVEBOX_MLTV_ADSL_BRIDGED 1
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/sagem_on_the_fly_dist_config.c:78 */
+#define cCONFIG_SAGEM_MULTI_STB 1
+extern int vcCONFIG_SAGEM_MULTI_STB;
+#define CONFIG_SAGEM_MULTI_STB 1
+
+#define cCONFIG_SAGEM_FTTH_MULTI_STB 0
+extern int vcCONFIG_SAGEM_FTTH_MULTI_STB;
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/sagem_on_the_fly_dist_config.c:79 */
+#define cCONFIG_SAGEM_ADSL_MULTI_STB 1
+extern int vcCONFIG_SAGEM_ADSL_MULTI_STB;
+#define CONFIG_SAGEM_ADSL_MULTI_STB 1
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/sagem_on_the_fly_dist_config.c:83 */
+#define cCONFIG_FTTH_ROUTED_DEFAULT 1
+extern int vcCONFIG_FTTH_ROUTED_DEFAULT;
+#define CONFIG_FTTH_ROUTED_DEFAULT 1
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/sagem_on_the_fly_dist_config.c:77 */
+#define cCONFIG_ADSL_ROUTED_DEFAULT 1
+extern int vcCONFIG_ADSL_ROUTED_DEFAULT;
+#define CONFIG_ADSL_ROUTED_DEFAULT 1
+
+#define cCONFIG_LIVEBOX_VISIO 0
+extern int vcCONFIG_LIVEBOX_VISIO;
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/sagem_on_the_fly_dist_config.c:109 */
+#define cCONFIG_LIVEBOX_LIVEZOOM 1
+extern int vcCONFIG_LIVEBOX_LIVEZOOM;
+#define CONFIG_LIVEBOX_LIVEZOOM 1
+
+#define cCONFIG_LIVEBOX_PHOTOBLOG 0
+extern int vcCONFIG_LIVEBOX_PHOTOBLOG;
+
+#define cCONFIG_LIVEBOX_TRACEABILITY 0
+extern int vcCONFIG_LIVEBOX_TRACEABILITY;
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/dist_config.c:3248 */
+#define cCONFIG_LIVEBOX_VOIP 1
+extern int vcCONFIG_LIVEBOX_VOIP;
+#define CONFIG_LIVEBOX_VOIP 1
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/dist_config.c:3308 */
+#define cCONFIG_LIVEBOX_TELNET_LOGIN_FAILURE_DELAY 1
+extern int vcCONFIG_LIVEBOX_TELNET_LOGIN_FAILURE_DELAY;
+#define CONFIG_LIVEBOX_TELNET_LOGIN_FAILURE_DELAY 1
+
+#define cCONFIG_LIVEBOX_SERIAL_LOGIN_FAILURE_DELAY 0
+extern int vcCONFIG_LIVEBOX_SERIAL_LOGIN_FAILURE_DELAY;
+
+#define cCONFIG_LIVEBOX_PAIRING 0
+extern int vcCONFIG_LIVEBOX_PAIRING;
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/feature_config.c:2876 */
+#define CONFIG_LBV2_PAIRING 1
+
+#define cCONFIG_LIVEBOX_MIGRATION 0
+extern int vcCONFIG_LIVEBOX_MIGRATION;
+
+#define cCONFIG_LIVEBOX_LIB_MIGRATION 0
+extern int vcCONFIG_LIVEBOX_LIB_MIGRATION;
+
+#define cCONFIG_LIVEBOX_MRA_WBM 0
+extern int vcCONFIG_LIVEBOX_MRA_WBM;
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/dist_config.c:3281 */
+#define cCONFIG_RG_PERMST_ACCESS 1
+extern int vcCONFIG_RG_PERMST_ACCESS;
+#define CONFIG_RG_PERMST_ACCESS 1
+
+#define cCONFIG_LIVEBOX_WIFIC_NTFY 0
+extern int vcCONFIG_LIVEBOX_WIFIC_NTFY;
+
+#define cCONFIG_LIVEBOX_VER_MRA_FR 0
+extern int vcCONFIG_LIVEBOX_VER_MRA_FR;
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/sagem_on_the_fly_dist_config.c:111 */
+#define cCONFIG_LIVEBOX_VER_APP2_FR 1
+extern int vcCONFIG_LIVEBOX_VER_APP2_FR;
+#define CONFIG_LIVEBOX_VER_APP2_FR 1
+
+#define cCONFIG_LIVEBOX_VER_MRA_OCH 0
+extern int vcCONFIG_LIVEBOX_VER_MRA_OCH;
+
+#define cCONFIG_LIVEBOX_VER_APP2_OCH 0
+extern int vcCONFIG_LIVEBOX_VER_APP2_OCH;
+
+#define cCONFIG_LIVEBOX_VER_APP2_OCH_V2 0
+extern int vcCONFIG_LIVEBOX_VER_APP2_OCH_V2;
+
+#define cCONFIG_LIVEBOX_VER_MRA_NL 0
+extern int vcCONFIG_LIVEBOX_VER_MRA_NL;
+
+#define cCONFIG_LIVEBOX_VER_APP2_NL 0
+extern int vcCONFIG_LIVEBOX_VER_APP2_NL;
+
+#define cCONFIG_LIVEBOX_VER_MRA_POL 0
+extern int vcCONFIG_LIVEBOX_VER_MRA_POL;
+
+#define cCONFIG_LIVEBOX_VER_APP2_POL 0
+extern int vcCONFIG_LIVEBOX_VER_APP2_POL;
+
+#define cCONFIG_LIVEBOX_VER_MRA_SP 0
+extern int vcCONFIG_LIVEBOX_VER_MRA_SP;
+
+#define cCONFIG_LIVEBOX_VER_APP2_SP 0
+extern int vcCONFIG_LIVEBOX_VER_APP2_SP;
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/sagem_on_the_fly_dist_config.c:47 */
+#define cCONFIG_LIVEBOX_MEDIA_SERVER 1
+extern int vcCONFIG_LIVEBOX_MEDIA_SERVER;
+#define CONFIG_LIVEBOX_MEDIA_SERVER 1
+
+#define cCONFIG_LIVEBOX_MEDIA_SERVER_VIP 0
+extern int vcCONFIG_LIVEBOX_MEDIA_SERVER_VIP;
+
+#define cCONFIG_LIVEBOX_TWONKY_WBM 0
+extern int vcCONFIG_LIVEBOX_TWONKY_WBM;
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/dist_config.c:3127 */
+#define cCONFIG_LIVEBOX_ORANGE_TV_DHCP 1
+extern int vcCONFIG_LIVEBOX_ORANGE_TV_DHCP;
+#define CONFIG_LIVEBOX_ORANGE_TV_DHCP 1
+
+#define cCONFIG_KS8695_FLASH_AM29LV033C_FEATURE 0
+extern int vcCONFIG_KS8695_FLASH_AM29LV033C_FEATURE;
+
+#define cCONFIG_KSFLASH_FEATURE 0
+extern int vcCONFIG_KSFLASH_FEATURE;
+
+#define cCONFIG_CX8620X_COMMON 0
+extern int vcCONFIG_CX8620X_COMMON;
+
+#define cCONFIG_CX8620X_FLASH_TE28F160C3_FEATURE 0
+extern int vcCONFIG_CX8620X_FLASH_TE28F160C3_FEATURE;
+
+#define cCONFIG_CX8620X_FLASH_TE28F320C3_FEATURE 0
+extern int vcCONFIG_CX8620X_FLASH_TE28F320C3_FEATURE;
+
+#define cCONFIG_CX8620X_FLASH_TE28F640C3_FEATURE 0
+extern int vcCONFIG_CX8620X_FLASH_TE28F640C3_FEATURE;
+
+#define cCONFIG_CX8620X_SWITCH_FEATURE 0
+extern int vcCONFIG_CX8620X_SWITCH_FEATURE;
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/feature_config.c:2849 */
+#define cCONFIG_HOTPLUG 1
+extern int vcCONFIG_HOTPLUG;
+#define CONFIG_HOTPLUG 1
+
+#define cCONFIG_MTD_BCM947XX_FEATURE 0
+extern int vcCONFIG_MTD_BCM947XX_FEATURE;
+
+#define cCONFIG_MTD_XG1000_FEATURE 0
+extern int vcCONFIG_MTD_XG1000_FEATURE;
+
+#define cCONFIG_IL_FEATURE 0
+extern int vcCONFIG_IL_FEATURE;
+
+#define cCONFIG_IL_47XX_FEATURE 0
+extern int vcCONFIG_IL_47XX_FEATURE;
+
+#define cCONFIG_WL_FEATURE 0
+extern int vcCONFIG_WL_FEATURE;
+
+#define cCONFIG_HERMES_FEATURE 0
+extern int vcCONFIG_HERMES_FEATURE;
+
+#define cCONFIG_PCMCIA_HERMES_FEATURE 0
+extern int vcCONFIG_PCMCIA_HERMES_FEATURE;
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/config_target_os.c:81 */
+#define CONFIG_RAMFS 1
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/config_target_os.c:99 */
+#define CONFIG_MODULES 1
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/config_target_os.c:88 */
+#define cCONFIG_SYSFS 1
+extern int vcCONFIG_SYSFS;
+#define CONFIG_SYSFS 1
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/feature_config.c:1119 */
+#define CONFIG_MTD 1
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/feature_config.c:2251 */
+#define CONFIG_MTD_BLOCK 1
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/feature_config.c:2252 */
+#define CONFIG_MTD_CFI 1
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/feature_config.c:2253 */
+#define CONFIG_MTD_GEN_PROBE 1
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/feature_config.c:2250 */
+#define CONFIG_MTD_PARTITIONS 1
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/feature_config.c:1124 */
+#define CONFIG_MTD_MAP_BANK_WIDTH_1 1
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/feature_config.c:1125 */
+#define CONFIG_MTD_MAP_BANK_WIDTH_2 1
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/feature_config.c:1126 */
+#define CONFIG_MTD_MAP_BANK_WIDTH_4 1
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/feature_config.c:1127 */
+#define CONFIG_MTD_CFI_I1 1
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/feature_config.c:1128 */
+#define CONFIG_MTD_CFI_I2 1
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/feature_config.c:1120 */
+#define CONFIG_MTD_CFI_AMDSTD 1
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/feature_config.c:1129 */
+#define CONFIG_MTD_CFI_UTIL 1
+
+#define cCONFIG_NATSEMI_FEATURE 0
+extern int vcCONFIG_NATSEMI_FEATURE;
+
+#define cCONFIG_NE2000_FEATURE 0
+extern int vcCONFIG_NE2000_FEATURE;
+
+#define cCONFIG_NE2K_PCI_FEATURE 0
+extern int vcCONFIG_NE2K_PCI_FEATURE;
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/config_target_os.c:105 */
+#define CONFIG_NET 1
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/config_target_os.c:106 */
+#define CONFIG_NETDEVICES 1
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/config_target_os.c:113 */
+#define CONFIG_NET_ETHERNET 1
+
+#define cCONFIG_NETLINK_DEV_FEATURE 0
+extern int vcCONFIG_NETLINK_DEV_FEATURE;
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/hw_config.c:132 */
+#define CONFIG_NET_RADIO 1
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/hw_config.c:133 */
+#define cCONFIG_NET_WIRELESS 1
+extern int vcCONFIG_NET_WIRELESS;
+#define CONFIG_NET_WIRELESS 1
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/feature_config.c:284 */
+#define CONFIG_OPENRG 1
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/config_target_os.c:107 */
+#define CONFIG_PACKET 1
+
+#define cCONFIG_PCF8594C2_FEATURE 0
+extern int vcCONFIG_PCF8594C2_FEATURE;
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/feature_config.c:1155 */
+#define CONFIG_PCI 1
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/feature_config.c:1156 */
+#define CONFIG_PCI_AUTO 1
+
+#define cCONFIG_PCMCIA_DEVELOPMENT 0
+extern int vcCONFIG_PCMCIA_DEVELOPMENT;
+
+#define cCONFIG_PCNET32_FEATURE 0
+extern int vcCONFIG_PCNET32_FEATURE;
+
+#define cCONFIG_RG_PPTPS 0
+extern int vcCONFIG_RG_PPTPS;
+
+#define cCONFIG_PPC 0
+extern int vcCONFIG_PPC;
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/feature_config.c:384 */
+#define cCONFIG_RG_PPP 1
+extern int vcCONFIG_RG_PPP;
+#define cCONFIG_RG_PPP_FEATURE 1
+extern int vcCONFIG_RG_PPP_FEATURE;
+#define CONFIG_RG_PPP_FEATURE 1
+#define CONFIG_RG_PPP_MODULE 1
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/feature_config.c:390 */
+#define cCONFIG_RG_PPP_BSDCOMP 1
+extern int vcCONFIG_RG_PPP_BSDCOMP;
+#define CONFIG_RG_PPP_BSDCOMP 1
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/feature_config.c:389 */
+#define cCONFIG_RG_PPP_DEFLATE 1
+extern int vcCONFIG_RG_PPP_DEFLATE;
+#define CONFIG_RG_PPP_DEFLATE 1
+
+#define cCONFIG_RG_PPP_ON_DEMAND_AS_DEFAULT 0
+extern int vcCONFIG_RG_PPP_ON_DEMAND_AS_DEFAULT;
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/feature_config.c:396 */
+#define cCONFIG_RG_PPP_ON_DEMAND_DEFAULT_MAX_IDLE_TIME 1200
+extern int vcCONFIG_RG_PPP_ON_DEMAND_DEFAULT_MAX_IDLE_TIME;
+#define CONFIG_RG_PPP_ON_DEMAND_DEFAULT_MAX_IDLE_TIME 1200
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/feature_config.c:405 */
+#define cCONFIG_RG_PPP_DEFAULT_BSD_COMPRESSION 1
+extern int vcCONFIG_RG_PPP_DEFAULT_BSD_COMPRESSION;
+#define CONFIG_RG_PPP_DEFAULT_BSD_COMPRESSION 1
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/feature_config.c:414 */
+#define cCONFIG_RG_PPP_DEFAULT_DEFLATE_COMPRESSION 1
+extern int vcCONFIG_RG_PPP_DEFAULT_DEFLATE_COMPRESSION;
+#define CONFIG_RG_PPP_DEFAULT_DEFLATE_COMPRESSION 1
+
+#define cCONFIG_RG_PPP_MPPE 0
+extern int vcCONFIG_RG_PPP_MPPE;
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/feature_config.c:432 */
+#define cCONFIG_RG_PPPOA_FEATURE 1
+extern int vcCONFIG_RG_PPPOA_FEATURE;
+#define CONFIG_RG_PPPOA_FEATURE 1
+#define CONFIG_RG_PPPOA_MODULE 1
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/feature_config.c:385 */
+#define cCONFIG_RG_PPPOE 1
+extern int vcCONFIG_RG_PPPOE;
+#define CONFIG_RG_PPPOE 1
+
+#define cCONFIG_RG_PPPOES 0
+extern int vcCONFIG_RG_PPPOES;
+
+#define cCONFIG_RG_PPPOS_CLI 0
+extern int vcCONFIG_RG_PPPOS_CLI;
+
+#define cCONFIG_RG_HSS 0
+extern int vcCONFIG_RG_HSS;
+
+#define cCONFIG_RG_IPV6 0
+extern int vcCONFIG_RG_IPV6;
+
+#define cCONFIG_RG_PPTP 0
+extern int vcCONFIG_RG_PPTP;
+
+#define cCONFIG_RG_PPTPC 0
+extern int vcCONFIG_RG_PPTPC;
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/dist_config.c:3219 */
+#define cCONFIG_RG_L2TPC 1
+extern int vcCONFIG_RG_L2TPC;
+#define CONFIG_RG_L2TPC 1
+
+#define cCONFIG_PRISM2_PCI_FEATURE 0
+extern int vcCONFIG_PRISM2_PCI_FEATURE;
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/config_target_os.c:84 */
+#define CONFIG_PROC_FS 1
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/feature_config.c:1232 */
+#define CONFIG_IKCONFIG 1
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/feature_config.c:1233 */
+#define CONFIG_IKCONFIG_PROC 1
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/feature_config.c:229 */
+#define CONFIG_RG_ALG 1
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/feature_config.c:238 */
+#define CONFIG_RG_ALG_ICMP 1
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/feature_config.c:239 */
+#define cCONFIG_RG_ALG_PORT_TRIGGER 1
+extern int vcCONFIG_RG_ALG_PORT_TRIGGER;
+#define CONFIG_RG_ALG_PORT_TRIGGER 1
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/feature_config.c:240 */
+#define cCONFIG_RG_ALG_FTP 1
+extern int vcCONFIG_RG_ALG_FTP;
+#define CONFIG_RG_ALG_FTP 1
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/feature_config.c:241 */
+#define cCONFIG_RG_ALG_RTSP 1
+extern int vcCONFIG_RG_ALG_RTSP;
+#define CONFIG_RG_ALG_RTSP 1
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/feature_config.c:232 */
+#define cCONFIG_RG_ALG_H323 1
+extern int vcCONFIG_RG_ALG_H323;
+#define CONFIG_RG_ALG_H323 1
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/feature_config.c:2392 */
+#define cCONFIG_RG_ALG_SIP 1
+extern int vcCONFIG_RG_ALG_SIP;
+#define CONFIG_RG_ALG_SIP 1
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/feature_config.c:231 */
+#define cCONFIG_RG_ALG_MGCP 1
+extern int vcCONFIG_RG_ALG_MGCP;
+#define CONFIG_RG_ALG_MGCP 1
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/feature_config.c:235 */
+#define cCONFIG_RG_ALG_PPTP 1
+extern int vcCONFIG_RG_ALG_PPTP;
+#define CONFIG_RG_ALG_PPTP 1
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/feature_config.c:234 */
+#define cCONFIG_RG_ALG_MSNMS 1
+extern int vcCONFIG_RG_ALG_MSNMS;
+#define CONFIG_RG_ALG_MSNMS 1
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/feature_config.c:236 */
+#define cCONFIG_RG_ALG_IPSEC 1
+extern int vcCONFIG_RG_ALG_IPSEC;
+#define CONFIG_RG_ALG_IPSEC 1
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/feature_config.c:237 */
+#define cCONFIG_RG_ALG_L2TP 1
+extern int vcCONFIG_RG_ALG_L2TP;
+#define CONFIG_RG_ALG_L2TP 1
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/feature_config.c:233 */
+#define cCONFIG_RG_ALG_AIM 1
+extern int vcCONFIG_RG_ALG_AIM;
+#define CONFIG_RG_ALG_AIM 1
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/feature_config.c:277 */
+#define cCONFIG_RG_ALG_DNS 1
+extern int vcCONFIG_RG_ALG_DNS;
+#define CONFIG_RG_ALG_DNS 1
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/feature_config.c:278 */
+#define cCONFIG_RG_ALG_DHCP 1
+extern int vcCONFIG_RG_ALG_DHCP;
+#define CONFIG_RG_ALG_DHCP 1
+
+#define cCONFIG_RG_ALG_USERSPACE 0
+extern int vcCONFIG_RG_ALG_USERSPACE;
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/feature_config.c:242 */
+#define cCONFIG_SAGEM_ALG_SNMP 1
+extern int vcCONFIG_SAGEM_ALG_SNMP;
+#define CONFIG_SAGEM_ALG_SNMP 1
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/dist_config.c:3284 */
+#define cCONFIG_RG_ADI_FASTPATH_BRIDGE 1
+extern int vcCONFIG_RG_ADI_FASTPATH_BRIDGE;
+#define cCONFIG_RG_ADI_FASTPATH_BRIDGE_FEATURE 1
+extern int vcCONFIG_RG_ADI_FASTPATH_BRIDGE_FEATURE;
+#define CONFIG_RG_ADI_FASTPATH_BRIDGE_FEATURE 1
+#define CONFIG_RG_ADI_FASTPATH_BRIDGE_MODULE 1
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/feature_config.c:223 */
+#define cCONFIG_RG_BRIDGE 1
+extern int vcCONFIG_RG_BRIDGE;
+#define cCONFIG_RG_BRIDGE_FEATURE 1
+extern int vcCONFIG_RG_BRIDGE_FEATURE;
+#define CONFIG_RG_BRIDGE_FEATURE 1
+#define CONFIG_RG_BRIDGE_MODULE 1
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/feature_config.c:442 */
+#define cCONFIG_RG_VLAN_BRIDGE 1
+extern int vcCONFIG_RG_VLAN_BRIDGE;
+#define CONFIG_RG_VLAN_BRIDGE 1
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/feature_config.c:444 */
+#define cCONFIG_RG_8021Q_IF 1
+extern int vcCONFIG_RG_8021Q_IF;
+#define CONFIG_RG_8021Q_IF 1
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/dist_config.c:3287 */
+#define cCONFIG_RG_FASTPATH 1
+extern int vcCONFIG_RG_FASTPATH;
+#define cCONFIG_RG_FASTPATH_FEATURE 1
+extern int vcCONFIG_RG_FASTPATH_FEATURE;
+#define CONFIG_RG_FASTPATH_FEATURE 1
+#define CONFIG_RG_FASTPATH_MODULE 1
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/dist_config.c:3289 */
+#define CONFIG_RG_FASTPATH_PLAT_PATH vendor/adi/ad6843/rg_modules
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/dist_config.c:3290 */
+#define cCONFIG_RG_FASTPATH_PLAT_AD6834 1
+extern int vcCONFIG_RG_FASTPATH_PLAT_AD6834;
+#define CONFIG_RG_FASTPATH_PLAT_AD6834 1
+
+#define cCONFIG_RG_CABLEHOME 0
+extern int vcCONFIG_RG_CABLEHOME;
+
+#define cCONFIG_RG_CABLEHOME_10 0
+extern int vcCONFIG_RG_CABLEHOME_10;
+
+#define cCONFIG_RG_CABLEHOME_11 0
+extern int vcCONFIG_RG_CABLEHOME_11;
+
+#define cCONFIG_RG_CABLEHOME_EMBEDDED 0
+extern int vcCONFIG_RG_CABLEHOME_EMBEDDED;
+
+#define cCONFIG_RG_CABLEHOME_FULL_WBM 0
+extern int vcCONFIG_RG_CABLEHOME_FULL_WBM;
+
+#define cCONFIG_RG_DSL_CH 0
+extern int vcCONFIG_RG_DSL_CH;
+
+#define cCONFIG_RG_CH_FW 0
+extern int vcCONFIG_RG_CH_FW;
+
+#define cCONFIG_RG_CH_EVT_RPT 0
+extern int vcCONFIG_RG_CH_EVT_RPT;
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/feature_config.c:331 */
+#define CONFIG_RG_CHRDEV 1
+
+#define cCONFIG_RG_CHWAN_FEATURE 0
+extern int vcCONFIG_RG_CHWAN_FEATURE;
+
+#define cCONFIG_RG_USFS_FEATURE 0
+extern int vcCONFIG_RG_USFS_FEATURE;
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/dist_config.c:3210 */
+#define cCONFIG_RG_PPPOE_RELAY 1
+extern int vcCONFIG_RG_PPPOE_RELAY;
+#define cCONFIG_RG_PPPOE_RELAY_FEATURE 1
+extern int vcCONFIG_RG_PPPOE_RELAY_FEATURE;
+#define CONFIG_RG_PPPOE_RELAY_FEATURE 1
+#define CONFIG_RG_PPPOE_RELAY_MODULE 1
+
+#define cCONFIG_RG_BROUTE_FEATURE 0
+extern int vcCONFIG_RG_BROUTE_FEATURE;
+
+#define cCONFIG_RG_ELVIS 0
+extern int vcCONFIG_RG_ELVIS;
+
+#define cCONFIG_RG_DSLHOME 0
+extern int vcCONFIG_RG_DSLHOME;
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/feature_config.c:174 */
+#define cCONFIG_RG_FIREWALL 1
+extern int vcCONFIG_RG_FIREWALL;
+#define CONFIG_RG_FIREWALL 1
+
+#define cCONFIG_RG_FW_ICSA 0
+extern int vcCONFIG_RG_FW_ICSA;
+
+#define cCONFIG_RG_GDBSERVER 0
+extern int vcCONFIG_RG_GDBSERVER;
+
+#define cCONFIG_RG_ADV_SERVICES 0
+extern int vcCONFIG_RG_ADV_SERVICES;
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/feature_config.c:1145 */
+#define CONFIG_RG_IGD 1
+
+#define cCONFIG_RG_IGD_XBOX 0
+extern int vcCONFIG_RG_IGD_XBOX;
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/sagem_on_the_fly_dist_config.c:115 */
+#define cCONFIG_RG_IGMP_PROXY 1
+extern int vcCONFIG_RG_IGMP_PROXY;
+#define cCONFIG_RG_IGMP_PROXY_FEATURE 1
+extern int vcCONFIG_RG_IGMP_PROXY_FEATURE;
+#define CONFIG_RG_IGMP_PROXY_FEATURE 1
+#define CONFIG_RG_IGMP_PROXY_MODULE 1
+
+#define cCONFIG_RG_MCAST_RELAY 0
+extern int vcCONFIG_RG_MCAST_RELAY;
+#define cCONFIG_RG_MCAST_RELAY_FEATURE 0
+extern int vcCONFIG_RG_MCAST_RELAY_FEATURE;
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/feature_config.c:2413 */
+#define cCONFIG_RG_JFW_FEATURE 1
+extern int vcCONFIG_RG_JFW_FEATURE;
+#define CONFIG_RG_JFW_FEATURE 1
+#define CONFIG_RG_JFW_MODULE 1
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/feature_config.c:248 */
+#define cCONFIG_RG_MSS 1
+extern int vcCONFIG_RG_MSS;
+#define cCONFIG_RG_MSS_FEATURE 1
+extern int vcCONFIG_RG_MSS_FEATURE;
+#define CONFIG_RG_MSS_FEATURE 1
+#define CONFIG_RG_MSS_MODULE 1
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/feature_config.c:245 */
+#define cCONFIG_RG_FUWR 1
+extern int vcCONFIG_RG_FUWR;
+#define cCONFIG_RG_FUWR_FEATURE 1
+extern int vcCONFIG_RG_FUWR_FEATURE;
+#define CONFIG_RG_FUWR_FEATURE 1
+#define CONFIG_RG_FUWR_MODULE 1
+
+#define cCONFIG_RG_LAN_UPGRADE 0
+extern int vcCONFIG_RG_LAN_UPGRADE;
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/config_target_os.c:65 */
+#define CONFIG_RG_OS_LINUX 1
+
+#define cCONFIG_RG_OS_VXWORKS 0
+extern int vcCONFIG_RG_OS_VXWORKS;
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/feature_config.c:226 */
+#define cCONFIG_RG_NAT 1
+extern int vcCONFIG_RG_NAT;
+#define CONFIG_RG_NAT 1
+
+#define cCONFIG_RG_NETKIT 0
+extern int vcCONFIG_RG_NETKIT;
+
+#define cCONFIG_RG_NETTOOLS_ARP 0
+extern int vcCONFIG_RG_NETTOOLS_ARP;
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/feature_config.c:2356 */
+#define CONFIG_RG_OPENSSL 1
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/feature_config.c:2359 */
+#define cCONFIG_RG_CRYPTO 1
+extern int vcCONFIG_RG_CRYPTO;
+#define CONFIG_RG_CRYPTO 1
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/feature_config.c:361 */
+#define cCONFIG_RG_SSL 1
+extern int vcCONFIG_RG_SSL;
+#define CONFIG_RG_SSL 1
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/feature_config.c:2943 */
+#define cCONFIG_RG_PERM_STORAGE 1
+extern int vcCONFIG_RG_PERM_STORAGE;
+#define CONFIG_RG_PERM_STORAGE 1
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/dist_config.c:3241 */
+#define cCONFIG_RG_PERM_STORAGE_VENDOR_HEADER 1
+extern int vcCONFIG_RG_PERM_STORAGE_VENDOR_HEADER;
+#define CONFIG_RG_PERM_STORAGE_VENDOR_HEADER 1
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/feature_config.c:294 */
+#define cCONFIG_RG_KOS 1
+extern int vcCONFIG_RG_KOS;
+#define cCONFIG_RG_KOS_FEATURE 1
+extern int vcCONFIG_RG_KOS_FEATURE;
+#define CONFIG_RG_KOS_FEATURE 1
+#define CONFIG_RG_KOS_MODULE 1
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/feature_config.c:418 */
+#define cCONFIG_RG_KOS_KNET 1
+extern int vcCONFIG_RG_KOS_KNET;
+#define CONFIG_RG_KOS_KNET 1
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/config_target_os.c:89 */
+#define cCONFIG_RG_IPV4_FEATURE 1
+extern int vcCONFIG_RG_IPV4_FEATURE;
+#define CONFIG_RG_IPV4_FEATURE 1
+#define CONFIG_RG_IPV4_MODULE 1
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/feature_config.c:161 */
+#define cCONFIG_RG_RIP 1
+extern int vcCONFIG_RG_RIP;
+#define CONFIG_RG_RIP 1
+
+#define cCONFIG_RG_RMT_UPDATE 0
+extern int vcCONFIG_RG_RMT_UPDATE;
+
+#define cCONFIG_RG_RMT_UPGRADE_IMG_IN_MEM 0
+extern int vcCONFIG_RG_RMT_UPGRADE_IMG_IN_MEM;
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/feature_config.c:173 */
+#define cCONFIG_RG_RNAT 1
+extern int vcCONFIG_RG_RNAT;
+#define CONFIG_RG_RNAT 1
+
+#define cCONFIG_BIDIR_NAT 0
+extern int vcCONFIG_BIDIR_NAT;
+
+#define cCONFIG_RG_RNDIS_FEATURE 0
+extern int vcCONFIG_RG_RNDIS_FEATURE;
+
+#define cCONFIG_RG_STANDALONE_PS 0
+extern int vcCONFIG_RG_STANDALONE_PS;
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/feature_config.c:326 */
+#define CONFIG_RG_SYSINIT 1
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/feature_config.c:2769 */
+#define cCONFIG_RG_SYSLOG_REMOTE 1
+extern int vcCONFIG_RG_SYSLOG_REMOTE;
+#define CONFIG_RG_SYSLOG_REMOTE 1
+
+#define cCONFIG_RG_TFTP_SERVER 0
+extern int vcCONFIG_RG_TFTP_SERVER;
+
+#define cCONFIG_RG_TFTP_SERVER_PASSWORD 0
+extern int vcCONFIG_RG_TFTP_SERVER_PASSWORD;
+
+#define cCONFIG_RG_TFTP_UPGRADE 0
+extern int vcCONFIG_RG_TFTP_UPGRADE;
+
+#define cCONFIG_RG_UCD_SNMP 0
+extern int vcCONFIG_RG_UCD_SNMP;
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/feature_config.c:1144 */
+#define cCONFIG_RG_UPNP 1
+extern int vcCONFIG_RG_UPNP;
+#define CONFIG_RG_UPNP 1
+
+#define cCONFIG_RG_USB_SLAVE 0
+extern int vcCONFIG_RG_USB_SLAVE;
+#define cCONFIG_RG_USB_SLAVE_FEATURE 0
+extern int vcCONFIG_RG_USB_SLAVE_FEATURE;
+
+#define cCONFIG_RG_WAN_UPGRADE 0
+extern int vcCONFIG_RG_WAN_UPGRADE;
+
+#define cCONFIG_RG_WLAN_AUTO_CHANNEL_SELECT 0
+extern int vcCONFIG_RG_WLAN_AUTO_CHANNEL_SELECT;
+
+#define cCONFIG_RG_RMT_UPD_LOW_MEM 0
+extern int vcCONFIG_RG_RMT_UPD_LOW_MEM;
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/feature_config.c:305 */
+#define cCONFIG_RG_DNS 1
+extern int vcCONFIG_RG_DNS;
+#define CONFIG_RG_DNS 1
+
+#define cCONFIG_RG_DNS_CONCURRENT 0
+extern int vcCONFIG_RG_DNS_CONCURRENT;
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/feature_config.c:163 */
+#define cCONFIG_DNS_OVERRIDE 1
+extern int vcCONFIG_DNS_OVERRIDE;
+#define CONFIG_DNS_OVERRIDE 1
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/feature_config.c:169 */
+#define cCONFIG_RG_DNS_ROUTE 1
+extern int vcCONFIG_RG_DNS_ROUTE;
+#define CONFIG_RG_DNS_ROUTE 1
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/feature_config.c:165 */
+#define cCONFIG_RG_DNS_DOMAIN_ROUTING 1
+extern int vcCONFIG_RG_DNS_DOMAIN_ROUTING;
+#define CONFIG_RG_DNS_DOMAIN_ROUTING 1
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/feature_config.c:312 */
+#define cCONFIG_RG_DDNS 1
+extern int vcCONFIG_RG_DDNS;
+#define CONFIG_RG_DDNS 1
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/feature_config.c:364 */
+#define cCONFIG_RG_ENTFY 1
+extern int vcCONFIG_RG_ENTFY;
+#define CONFIG_RG_ENTFY 1
+
+#define cCONFIG_RG_HTTP_PROXY 0
+extern int vcCONFIG_RG_HTTP_PROXY;
+
+#define cCONFIG_RG_MAIL_FILTER 0
+extern int vcCONFIG_RG_MAIL_FILTER;
+
+#define cCONFIG_RG_URL_KEYWORD_FILTER 0
+extern int vcCONFIG_RG_URL_KEYWORD_FILTER;
+
+#define cCONFIG_RG_SURFCONTROL 0
+extern int vcCONFIG_RG_SURFCONTROL;
+
+#define cCONFIG_RG_8021X 0
+extern int vcCONFIG_RG_8021X;
+
+#define cCONFIG_RG_8021X_MD5 0
+extern int vcCONFIG_RG_8021X_MD5;
+
+#define cCONFIG_RG_8021X_TTLS 0
+extern int vcCONFIG_RG_8021X_TTLS;
+
+#define cCONFIG_RG_8021X_PKTFIL_FEATURE 0
+extern int vcCONFIG_RG_8021X_PKTFIL_FEATURE;
+
+#define cCONFIG_RG_8021X_TLS 0
+extern int vcCONFIG_RG_8021X_TLS;
+
+#define cCONFIG_RG_8021X_RADIUS 0
+extern int vcCONFIG_RG_8021X_RADIUS;
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/hw_config.c:139 */
+#define cCONFIG_RG_8021X_WBM 1
+extern int vcCONFIG_RG_8021X_WBM;
+#define CONFIG_RG_8021X_WBM 1
+
+#define cCONFIG_RG_RADIUS 0
+extern int vcCONFIG_RG_RADIUS;
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/hw_config.c:136 */
+#define CONFIG_RG_VENDOR_WLAN_SEC 1
+
+#define cCONFIG_RG_RADIUS_WBM 0
+extern int vcCONFIG_RG_RADIUS_WBM;
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/feature_config.c:2990 */
+#define cCONFIG_RG_AUTH 1
+extern int vcCONFIG_RG_AUTH;
+#define CONFIG_RG_AUTH 1
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/feature_config.c:193 */
+#define CONFIG_RG_SSID_NAME "openrg"
+
+#define cCONFIG_RG_RADIUS_IN_CONN 0
+extern int vcCONFIG_RG_RADIUS_IN_CONN;
+
+#define cCONFIG_RG_RADIUS_LOGIN_AUTH 0
+extern int vcCONFIG_RG_RADIUS_LOGIN_AUTH;
+
+#define cCONFIG_RG_WPA 0
+extern int vcCONFIG_RG_WPA;
+
+#define cCONFIG_RG_WPA_BCM 0
+extern int vcCONFIG_RG_WPA_BCM;
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/hw_config.c:138 */
+#define cCONFIG_SAGEM_WPA 1
+extern int vcCONFIG_SAGEM_WPA;
+#define CONFIG_SAGEM_WPA 1
+
+#define cCONFIG_SAGEM_WPA_RALINK 0
+extern int vcCONFIG_SAGEM_WPA_RALINK;
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/hw_config.c:137 */
+#define cCONFIG_RG_WPA_WBM 1
+extern int vcCONFIG_RG_WPA_WBM;
+#define CONFIG_RG_WPA_WBM 1
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/feature_config.c:213 */
+#define cCONFIG_RG_DHCPS 1
+extern int vcCONFIG_RG_DHCPS;
+#define CONFIG_RG_DHCPS 1
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/feature_config.c:315 */
+#define cCONFIG_RG_DHCPC 1
+extern int vcCONFIG_RG_DHCPC;
+#define CONFIG_RG_DHCPC 1
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/feature_config.c:217 */
+#define cCONFIG_RG_DHCPR 1
+extern int vcCONFIG_RG_DHCPR;
+#define CONFIG_RG_DHCPR 1
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/feature_config.c:2320 */
+#define cCONFIG_RG_DHCP_PKTFIL_FEATURE 1
+extern int vcCONFIG_RG_DHCP_PKTFIL_FEATURE;
+#define CONFIG_RG_DHCP_PKTFIL_FEATURE 1
+#define CONFIG_RG_DHCP_PKTFIL_MODULE 1
+
+#define cCONFIG_RG_PKTCBL_FEATURE 0
+extern int vcCONFIG_RG_PKTCBL_FEATURE;
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/feature_config.c:1409 */
+#define cCONFIG_RG_SSI 1
+extern int vcCONFIG_RG_SSI;
+#define CONFIG_RG_SSI 1
+
+#define cCONFIG_RG_SSI_PAGES 0
+extern int vcCONFIG_RG_SSI_PAGES;
+
+#define cCONFIG_RG_WBM 0
+extern int vcCONFIG_RG_WBM;
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/sagem_on_the_fly_dist_config.c:103 */
+#define cCONFIG_RG_GUI 1
+extern int vcCONFIG_RG_GUI;
+#define CONFIG_RG_GUI 1
+
+#define cCONFIG_RG_TCPDUMP 0
+extern int vcCONFIG_RG_TCPDUMP;
+
+#define cCONFIG_FREESWAN_COMMON 0
+extern int vcCONFIG_FREESWAN_COMMON;
+
+#define cCONFIG_RG_ACL 0
+extern int vcCONFIG_RG_ACL;
+
+#define cCONFIG_RG_ATTR 0
+extern int vcCONFIG_RG_ATTR;
+
+#define cCONFIG_RG_BACKUP 0
+extern int vcCONFIG_RG_BACKUP;
+
+#define cCONFIG_RG_BOOTLDR 0
+extern int vcCONFIG_RG_BOOTLDR;
+
+#define cCONFIG_RG_CABLEHOME_COMMON 0
+extern int vcCONFIG_RG_CABLEHOME_COMMON;
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/feature_config.c:3014 */
+#define cCONFIG_RG_DHCP_COMMON 1
+extern int vcCONFIG_RG_DHCP_COMMON;
+#define CONFIG_RG_DHCP_COMMON 1
+
+#define cCONFIG_RG_SAMPLES_COMMON 0
+extern int vcCONFIG_RG_SAMPLES_COMMON;
+
+#define cCONFIG_RG_DOSFSTOOLS  0
+extern int vcCONFIG_RG_DOSFSTOOLS ;
+
+#define cCONFIG_RG_E2FSPROGS 0
+extern int vcCONFIG_RG_E2FSPROGS;
+
+#define cCONFIG_RG_FLEX 0
+extern int vcCONFIG_RG_FLEX;
+
+#define cCONFIG_RG_LIBPCAP 0
+extern int vcCONFIG_RG_LIBPCAP;
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/feature_config.c:3004 */
+#define cCONFIG_RG_LZMA 1
+extern int vcCONFIG_RG_LZMA;
+#define CONFIG_RG_LZMA 1
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/feature_config.c:2997 */
+#define cCONFIG_RG_MGT 1
+extern int vcCONFIG_RG_MGT;
+#define CONFIG_RG_MGT 1
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/feature_config.c:3001 */
+#define cCONFIG_RG_OPENSSL_COMMON 1
+extern int vcCONFIG_RG_OPENSSL_COMMON;
+#define CONFIG_RG_OPENSSL_COMMON 1
+
+#define cCONFIG_RG_READLINE 0
+extern int vcCONFIG_RG_READLINE;
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/feature_config.c:3019 */
+#define cCONFIG_RG_RGLOADER_COMMON 1
+extern int vcCONFIG_RG_RGLOADER_COMMON;
+#define CONFIG_RG_RGLOADER_COMMON 1
+
+#define cCONFIG_RG_STAR 0
+extern int vcCONFIG_RG_STAR;
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/feature_config.c:3045 */
+#define cCONFIG_RG_SYSLOG_COMMON 1
+extern int vcCONFIG_RG_SYSLOG_COMMON;
+#define CONFIG_RG_SYSLOG_COMMON 1
+
+#define cCONFIG_RG_TERMCAP 0
+extern int vcCONFIG_RG_TERMCAP;
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/feature_config.c:3032 */
+#define cCONFIG_RG_TEST_TOOLS 1
+extern int vcCONFIG_RG_TEST_TOOLS;
+#define CONFIG_RG_TEST_TOOLS 1
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/feature_config.c:2996 */
+#define cCONFIG_RG_TZ 1
+extern int vcCONFIG_RG_TZ;
+#define CONFIG_RG_TZ 1
+
+#define cCONFIG_RG_USAGI 0
+extern int vcCONFIG_RG_USAGI;
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/feature_config.c:3027 */
+#define cCONFIG_RG_UTIL_LINUX 1
+extern int vcCONFIG_RG_UTIL_LINUX;
+#define CONFIG_RG_UTIL_LINUX 1
+
+#define cCONFIG_GUI_RG 0
+extern int vcCONFIG_GUI_RG;
+
+#define cCONFIG_GUI_BELKIN 0
+extern int vcCONFIG_GUI_BELKIN;
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/dist_config.c:3237 */
+#define cCONFIG_GUI_LIVEBOX1 1
+extern int vcCONFIG_GUI_LIVEBOX1;
+#define CONFIG_GUI_LIVEBOX1 1
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/feature_config.c:2383 */
+#define cCONFIG_RG_LIBIMAGE 1
+extern int vcCONFIG_RG_LIBIMAGE;
+#define CONFIG_RG_LIBIMAGE 1
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/feature_config.c:2376 */
+#define cCONFIG_RG_LIBIMAGE_DIM 1
+extern int vcCONFIG_RG_LIBIMAGE_DIM;
+#define CONFIG_RG_LIBIMAGE_DIM 1
+
+#define cCONFIG_RG_LIBJPEG 0
+extern int vcCONFIG_RG_LIBJPEG;
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/feature_config.c:2414 */
+#define cCONFIG_RG_NETOBJ 1
+extern int vcCONFIG_RG_NETOBJ;
+#define CONFIG_RG_NETOBJ 1
+
+#define cCONFIG_RG_LAN_BRIDGE_CONST 0
+extern int vcCONFIG_RG_LAN_BRIDGE_CONST;
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/feature_config.c:2402 */
+#define cCONFIG_RG_AUTO_DST 1
+extern int vcCONFIG_RG_AUTO_DST;
+#define CONFIG_RG_AUTO_DST 1
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/feature_config.c:372 */
+#define CONFIG_RG_TZ_COMMON 1
+
+#define cCONFIG_RG_TZ_FULL 0
+extern int vcCONFIG_RG_TZ_FULL;
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/feature_config.c:2404 */
+#define CONFIG_RG_TZ_YEARS 5
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/feature_config.c:2386 */
+#define cCONFIG_RG_HTTPS 1
+extern int vcCONFIG_RG_HTTPS;
+#define CONFIG_RG_HTTPS 1
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/feature_config.c:2389 */
+#define cCONFIG_HTTP_CGI_PROCESS 1
+extern int vcCONFIG_HTTP_CGI_PROCESS;
+#define CONFIG_HTTP_CGI_PROCESS 1
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/feature_config.c:220 */
+#define cCONFIG_RG_TELNETS 1
+extern int vcCONFIG_RG_TELNETS;
+#define CONFIG_RG_TELNETS 1
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/feature_config.c:2760 */
+#define cCONFIG_RG_SYSLOG 1
+extern int vcCONFIG_RG_SYSLOG;
+#define CONFIG_RG_SYSLOG 1
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/feature_config.c:2761 */
+#define cCONFIG_RG_LOG_DEV_FEATURE 1
+extern int vcCONFIG_RG_LOG_DEV_FEATURE;
+#define CONFIG_RG_LOG_DEV_FEATURE 1
+#define CONFIG_RG_LOG_DEV_MODULE 1
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/feature_config.c:2766 */
+#define CONFIG_RG_KERN_LOG 1
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/feature_config.c:2689 */
+#define CONFIG_RG_LOG_DEV_BUF_SIZE 16384
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/feature_config.c:2690 */
+#define CONFIG_RG_SYSLOG_FW_DEF_SIZE 16384
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/feature_config.c:2941 */
+#define cCONFIG_RG_CLI 1
+extern int vcCONFIG_RG_CLI;
+#define CONFIG_RG_CLI 1
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/feature_config.c:2948 */
+#define CONFIG_RG_CLI_SERIAL 1
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/config_target_os.c:144 */
+#define CONFIG_RG_TTYP 1
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/feature_config.c:300 */
+#define CONFIG_RG_LOGIN 1
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/feature_config.c:257 */
+#define cCONFIG_RG_STATIC_ROUTE 1
+extern int vcCONFIG_RG_STATIC_ROUTE;
+#define CONFIG_RG_STATIC_ROUTE 1
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/feature_config.c:337 */
+#define cCONFIG_RG_BUSYBOX 1
+extern int vcCONFIG_RG_BUSYBOX;
+#define CONFIG_RG_BUSYBOX 1
+
+#define cCONFIG_RG_NO_BUSYBOX 0
+extern int vcCONFIG_RG_NO_BUSYBOX;
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/feature_config.c:306 */
+#define CONFIG_RG_ERESOLV 1
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/feature_config.c:2950 */
+#define cCONFIG_RG_WGET 1
+extern int vcCONFIG_RG_WGET;
+#define CONFIG_RG_WGET 1
+
+#define cCONFIG_RG_NON_ROUTABLE_LAN_DEVICE_IP 0
+extern int vcCONFIG_RG_NON_ROUTABLE_LAN_DEVICE_IP;
+
+#define cCONFIG_RG_FREESWAN 0
+extern int vcCONFIG_RG_FREESWAN;
+
+#define cCONFIG_RG_X509 0
+extern int vcCONFIG_RG_X509;
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/feature_config.c:2347 */
+#define cCONFIG_RG_CERT 1
+extern int vcCONFIG_RG_CERT;
+#define CONFIG_RG_CERT 1
+
+#define cCONFIG_RG_KERBEROS 0
+extern int vcCONFIG_RG_KERBEROS;
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/feature_config.c:2940 */
+#define CONFIG_RGLOADER_CLI 1
+
+#define cCONFIG_RTL8139_FEATURE 0
+extern int vcCONFIG_RTL8139_FEATURE;
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/feature_config.c:1178 */
+#define CONFIG_RWSEM_GENERIC_SPINLOCK 1
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/hw_config.c:1497 */
+#define cCONFIG_SDRAM_SIZE 32
+extern int vcCONFIG_SDRAM_SIZE;
+#define CONFIG_SDRAM_SIZE 32
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/hw_config.c:1499 */
+#define CONFIG_FLASH_SIZE 8
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/feature_config.c:1109 */
+#define CONFIG_SERIAL_CORE 1
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/feature_config.c:1110 */
+#define CONFIG_SERIAL_CORE_CONSOLE 1
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/feature_config.c:1106 */
+#define CONFIG_SERIAL_8250 1
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/feature_config.c:1107 */
+#define CONFIG_SERIAL_8250_CONSOLE 1
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/feature_config.c:1108 */
+#define CONFIG_SERIAL_8250_NR_UARTS 1
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/feature_config.c:3077 */
+#define CONFIG_SYN_COOKIES 1
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/config_target_os.c:79 */
+#define CONFIG_SYSCTL 1
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/feature_config.c:2767 */
+#define CONFIG_SYSLOG_UNIXSOCK_SUPPORT 1
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/config_target_os.c:142 */
+#define CONFIG_SYSVIPC 1
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/feature_config.c:2944 */
+#define CONFIG_TEST_TOOLS_PING 1
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/feature_config.c:265 */
+#define CONFIG_TEST_TOOLS_CONN_SPEED 1
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/feature_config.c:309 */
+#define cCONFIG_RG_TODC 1
+extern int vcCONFIG_RG_TODC;
+#define CONFIG_RG_TODC 1
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/config_host.c:388 */
+#define cCONFIG_ULIBC 1
+extern int vcCONFIG_ULIBC;
+#define CONFIG_ULIBC 1
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/feature_config.c:3066 */
+#define CONFIG_UNIX 1
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/feature_config.c:1137 */
+#define cCONFIG_USB_FEATURE 1
+extern int vcCONFIG_USB_FEATURE;
+#define CONFIG_USB_FEATURE 1
+#define CONFIG_USB 1
+
+#define cCONFIG_RG_USB_FEATURE 0
+extern int vcCONFIG_RG_USB_FEATURE;
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/sagem_on_the_fly_dist_config.c:39 */
+#define CONFIG_WPS_SUPPORT 1
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/sagem_on_the_fly_dist_config.c:41 */
+#define CONFIG_SUPERVISOR_SAGEM_EZP_WPS 1
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/sagem_on_the_fly_dist_config.c:42 */
+#define CONFIG_SAGEM_TR_MONITORING 1
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/feature_config.c:1142 */
+#define cCONFIG_USB_STORAGE_FEATURE 1
+extern int vcCONFIG_USB_STORAGE_FEATURE;
+#define CONFIG_USB_STORAGE_FEATURE 1
+#define CONFIG_USB_STORAGE 1
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/sagem_on_the_fly_dist_config.c:63 */
+#define CONFIG_USB_DEVICEFS 1
+
+#define cCONFIG_USB_OHCI_FEATURE 0
+extern int vcCONFIG_USB_OHCI_FEATURE;
+
+#define cCONFIG_USB_UHCI_FEATURE 0
+extern int vcCONFIG_USB_UHCI_FEATURE;
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/feature_config.c:1141 */
+#define cCONFIG_USB_EHCI_HCD_FEATURE 1
+extern int vcCONFIG_USB_EHCI_HCD_FEATURE;
+#define CONFIG_USB_EHCI_HCD_FEATURE 1
+#define CONFIG_USB_EHCI_HCD_MODULE 1
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/feature_config.c:1140 */
+#define cCONFIG_USB_OHCI_HCD_FEATURE 1
+extern int vcCONFIG_USB_OHCI_HCD_FEATURE;
+#define CONFIG_USB_OHCI_HCD_FEATURE 1
+#define CONFIG_USB_OHCI_HCD_MODULE 1
+
+#define cCONFIG_USB_RNDIS_FEATURE 0
+extern int vcCONFIG_USB_RNDIS_FEATURE;
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/feature_config.c:1138 */
+#define CONFIG_USB_ARCH_HAS_HCD 1
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/feature_config.c:1139 */
+#define CONFIG_USB_ARCH_HAS_OHCI 1
+
+#define cCONFIG_USB_GADGET_FEATURE 0
+extern int vcCONFIG_USB_GADGET_FEATURE;
+
+#define cCONFIG_USB_ETH_FEATURE 0
+extern int vcCONFIG_USB_ETH_FEATURE;
+
+#define cCONFIG_USB_VOX160_FEATURE 0
+extern int vcCONFIG_USB_VOX160_FEATURE;
+
+#define cCONFIG_VALGRIND 0
+extern int vcCONFIG_VALGRIND;
+
+#define cCONFIG_ZOOM_CM_FEATURE 0
+extern int vcCONFIG_ZOOM_CM_FEATURE;
+
+#define cCONFIG_PCBOX 0
+extern int vcCONFIG_PCBOX;
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/feature_config.c:1172 */
+#define TARGET_ENDIANESS BIG
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/hw_config.c:1728 */
+#define BOARD F@ST 3202
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/hw_config.c:1729 */
+#define FIRM Sagem
+
+#define cCONFIG_RG_TELEPHONY 0
+extern int vcCONFIG_RG_TELEPHONY;
+
+#define cCONFIG_RG_VOATM 0
+extern int vcCONFIG_RG_VOATM;
+
+#define cCONFIG_RG_VOATM_ELCP_FEATURE 0
+extern int vcCONFIG_RG_VOATM_ELCP_FEATURE;
+
+#define cCONFIG_RG_VOATM_CAS_FEATURE 0
+extern int vcCONFIG_RG_VOATM_CAS_FEATURE;
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/feature_config.c:3075 */
+#define cCONFIG_RG_FACTORY_SETTINGS 1
+extern int vcCONFIG_RG_FACTORY_SETTINGS;
+#define CONFIG_RG_FACTORY_SETTINGS 1
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/feature_config.c:2910 */
+#define cCONFIG_RG_HW_BUTTONS_FEATURE 1
+extern int vcCONFIG_RG_HW_BUTTONS_FEATURE;
+#define CONFIG_RG_HW_BUTTONS_FEATURE 1
+#define CONFIG_RG_HW_BUTTONS_MODULE 1
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/feature_config.c:650 */
+#define CONFIG_RG_CONSOLE_DEVICE ttyS0
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/dist_config.c:3198 */
+#define CONFIG_FORCE_RECOVERY 1
+
+#define cCONFIG_SAMBA 0
+extern int vcCONFIG_SAMBA;
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/sagem_on_the_fly_dist_config.c:50 */
+#define cCONFIG_SAGEM_SAMBA 1
+extern int vcCONFIG_SAGEM_SAMBA;
+#define CONFIG_SAGEM_SAMBA 1
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/sagem_on_the_fly_dist_config.c:85 */
+#define cCONFIG_SAGEM_IPP_PRINT 1
+extern int vcCONFIG_SAGEM_IPP_PRINT;
+#define CONFIG_SAGEM_IPP_PRINT 1
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/sagem_on_the_fly_dist_config.c:11 */
+#define CONFIG_ETH_SWITCH 1
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/feature_config.c:2886 */
+#define CONFIG_WAN_LED_BLINKING 1
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/feature_config.c:2892 */
+#define CONFIG_SHUTDOWN_BOX 1
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/feature_config.c:2885 */
+#define CONFIG_REBOOT_BUTTON 1
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/feature_config.c:3081 */
+#define OPENRG_CHRDEV_MAJOR 240
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/feature_config.c:3080 */
+#define OPENRG_CHRDEV_NAME "rg_chrdev"
+
+#define cCONFIG_ATHEROS_AR531X_MIPS 0
+extern int vcCONFIG_ATHEROS_AR531X_MIPS;
+
+#define cCONFIG_ARCH_WRT108G 0
+extern int vcCONFIG_ARCH_WRT108G;
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/hw_config.c:1821 */
+#define cCONFIG_RG_ATHEROS 1
+extern int vcCONFIG_RG_ATHEROS;
+#define cCONFIG_RG_ATHEROS_FEATURE 1
+extern int vcCONFIG_RG_ATHEROS_FEATURE;
+#define CONFIG_RG_ATHEROS_FEATURE 1
+#define CONFIG_RG_ATHEROS_MODULE 1
+
+#define cCONFIG_RG_ATHEROS_HW_AR5212 0
+extern int vcCONFIG_RG_ATHEROS_HW_AR5212;
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/sagem_on_the_fly_hw_config.c:5 */
+#define cCONFIG_RG_ATHEROS_HW_AR5416 1
+extern int vcCONFIG_RG_ATHEROS_HW_AR5416;
+#define CONFIG_RG_ATHEROS_HW_AR5416 1
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/hw_config.c:159 */
+#define cCONFIG_RG_DEV_IF_WIFI 1
+extern int vcCONFIG_RG_DEV_IF_WIFI;
+#define CONFIG_RG_DEV_IF_WIFI 1
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/hw_config.c:162 */
+#define CONFIG_RG_DEV_IF_AR5416_VAP 1
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/hw_config.c:169 */
+#define CONFIG_RG_DEV_IF_AR5416_VAP_SLAVE 1
+
+#define cCONFIG_RG_DEV_IF_RT2880 0
+extern int vcCONFIG_RG_DEV_IF_RT2880;
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/hw_config.c:141 */
+#define cCONFIG_RG_HOSTAPD 1
+extern int vcCONFIG_RG_HOSTAPD;
+#define CONFIG_RG_HOSTAPD 1
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/hw_config.c:143 */
+#define cCONFIG_HOSTAPD_RSN_PREAUTH 1
+extern int vcCONFIG_HOSTAPD_RSN_PREAUTH;
+#define CONFIG_HOSTAPD_RSN_PREAUTH 1
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/hw_config.c:142 */
+#define cCONFIG_HOSTAPD_DRIVER_MADWIFI 1
+extern int vcCONFIG_HOSTAPD_DRIVER_MADWIFI;
+#define CONFIG_HOSTAPD_DRIVER_MADWIFI 1
+
+#define cCONFIG_TI_404_MIPS 0
+extern int vcCONFIG_TI_404_MIPS;
+
+#define cCONFIG_TI_404_COMMON 0
+extern int vcCONFIG_TI_404_COMMON;
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/feature_config.c:2315 */
+#define CONFIG_GCC_CAN_INLINE 1
+
+#define cCONFIG_I386 0
+extern int vcCONFIG_I386;
+
+#define cCONFIG_UM 0
+extern int vcCONFIG_UM;
+
+#define cCONFIG_RG_FILESERVER 0
+extern int vcCONFIG_RG_FILESERVER;
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/feature_config.c:2813 */
+#define CONFIG_RG_STORAGE 1
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/feature_config.c:2865 */
+#define CONFIG_RG_STORAGE_UTILS 1
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/feature_config.c:2540 */
+#define CONFIG_RG_LARGE_FILE_SUPPORT 1
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/feature_config.c:2862 */
+#define CONFIG_RG_CODEPAGE "437"
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/feature_config.c:2855 */
+#define CONFIG_MSDOS_PARTITION 1
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/feature_config.c:2853 */
+#define CONFIG_FAT_FS 1
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/feature_config.c:2858 */
+#define CONFIG_FAT_DEFAULT_CODEPAGE 437
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/feature_config.c:2854 */
+#define CONFIG_MSDOS_FS 1
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/feature_config.c:2856 */
+#define CONFIG_VFAT_FS 1
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/feature_config.c:2898 */
+#define CONFIG_NLS 1
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/feature_config.c:2859 */
+#define cCONFIG_FAT_DEFAULT_IOCHARSET "iso8859-1"
+extern char *vcCONFIG_FAT_DEFAULT_IOCHARSET;
+#define CONFIG_FAT_DEFAULT_IOCHARSET "iso8859-1"
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/feature_config.c:2903 */
+#define CONFIG_NLS_DEFAULT "437"
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/feature_config.c:2899 */
+#define CONFIG_NLS_CODEPAGE_437 1
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/feature_config.c:2900 */
+#define CONFIG_NLS_CODEPAGE_850 1
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/feature_config.c:2901 */
+#define CONFIG_NLS_ISO8859_1 1
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/feature_config.c:2902 */
+#define CONFIG_NLS_UTF8 1
+
+#define cCONFIG_RG_FILESERVER_ACLS 0
+extern int vcCONFIG_RG_FILESERVER_ACLS;
+
+#define cCONFIG_RG_FILESERVER_ACLS_DEBUG 0
+extern int vcCONFIG_RG_FILESERVER_ACLS_DEBUG;
+
+#define cCONFIG_RG_RAID 0
+extern int vcCONFIG_RG_RAID;
+
+#define cCONFIG_RG_RAID_IDE_ONLY 0
+extern int vcCONFIG_RG_RAID_IDE_ONLY;
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/feature_config.c:2810 */
+#define CONFIG_SCSI 1
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/feature_config.c:2811 */
+#define CONFIG_BLK_DEV_SD 1
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/feature_config.c:2812 */
+#define CONFIG_SD_EXTRA_DEVS 32
+
+#define cCONFIG_FLASH 0
+extern int vcCONFIG_FLASH;
+#define cCONFIG_FLASH_FEATURE 0
+extern int vcCONFIG_FLASH_FEATURE;
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/feature_config.c:2449 */
+#define CONFIG_VLAN_8021Q 1
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/feature_config.c:2446 */
+#define cCONFIG_RG_VLAN_8021Q 1
+extern int vcCONFIG_RG_VLAN_8021Q;
+#define CONFIG_RG_VLAN_8021Q 1
+
+#define cCONFIG_RG_VLAN_DEBUG_TOOLS 0
+extern int vcCONFIG_RG_VLAN_DEBUG_TOOLS;
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/sagem_on_the_fly_dist_config.c:68 */
+#define CONFIG_VLAN_8021Q_FAST 1
+
+#define cCONFIG_AT93CXX_FEATURE 0
+extern int vcCONFIG_AT93CXX_FEATURE;
+
+#define cCONFIG_ADM6996_FEATURE 0
+extern int vcCONFIG_ADM6996_FEATURE;
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/config_target_os.c:45 */
+#define cCONFIG_RG_OS_LINUX_26 1
+extern int vcCONFIG_RG_OS_LINUX_26;
+#define CONFIG_RG_OS_LINUX_26 1
+
+#define cCONFIG_RG_OS_LINUX_24 0
+extern int vcCONFIG_RG_OS_LINUX_24;
+
+#define cCONFIG_RG_OS_LINUX_22 0
+extern int vcCONFIG_RG_OS_LINUX_22;
+
+#define cCONFIG_RG_EMI 0
+extern int vcCONFIG_RG_EMI;
+
+#define cCONFIG_RG_EMI_IRDA 0
+extern int vcCONFIG_RG_EMI_IRDA;
+
+#define cCONFIG_RG_EMI_USB_FEATURE 0
+extern int vcCONFIG_RG_EMI_USB_FEATURE;
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/feature_config.c:2960 */
+#define CONFIG_RG_DIST_LANG eng
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/feature_config.c:1190 */
+#define CONFIG_32BIT 1
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/feature_config.c:1197 */
+#define CONFIG_FLATMEM 1
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/feature_config.c:1198 */
+#define CONFIG_FLAT_NODE_MEM_MAP 1
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/feature_config.c:1196 */
+#define CONFIG_SPLIT_PTLOCK_CPUS 4
+
+#define cCONFIG_RG_UML 0
+extern int vcCONFIG_RG_UML;
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/feature_config.c:2564 */
+#define CONFIG_ZLIB_INFLATE 1
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/feature_config.c:2397 */
+#define CONFIG_ZLIB_DEFLATE 1
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/sagem_on_the_fly_dist_config.c:116 */
+#define cCONFIG_USB_SERIAL_FEATURE 1
+extern int vcCONFIG_USB_SERIAL_FEATURE;
+#define CONFIG_USB_SERIAL_FEATURE 1
+#define CONFIG_USB_SERIAL_MODULE 1
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/sagem_on_the_fly_dist_config.c:117 */
+#define cCONFIG_USB_SERIAL_CP2101_FEATURE 1
+extern int vcCONFIG_USB_SERIAL_CP2101_FEATURE;
+#define CONFIG_USB_SERIAL_CP2101_FEATURE 1
+#define CONFIG_USB_SERIAL_CP2101_MODULE 1
+
+#define cCONFIG_RG_PROXY_ARP 0
+extern int vcCONFIG_RG_PROXY_ARP;
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/feature_config.c:430 */
+#define cCONFIG_RG_OAM_PING 1
+extern int vcCONFIG_RG_OAM_PING;
+#define CONFIG_RG_OAM_PING 1
+
+#define cCONFIG_STOP_ON_INIT_FAIL 0
+extern int vcCONFIG_STOP_ON_INIT_FAIL;
+
+#define cCONFIG_RG_KCALL_FEATURE 0
+extern int vcCONFIG_RG_KCALL_FEATURE;
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/feature_config.c:2973 */
+#define cCONFIG_RG_FRAG_CACHE_FEATURE 1
+extern int vcCONFIG_RG_FRAG_CACHE_FEATURE;
+#define CONFIG_RG_FRAG_CACHE_FEATURE 1
+#define CONFIG_RG_FRAG_CACHE_MODULE 1
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/feature_config.c:2364 */
+#define cCONFIG_RG_XML 1
+extern int vcCONFIG_RG_XML;
+#define CONFIG_RG_XML 1
+
+#define cCONFIG_WBM_PAGES_EXPIRE 0
+extern int vcCONFIG_WBM_PAGES_EXPIRE;
+
+#define cCONFIG_RG_AUTOTEST 0
+extern int vcCONFIG_RG_AUTOTEST;
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/feature_config.c:1431 */
+#define CONFIG_RG_FW_NAT_STATE_TABLE_SIZE 5000
+
+#define cCONFIG_RG_TUTORIAL 0
+extern int vcCONFIG_RG_TUTORIAL;
+
+#define cCONFIG_RG_TUTORIAL_ADVANCED 0
+extern int vcCONFIG_RG_TUTORIAL_ADVANCED;
+
+#define cCONFIG_RG_WEBCAM 0
+extern int vcCONFIG_RG_WEBCAM;
+
+#define cCONFIG_ZC_IP_AUTO_DETECTION 0
+extern int vcCONFIG_ZC_IP_AUTO_DETECTION;
+
+#define cCONFIG_ZC_AUTO_CONFIG_NON_PNP 0
+extern int vcCONFIG_ZC_AUTO_CONFIG_NON_PNP;
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/feature_config.c:1143 */
+#define CONFIG_USB_PRINTER 1
+
+#define cCONFIG_RG_PRINT_SERVER 0
+extern int vcCONFIG_RG_PRINT_SERVER;
+
+#define cCONFIG_RG_SAMBA_PRINTING 0
+extern int vcCONFIG_RG_SAMBA_PRINTING;
+
+#define cCONFIG_RG_IPP 0
+extern int vcCONFIG_RG_IPP;
+
+#define cCONFIG_RG_LPD 0
+extern int vcCONFIG_RG_LPD;
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/feature_config.c:287 */
+#define cCONFIG_RG_LANG 1
+extern int vcCONFIG_RG_LANG;
+#define CONFIG_RG_LANG 1
+
+#define cCONFIG_RG_DYN_FLASH_LAYOUT 0
+extern int vcCONFIG_RG_DYN_FLASH_LAYOUT;
+
+#define cCONFIG_RG_DNS_USE_ISP_DOMAIN 0
+extern int vcCONFIG_RG_DNS_USE_ISP_DOMAIN;
+
+#define cCONFIG_RG_VOIP 0
+extern int vcCONFIG_RG_VOIP;
+
+#define cCONFIG_RG_IPPHONE 0
+extern int vcCONFIG_RG_IPPHONE;
+
+#define cCONFIG_RG_ATA 0
+extern int vcCONFIG_RG_ATA;
+
+#define cCONFIG_RG_VOIP_SIP 0
+extern int vcCONFIG_RG_VOIP_SIP;
+
+#define cCONFIG_RG_VOIP_H323 0
+extern int vcCONFIG_RG_VOIP_H323;
+
+#define cCONFIG_RG_VOIP_MGCP 0
+extern int vcCONFIG_RG_VOIP_MGCP;
+
+#define cCONFIG_RG_VOIP_NUMBER_OF_LINES 0
+extern int vcCONFIG_RG_VOIP_NUMBER_OF_LINES;
+
+#define cCONFIG_RG_VOIP_HW_EMULATION 0
+extern int vcCONFIG_RG_VOIP_HW_EMULATION;
+
+#define cCONFIG_RG_VOIP_USE_SIP_ALG 0
+extern int vcCONFIG_RG_VOIP_USE_SIP_ALG;
+
+#define cCONFIG_RG_VOIP_RV 0
+extern int vcCONFIG_RG_VOIP_RV;
+
+#define cCONFIG_RG_VOIP_RV_SIP 0
+extern int vcCONFIG_RG_VOIP_RV_SIP;
+
+#define cCONFIG_RG_VOIP_RV_H323 0
+extern int vcCONFIG_RG_VOIP_RV_H323;
+
+#define cCONFIG_RG_VOIP_RV_MGCP 0
+extern int vcCONFIG_RG_VOIP_RV_MGCP;
+
+#define cCONFIG_RG_VOIP_OSIP 0
+extern int vcCONFIG_RG_VOIP_OSIP;
+
+#define cCONFIG_RG_VOIP_ASTERISK 0
+extern int vcCONFIG_RG_VOIP_ASTERISK;
+
+#define cCONFIG_RG_RTP 0
+extern int vcCONFIG_RG_RTP;
+#define cCONFIG_RG_RTP_FEATURE 0
+extern int vcCONFIG_RG_RTP_FEATURE;
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/config_host.c:1163 */
+#define CONFIG_CC_OPTIMIZE_FOR_SIZE 1
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/feature_config.c:252 */
+#define cCONFIG_RG_OSS_RMT 1
+extern int vcCONFIG_RG_OSS_RMT;
+#define CONFIG_RG_OSS_RMT 1
+
+#define cCONFIG_HITRON_BSP 0
+extern int vcCONFIG_HITRON_BSP;
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/feature_config.c:251 */
+#define cCONFIG_RG_RMT_MNG 1
+extern int vcCONFIG_RG_RMT_MNG;
+#define CONFIG_RG_RMT_MNG 1
+
+#define cCONFIG_SL2312_COMMON 0
+extern int vcCONFIG_SL2312_COMMON;
+
+#define cCONFIG_SL2312_FLASH_FEATURE 0
+extern int vcCONFIG_SL2312_FLASH_FEATURE;
+
+#define cCONFIG_USB_OHCI_SL2312_FEATURE 0
+extern int vcCONFIG_USB_OHCI_SL2312_FEATURE;
+
+#define cCONFIG_SL2312_ETH_FEATURE 0
+extern int vcCONFIG_SL2312_ETH_FEATURE;
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/feature_config.c:419 */
+#define CONFIG_RG_EVENT_LOGGING 1
+
+#define cCONFIG_RG_WINS_SERVER 0
+extern int vcCONFIG_RG_WINS_SERVER;
+
+#define cCONFIG_RG_FTP_SERVER 0
+extern int vcCONFIG_RG_FTP_SERVER;
+
+#define cCONFIG_RG_MAIL_SERVER 0
+extern int vcCONFIG_RG_MAIL_SERVER;
+
+#define cCONFIG_RG_WEB_SERVER 0
+extern int vcCONFIG_RG_WEB_SERVER;
+
+#define cCONFIG_RG_FS_BACKUP 0
+extern int vcCONFIG_RG_FS_BACKUP;
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/feature_config.c:573 */
+#define cCONFIG_TOS_DSCP_RFC2474_FEATURE 1
+extern int vcCONFIG_TOS_DSCP_RFC2474_FEATURE;
+#define CONFIG_TOS_DSCP_RFC2474_FEATURE 1
+#define CONFIG_TOS_DSCP_RFC2474 1
+
+#define cCONFIG_RG_IPROUTE2 0
+extern int vcCONFIG_RG_IPROUTE2;
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/dist_config.c:3257 */
+#define cCONFIG_RG_IPROUTE2_SAGEM 1
+extern int vcCONFIG_RG_IPROUTE2_SAGEM;
+#define CONFIG_RG_IPROUTE2_SAGEM 1
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/dist_config.c:3243 */
+#define cCONFIG_RG_QOS 1
+extern int vcCONFIG_RG_QOS;
+#define CONFIG_RG_QOS 1
+
+#define cCONFIG_RG_QOS_MGT 0
+extern int vcCONFIG_RG_QOS_MGT;
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/feature_config.c:626 */
+#define cCONFIG_RG_QOS_INGRESS_FEATURE 1
+extern int vcCONFIG_RG_QOS_INGRESS_FEATURE;
+#define CONFIG_RG_QOS_INGRESS_FEATURE 1
+#define CONFIG_RG_QOS_INGRESS_MODULE 1
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/feature_config.c:577 */
+#define cCONFIG_NET_SCHED_FEATURE 1
+extern int vcCONFIG_NET_SCHED_FEATURE;
+#define CONFIG_NET_SCHED_FEATURE 1
+#define CONFIG_NET_SCHED 1
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/feature_config.c:584 */
+#define cCONFIG_NET_SCH_INGRESS_FEATURE 1
+extern int vcCONFIG_NET_SCH_INGRESS_FEATURE;
+#define CONFIG_NET_SCH_INGRESS_FEATURE 1
+#define CONFIG_NET_SCH_INGRESS 1
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/feature_config.c:580 */
+#define cCONFIG_NET_SCH_HTB_FEATURE 1
+extern int vcCONFIG_NET_SCH_HTB_FEATURE;
+#define CONFIG_NET_SCH_HTB_FEATURE 1
+#define CONFIG_NET_SCH_HTB 1
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/feature_config.c:582 */
+#define cCONFIG_NET_SCH_TBF_FEATURE 1
+extern int vcCONFIG_NET_SCH_TBF_FEATURE;
+#define CONFIG_NET_SCH_TBF_FEATURE 1
+#define CONFIG_NET_SCH_TBF 1
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/feature_config.c:620 */
+#define cCONFIG_NET_SCH_ATM_FEATURE 1
+extern int vcCONFIG_NET_SCH_ATM_FEATURE;
+#define CONFIG_NET_SCH_ATM_FEATURE 1
+#define CONFIG_NET_SCH_ATM 1
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/feature_config.c:586 */
+#define cCONFIG_NET_SCH_PRIO_FEATURE 1
+extern int vcCONFIG_NET_SCH_PRIO_FEATURE;
+#define CONFIG_NET_SCH_PRIO_FEATURE 1
+#define CONFIG_NET_SCH_PRIO 1
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/feature_config.c:588 */
+#define cCONFIG_NET_SCH_RED_FEATURE 1
+extern int vcCONFIG_NET_SCH_RED_FEATURE;
+#define CONFIG_NET_SCH_RED_FEATURE 1
+#define CONFIG_NET_SCH_RED 1
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/feature_config.c:590 */
+#define cCONFIG_NET_SCH_SFQ_FEATURE 1
+extern int vcCONFIG_NET_SCH_SFQ_FEATURE;
+#define CONFIG_NET_SCH_SFQ_FEATURE 1
+#define CONFIG_NET_SCH_SFQ 1
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/feature_config.c:592 */
+#define cCONFIG_NET_SCH_DSMARK_FEATURE 1
+extern int vcCONFIG_NET_SCH_DSMARK_FEATURE;
+#define CONFIG_NET_SCH_DSMARK_FEATURE 1
+#define CONFIG_NET_SCH_DSMARK 1
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/feature_config.c:594 */
+#define cCONFIG_NET_QOS_FEATURE 1
+extern int vcCONFIG_NET_QOS_FEATURE;
+#define CONFIG_NET_QOS_FEATURE 1
+#define CONFIG_NET_QOS 1
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/feature_config.c:596 */
+#define cCONFIG_NET_ESTIMATOR_FEATURE 1
+extern int vcCONFIG_NET_ESTIMATOR_FEATURE;
+#define CONFIG_NET_ESTIMATOR_FEATURE 1
+#define CONFIG_NET_ESTIMATOR 1
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/feature_config.c:598 */
+#define cCONFIG_NET_CLS_FEATURE 1
+extern int vcCONFIG_NET_CLS_FEATURE;
+#define CONFIG_NET_CLS_FEATURE 1
+#define CONFIG_NET_CLS 1
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/feature_config.c:600 */
+#define cCONFIG_NET_CLS_POLICE_FEATURE 1
+extern int vcCONFIG_NET_CLS_POLICE_FEATURE;
+#define CONFIG_NET_CLS_POLICE_FEATURE 1
+#define CONFIG_NET_CLS_POLICE 1
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/feature_config.c:602 */
+#define cCONFIG_NET_CLS_TCINDEX_FEATURE 1
+extern int vcCONFIG_NET_CLS_TCINDEX_FEATURE;
+#define CONFIG_NET_CLS_TCINDEX_FEATURE 1
+#define CONFIG_NET_CLS_TCINDEX 1
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/feature_config.c:604 */
+#define cCONFIG_NET_CLS_FW_FEATURE 1
+extern int vcCONFIG_NET_CLS_FW_FEATURE;
+#define CONFIG_NET_CLS_FW_FEATURE 1
+#define CONFIG_NET_CLS_FW 1
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/feature_config.c:606 */
+#define cCONFIG_NET_CLS_U32_FEATURE 1
+extern int vcCONFIG_NET_CLS_U32_FEATURE;
+#define CONFIG_NET_CLS_U32_FEATURE 1
+#define CONFIG_NET_CLS_U32 1
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/feature_config.c:608 */
+#define cCONFIG_NET_CLS_RSVP_FEATURE 1
+extern int vcCONFIG_NET_CLS_RSVP_FEATURE;
+#define CONFIG_NET_CLS_RSVP_FEATURE 1
+#define CONFIG_NET_CLS_RSVP 1
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/feature_config.c:610 */
+#define cCONFIG_NET_CLS_RSVP6_FEATURE 1
+extern int vcCONFIG_NET_CLS_RSVP6_FEATURE;
+#define CONFIG_NET_CLS_RSVP6_FEATURE 1
+#define CONFIG_NET_CLS_RSVP6 1
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/feature_config.c:614 */
+#define cCONFIG_IP_ROUTE_MULTIPATH_FEATURE 1
+extern int vcCONFIG_IP_ROUTE_MULTIPATH_FEATURE;
+#define CONFIG_IP_ROUTE_MULTIPATH_FEATURE 1
+#define CONFIG_IP_ROUTE_MULTIPATH 1
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/feature_config.c:616 */
+#define cCONFIG_IP_ROUTE_VERBOSE_FEATURE 1
+extern int vcCONFIG_IP_ROUTE_VERBOSE_FEATURE;
+#define CONFIG_IP_ROUTE_VERBOSE_FEATURE 1
+#define CONFIG_IP_ROUTE_VERBOSE 1
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/feature_config.c:623 */
+#define cCONFIG_IP_ROUTE_FWMARK_FEATURE 1
+extern int vcCONFIG_IP_ROUTE_FWMARK_FEATURE;
+#define CONFIG_IP_ROUTE_FWMARK_FEATURE 1
+#define CONFIG_IP_ROUTE_FWMARK 1
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/feature_config.c:208 */
+#define CONFIG_RG_FOUNDATION_CORE 1
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/config_target_os.c:181 */
+#define CONFIG_RG_TARGET_LINUX 1
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/config_host.c:64 */
+#define CONFIG_RG_HOST_LINUX 1
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/dist_config.c:3201 */
+#define MODULE_RG_FOUNDATION 1
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/dist_config.c:3204 */
+#define MODULE_RG_ADVANCED_MANAGEMENT 1
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/dist_config.c:3209 */
+#define MODULE_RG_SNMP 1
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/dist_config.c:3205 */
+#define MODULE_RG_DSL 1
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/dist_config.c:3206 */
+#define MODULE_RG_PPP 1
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/dist_config.c:3203 */
+#define MODULE_RG_VLAN 1
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/dist_config.c:3208 */
+#define MODULE_RG_ZERO_CONFIGURATION 1
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/dist_config.c:3202 */
+#define MODULE_RG_ADVANCED_ROUTING 1
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/dist_config.c:3207 */
+#define MODULE_RG_FIREWALL_AND_SECURITY 1
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/sagem_on_the_fly_dist_config.c:118 */
+#define MODULE_RG_WLAN_AND_ADVANCED_WLAN 1
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/sagem_on_the_fly_dist_config.c:65 */
+#define cCONFIG_HW_ETH_WAN 1
+extern int vcCONFIG_HW_ETH_WAN;
+#define CONFIG_HW_ETH_WAN 1
+
+#define cCONFIG_HW_ETH_WAN_BLOCKED 0
+extern int vcCONFIG_HW_ETH_WAN_BLOCKED;
+
+#define cCONFIG_HW_CABLE_WAN 0
+extern int vcCONFIG_HW_CABLE_WAN;
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/sagem_on_the_fly_dist_config.c:66 */
+#define cCONFIG_HW_DSL_WAN 1
+extern int vcCONFIG_HW_DSL_WAN;
+#define CONFIG_HW_DSL_WAN 1
+
+#define cCONFIG_HW_HSS_WAN 0
+extern int vcCONFIG_HW_HSS_WAN;
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/dist_config.c:3279 */
+#define cCONFIG_HW_ETH_LAN 1
+extern int vcCONFIG_HW_ETH_LAN;
+#define CONFIG_HW_ETH_LAN 1
+
+#define cCONFIG_HW_80211G_BCM43XX 0
+extern int vcCONFIG_HW_80211G_BCM43XX;
+
+#define cCONFIG_HW_USB_RNDIS 0
+extern int vcCONFIG_HW_USB_RNDIS;
+
+#define cCONFIG_HW_USB_HOST_UHCI_FEATURE 0
+extern int vcCONFIG_HW_USB_HOST_UHCI_FEATURE;
+
+#define cCONFIG_HW_USB_HOST_EHCI_FEATURE 0
+extern int vcCONFIG_HW_USB_HOST_EHCI_FEATURE;
+
+#define cCONFIG_HW_PCMCIA_CARDBUS_FEATURE 0
+extern int vcCONFIG_HW_PCMCIA_CARDBUS_FEATURE;
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/dist_config.c:3277 */
+#define cCONFIG_HW_LEDS_FEATURE 1
+extern int vcCONFIG_HW_LEDS_FEATURE;
+#define CONFIG_HW_LEDS_FEATURE 1
+#define CONFIG_HW_LEDS 1
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/hw_config.c:1850 */
+#define CONFIG_HW_BLUETOOTH 1
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/dist_config.c:3276 */
+#define cCONFIG_HW_BUTTONS_FEATURE 1
+extern int vcCONFIG_HW_BUTTONS_FEATURE;
+#define CONFIG_HW_BUTTONS_FEATURE 1
+#define CONFIG_HW_BUTTONS_MODULE 1
+
+#define cCONFIG_HW_CLOCK 0
+extern int vcCONFIG_HW_CLOCK;
+
+#define cCONFIG_HW_IDE 0
+extern int vcCONFIG_HW_IDE;
+
+#define cCONFIG_HW_I2C 0
+extern int vcCONFIG_HW_I2C;
+
+#define cCONFIG_HW_ENV_MONITOR 0
+extern int vcCONFIG_HW_ENV_MONITOR;
+
+#define cCONFIG_HW_ST_20190 0
+extern int vcCONFIG_HW_ST_20190;
+
+#define cCONFIG_RG_FLASH_ONLY_ON_BOOT 0
+extern int vcCONFIG_RG_FLASH_ONLY_ON_BOOT;
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/feature_config.c:341 */
+#define cCONFIG_RG_MAC_CLONING 1
+extern int vcCONFIG_RG_MAC_CLONING;
+#define CONFIG_RG_MAC_CLONING 1
+
+#define cCONFIG_RG_WLAN_REPEATING 0
+extern int vcCONFIG_RG_WLAN_REPEATING;
+
+#define cCONFIG_RG_WDS_CONN_NOTIFIER_FEATURE 0
+extern int vcCONFIG_RG_WDS_CONN_NOTIFIER_FEATURE;
+
+#define cCONFIG_RG_UNCONFIGURED_WAN_INTERCEPTION 0
+extern int vcCONFIG_RG_UNCONFIGURED_WAN_INTERCEPTION;
+
+#define cCONFIG_RG_STATISTICS_CTRL_WBM 0
+extern int vcCONFIG_RG_STATISTICS_CTRL_WBM;
+
+#define cCONFIG_RG_WLAN_STA_STATISTICS_WBM 0
+extern int vcCONFIG_RG_WLAN_STA_STATISTICS_WBM;
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/feature_config.c:210 */
+#define cCONFIG_RG_CHECK_BAD_REBOOTS 1
+extern int vcCONFIG_RG_CHECK_BAD_REBOOTS;
+#define CONFIG_RG_CHECK_BAD_REBOOTS 1
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/sagem_on_the_fly_dist_config.c:104 */
+#define cCONFIG_RG_BLUETOOTH 1
+extern int vcCONFIG_RG_BLUETOOTH;
+#define CONFIG_RG_BLUETOOTH 1
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/sagem_on_the_fly_dist_config.c:106 */
+#define cCONFIG_RG_BLUETOOTH_DEBUG_TOOLS 1
+extern int vcCONFIG_RG_BLUETOOTH_DEBUG_TOOLS;
+#define CONFIG_RG_BLUETOOTH_DEBUG_TOOLS 1
+
+#define cCONFIG_BLUEZ_FEATURE 0
+extern int vcCONFIG_BLUEZ_FEATURE;
+
+#define cCONFIG_BLUEZ_L2CAP_FEATURE 0
+extern int vcCONFIG_BLUEZ_L2CAP_FEATURE;
+
+#define cCONFIG_BLUEZ_SCO_FEATURE 0
+extern int vcCONFIG_BLUEZ_SCO_FEATURE;
+
+#define cCONFIG_BLUEZ_RFCOMM_FEATURE 0
+extern int vcCONFIG_BLUEZ_RFCOMM_FEATURE;
+
+#define cCONFIG_BLUEZ_BNEP_FEATURE 0
+extern int vcCONFIG_BLUEZ_BNEP_FEATURE;
+
+#define cCONFIG_BLUEZ_HCIUSB_FEATURE 0
+extern int vcCONFIG_BLUEZ_HCIUSB_FEATURE;
+
+#define cCONFIG_BLUEZ_HCIUART_FEATURE 0
+extern int vcCONFIG_BLUEZ_HCIUART_FEATURE;
+
+#define cCONFIG_BLUEZ_HCIVHCI_FEATURE 0
+extern int vcCONFIG_BLUEZ_HCIVHCI_FEATURE;
+
+#define cCONFIG_BLUEZ_HCIBTUART_FEATURE 0
+extern int vcCONFIG_BLUEZ_HCIBTUART_FEATURE;
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/feature_config.c:2833 */
+#define cCONFIG_BT_FEATURE 1
+extern int vcCONFIG_BT_FEATURE;
+#define CONFIG_BT_FEATURE 1
+#define CONFIG_BT 1
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/feature_config.c:2834 */
+#define cCONFIG_BT_L2CAP_FEATURE 1
+extern int vcCONFIG_BT_L2CAP_FEATURE;
+#define CONFIG_BT_L2CAP_FEATURE 1
+#define CONFIG_BT_L2CAP 1
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/feature_config.c:2836 */
+#define cCONFIG_BT_SCO_FEATURE 1
+extern int vcCONFIG_BT_SCO_FEATURE;
+#define CONFIG_BT_SCO_FEATURE 1
+#define CONFIG_BT_SCO 1
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/feature_config.c:2835 */
+#define cCONFIG_BT_RFCOMM_FEATURE 1
+extern int vcCONFIG_BT_RFCOMM_FEATURE;
+#define CONFIG_BT_RFCOMM_FEATURE 1
+#define CONFIG_BT_RFCOMM 1
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/feature_config.c:2838 */
+#define cCONFIG_BT_BNEP_FEATURE 1
+extern int vcCONFIG_BT_BNEP_FEATURE;
+#define CONFIG_BT_BNEP_FEATURE 1
+#define CONFIG_BT_BNEP 1
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/feature_config.c:2839 */
+#define CONFIG_BT_BNEP_MC_FILTER 1
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/feature_config.c:2840 */
+#define CONFIG_BT_BNEP_PROTO_FILTER 1
+
+#define cCONFIG_BT_HCIUSB_FEATURE 0
+extern int vcCONFIG_BT_HCIUSB_FEATURE;
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/hw_config.c:1863 */
+#define cCONFIG_BT_HCIUART_FEATURE 1
+extern int vcCONFIG_BT_HCIUART_FEATURE;
+#define CONFIG_BT_HCIUART_FEATURE 1
+#define CONFIG_BT_HCIUART_MODULE 1
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/hw_config.c:1864 */
+#define CONFIG_BT_HCIUART_H4 1
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/hw_config.c:1865 */
+#define CONFIG_BT_HCIUART_BCSP 1
+
+#define cCONFIG_BT_HCIVHCI_FEATURE 0
+extern int vcCONFIG_BT_HCIVHCI_FEATURE;
+
+#define cCONFIG_BT_HCIBTUART_FEATURE 0
+extern int vcCONFIG_BT_HCIBTUART_FEATURE;
+
+#define cCONFIG_RG_BLUETOOTH_REQUIRES_MAC 0
+extern int vcCONFIG_RG_BLUETOOTH_REQUIRES_MAC;
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/feature_config.c:2843 */
+#define cCONFIG_RG_BLUETOOTH_PAN 1
+extern int vcCONFIG_RG_BLUETOOTH_PAN;
+#define CONFIG_RG_BLUETOOTH_PAN 1
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/sagem_on_the_fly_dist_config.c:105 */
+#define cCONFIG_RG_OBEX 1
+extern int vcCONFIG_RG_OBEX;
+#define CONFIG_RG_OBEX 1
+
+#define cCONFIG_RG_CTP 0
+extern int vcCONFIG_RG_CTP;
+
+#define cCONFIG_RG_CTP_VOIP_EMULATOR 0
+extern int vcCONFIG_RG_CTP_VOIP_EMULATOR;
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/dist_config.c:3321 */
+#define CONFIG_RG_INITFS_RAMFS 1
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/feature_config.c:2541 */
+#define CONFIG_RG_MAINFS 1
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/dist_config.c:3322 */
+#define CONFIG_RG_MAINFS_CRAMFS 1
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/feature_config.c:2574 */
+#define CONFIG_RG_CRAMFS_COMP_METHOD lzma
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/config_target_os.c:147 */
+#define CONFIG_RG_KERNEL_COMP_METHOD lzma
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/feature_config.c:2668 */
+#define CONFIG_RG_LZMA_COMPRESSED_KERNEL 1
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/feature_config.c:204 */
+#define CONFIG_RG_LICENSE 1
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/config_host.c:389 */
+#define cLIBC_IN_TOOLCHAIN 1
+extern int vcLIBC_IN_TOOLCHAIN;
+#define LIBC_IN_TOOLCHAIN 1
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/hw_config.c:1879 */
+#define cCONFIG_RG_FFS 1
+extern int vcCONFIG_RG_FFS;
+#define CONFIG_RG_FFS 1
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/sagem_on_the_fly_dist_config.c:46 */
+#define CONFIG_SAGEM_QOS 1
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/sagem_on_the_fly_dist_config.c:40 */
+#define CONFIG_SAGEM_EMBEDDED_BINARIES 1
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/sagem_on_the_fly_dist_config.c:18 */
+#define CONFIG_SAGEM_AUTOM_LBV1 1
+
+#define cCONFIG_SAGEM_AUTOM_FAKE_FEATURE 0
+extern int vcCONFIG_SAGEM_AUTOM_FAKE_FEATURE;
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/sagem_on_the_fly_dist_config.c:20 */
+#define CONFIG_SAGEM_UMA 1
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/sagem_on_the_fly_dist_config.c:23 */
+#define CONFIG_SAGEM_TRACEABILITY 1
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/sagem_on_the_fly_dist_config.c:24 */
+#define CONFIG_SAGEM_FU_SAGEM 1
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/sagem_on_the_fly_dist_config.c:25 */
+#define CONFIG_SAGEM_CPEALIVE 1
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/sagem_on_the_fly_dist_config.c:26 */
+#define CONFIG_SAGEM_PROV 1
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/sagem_on_the_fly_dist_config.c:27 */
+#define CONFIG_SAGEM_PARAM_REQUEST 1
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/sagem_on_the_fly_dist_config.c:28 */
+#define CONFIG_SAGEM_PROC_MOD 1
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/dist_config.c:3326 */
+#define CONFIG_SAGEM_FLASHINFOS 1
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/sagem_on_the_fly_dist_config.c:35 */
+#define CONFIG_SAGEM_VOICE 1
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/sagem_on_the_fly_dist_config.c:36 */
+#define CONFIG_SAGEM_GEN_VOICE 1
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/sagem_on_the_fly_dist_config.c:44 */
+#define CONFIG_SAGEM_SIP 1
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/sagem_on_the_fly_dist_config.c:45 */
+#define CONFIG_SAGEM_TEST_PHONE 1
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/sagem_on_the_fly_dist_config.c:30 */
+#define CONFIG_SAGEM_RTP 1
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/sagem_on_the_fly_dist_config.c:29 */
+#define CONFIG_SAGEM_RELAY 1
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/dist_config.c:3328 */
+#define CONFIG_SAGEM_TIMEZONE_FR 1
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/sagem_on_the_fly_dist_config.c:110 */
+#define CONFIG_SAGEM_LIVEZOOM 1
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/sagem_on_the_fly_dist_config.c:38 */
+#define cCONFIG_SAGEM_EZPAIRING 1
+extern int vcCONFIG_SAGEM_EZPAIRING;
+#define CONFIG_SAGEM_EZPAIRING 1
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/sagem_on_the_fly_dist_config.c:37 */
+#define CONFIG_SAGEM_LIBUTILS 1
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/sagem_on_the_fly_dist_config.c:32 */
+#define CONFIG_SAGEM_USB_HOST 1
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/sagem_on_the_fly_dist_config.c:33 */
+#define CONFIG_SAGEM_USB_DECT 1
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/sagem_on_the_fly_dist_config.c:34 */
+#define cCONFIG_THOMSON_USB_DECT 1
+extern int vcCONFIG_THOMSON_USB_DECT;
+#define CONFIG_THOMSON_USB_DECT 1
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/dist_config.c:3306 */
+#define CONFIG_LIVEBOX_CGISCRIPT 1
+
+#define cCONFIG_SAGEM_WIFICOMMUNITY 0
+extern int vcCONFIG_SAGEM_WIFICOMMUNITY;
+
+#define cCONFIG_SAGEM_IPCONF 0
+extern int vcCONFIG_SAGEM_IPCONF;
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/sagem_on_the_fly_dist_config.c:21 */
+#define CONFIG_SAGEM_PHONE_APP 1
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/sagem_on_the_fly_dist_config.c:19 */
+#define cCONFIG_SAGEM_SENACF 1
+extern int vcCONFIG_SAGEM_SENACF;
+#define CONFIG_SAGEM_SENACF 1
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/sagem_on_the_fly_dist_config.c:71 */
+#define CONFIG_SAGEM_OPENSSL 1
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/sagem_on_the_fly_dist_config.c:8 */
+#define CONFIG_SAGEM_LBV2ULT 1
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/sagem_on_the_fly_dist_config.c:7 */
+#define CONFIG_SAGEM_FTTHV2 1
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/sagem_on_the_fly_dist_config.c:6 */
+#define CONFIG_SAGEM_GENERIC_CARD_SUPPORT 1
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/dist_config.c:107 */
+#define cCONFIG_SAGEM_GUI_ADSL_CONFIGURATION 1
+extern int vcCONFIG_SAGEM_GUI_ADSL_CONFIGURATION;
+#define CONFIG_SAGEM_GUI_ADSL_CONFIGURATION 1
+
+#define cCONFIG_SAGEM_GUI_SET_PPPO_FROM_INTERNET_ACCESS 0
+extern int vcCONFIG_SAGEM_GUI_SET_PPPO_FROM_INTERNET_ACCESS;
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/sagem_on_the_fly_dist_config.c:9 */
+#define CONFIG_SAGEM_GPIO_BOXER_FOR_ULT_FW 1
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/sagem_on_the_fly_dist_config.c:12 */
+#define CONFIG_SAGEM_FTTH_V2_STEP2 1
+
+#define cCONFIG_SAGEM_GUI_DUMP 0
+extern int vcCONFIG_SAGEM_GUI_DUMP;
+
+#define cCONFIG_SAGEM_GUI_CFG_LINE_PVC 0
+extern int vcCONFIG_SAGEM_GUI_CFG_LINE_PVC;
+
+#define cCONFIG_SAGEM_GUI_CFG_LINE_CLIP 0
+extern int vcCONFIG_SAGEM_GUI_CFG_LINE_CLIP;
+
+#define cCONFIG_SAGEM_GUI_CFG_LINE_ADV_PPPOA 0
+extern int vcCONFIG_SAGEM_GUI_CFG_LINE_ADV_PPPOA;
+
+#define cCONFIG_SAGEM_GUI_CFG_LINE_ADV_PPPOE 0
+extern int vcCONFIG_SAGEM_GUI_CFG_LINE_ADV_PPPOE;
+
+#define cCONFIG_SAGEM_GUI_CFG_LINE_ADV_L2TP 0
+extern int vcCONFIG_SAGEM_GUI_CFG_LINE_ADV_L2TP;
+
+#define cCONFIG_SAGEM_GUI_CFG_LINE_ADV_CLIP 0
+extern int vcCONFIG_SAGEM_GUI_CFG_LINE_ADV_CLIP;
+
+#define cCONFIG_SAGEM_GUI_CFG_LINE_ADV_BRIDGE 0
+extern int vcCONFIG_SAGEM_GUI_CFG_LINE_ADV_BRIDGE;
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/sagem_on_the_fly_dist_config.c:62 */
+#define cCONFIG_SAGEM_DEVICE_DISCOVERY 1
+extern int vcCONFIG_SAGEM_DEVICE_DISCOVERY;
+#define CONFIG_SAGEM_DEVICE_DISCOVERY 1
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/sagem_on_the_fly_dist_config.c:84 */
+#define cCONFIG_SAGEM_BACKUP_RESTORE 1
+extern int vcCONFIG_SAGEM_BACKUP_RESTORE;
+#define CONFIG_SAGEM_BACKUP_RESTORE 1
+
+#define cCONFIG_SAGEM_BACKUP_RESTORE_DEBUG 0
+extern int vcCONFIG_SAGEM_BACKUP_RESTORE_DEBUG;
+
+#define cCONFIG_FTTH_DEFAULT 0
+extern int vcCONFIG_FTTH_DEFAULT;
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/sagem_on_the_fly_dist_config.c:70 */
+#define CONFIG_SAGEM_DUAL_AF_REBOOT_ON_CHANGE 1
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/sagem_on_the_fly_dist_config.c:69 */
+#define CONFIG_LIVEBOX_DUAL_ADSL_FTTH 1
+
+#define cCONFIG_LIVEBOX_DUAL_PPPOA_PPPOE 0
+extern int vcCONFIG_LIVEBOX_DUAL_PPPOA_PPPOE;
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/dist_config.c:3126 */
+#define cCONFIG_LIVEBOX_PERM_PARAMS 1
+extern int vcCONFIG_LIVEBOX_PERM_PARAMS;
+#define CONFIG_LIVEBOX_PERM_PARAMS 1
+
+#define cCONFIG_SAGEM_GUI_IPSEC 0
+extern int vcCONFIG_SAGEM_GUI_IPSEC;
+
+#define cCONFIG_SAGEM_GUI_EASY_IPSEC 0
+extern int vcCONFIG_SAGEM_GUI_EASY_IPSEC;
+
+#define cCONFIG_SAGEM_DEVICE_DISCOVERY_COMPANY 0
+extern int vcCONFIG_SAGEM_DEVICE_DISCOVERY_COMPANY;
+
+#define cCONFIG_SAGEM_HDD_LOCAL 0
+extern int vcCONFIG_SAGEM_HDD_LOCAL;
+
+#define cCONFIG_SAGEM_GUI_FAX 0
+extern int vcCONFIG_SAGEM_GUI_FAX;
+
+#define cCONFIG_SAGEM_GUI_HARDDISK 0
+extern int vcCONFIG_SAGEM_GUI_HARDDISK;
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/dist_config.c:128 */
+#define cCONFIG_SAGEM_GUI_WIFI_ENERGY 1
+extern int vcCONFIG_SAGEM_GUI_WIFI_ENERGY;
+#define CONFIG_SAGEM_GUI_WIFI_ENERGY 1
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/sagem_on_the_fly_dist_config.c:14 */
+#define cCONFIG_LIVEBOX_WIFI 1
+extern int vcCONFIG_LIVEBOX_WIFI;
+#define CONFIG_LIVEBOX_WIFI 1
+
+#define cWIFI_ATH 0
+extern int vcWIFI_ATH;
+
+#define cWIFI_ATH_N 0
+extern int vcWIFI_ATH_N;
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/sagem_on_the_fly_dist_config.c:13 */
+#define cWIFI_ATH_GN 1
+extern int vcWIFI_ATH_GN;
+#define WIFI_ATH_GN 1
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/sagem_on_the_fly_dist_config.c:16 */
+#define cCONFIG_SAGEM_GUI_WIFI_BG_MIXED 1
+extern int vcCONFIG_SAGEM_GUI_WIFI_BG_MIXED;
+#define CONFIG_SAGEM_GUI_WIFI_BG_MIXED 1
+
+#define cCONFIG_SAGEM_GUI_WIFI_G_ONLY 0
+extern int vcCONFIG_SAGEM_GUI_WIFI_G_ONLY;
+
+#define cCONFIG_SAGEM_GUI_WIFI_B_ONLY 0
+extern int vcCONFIG_SAGEM_GUI_WIFI_B_ONLY;
+
+#define cCONFIG_SAGEM_GUI_WIFI_BGN_MIXED 0
+extern int vcCONFIG_SAGEM_GUI_WIFI_BGN_MIXED;
+
+#define cCONFIG_SAGEM_GUI_WIFI_WEP64 0
+extern int vcCONFIG_SAGEM_GUI_WIFI_WEP64;
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/sagem_on_the_fly_dist_config.c:17 */
+#define cCONFIG_SAGEM_GUI_WIFI_WPAxAUTO_AES_TKIP 1
+extern int vcCONFIG_SAGEM_GUI_WIFI_WPAxAUTO_AES_TKIP;
+#define CONFIG_SAGEM_GUI_WIFI_WPAxAUTO_AES_TKIP 1
+
+#define cCONFIG_SAGEM_GUI_WIFICOMMUNITY 0
+extern int vcCONFIG_SAGEM_GUI_WIFICOMMUNITY;
+
+#define cCONFIG_SAGEM_GUI_VISITORACCESS 0
+extern int vcCONFIG_SAGEM_GUI_VISITORACCESS;
+
+#define cCONFIG_SAGEM_GUI_ROUTE 0
+extern int vcCONFIG_SAGEM_GUI_ROUTE;
+
+#define cCONFIG_SAGEM_GUI_LANGUAGE 0
+extern int vcCONFIG_SAGEM_GUI_LANGUAGE;
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/dist_config.c:104 */
+#define cCONFIG_SAGEM_GUI_LANG_FR 1
+extern int vcCONFIG_SAGEM_GUI_LANG_FR;
+#define CONFIG_SAGEM_GUI_LANG_FR 1
+
+#define cCONFIG_SAGEM_GUI_LANG_EN 0
+extern int vcCONFIG_SAGEM_GUI_LANG_EN;
+
+#define cCONFIG_SAGEM_GUI_LANG_ES 0
+extern int vcCONFIG_SAGEM_GUI_LANG_ES;
+
+#define cCONFIG_SAGEM_GUI_ADV_FILTER 0
+extern int vcCONFIG_SAGEM_GUI_ADV_FILTER;
+
+#define cCONFIG_SAGEM_GUI_INFO_SYS 0
+extern int vcCONFIG_SAGEM_GUI_INFO_SYS;
+
+#define cCONFIG_SAGEM_GUI_RTC 0
+extern int vcCONFIG_SAGEM_GUI_RTC;
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/sagem_on_the_fly_dist_config.c:5 */
+#define cCONFIG_SAGEM_GUI_LOGIN_ENABLED 1
+extern int vcCONFIG_SAGEM_GUI_LOGIN_ENABLED;
+#define CONFIG_SAGEM_GUI_LOGIN_ENABLED 1
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/dist_config.c:127 */
+#define cCONFIG_SAGEM_GUI_INFOSYS_WIFI 1
+extern int vcCONFIG_SAGEM_GUI_INFOSYS_WIFI;
+#define CONFIG_SAGEM_GUI_INFOSYS_WIFI 1
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/dist_config.c:108 */
+#define cCONFIG_SAGEM_GUI_INFOSYS_VOIP 1
+extern int vcCONFIG_SAGEM_GUI_INFOSYS_VOIP;
+#define CONFIG_SAGEM_GUI_INFOSYS_VOIP 1
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/dist_config.c:109 */
+#define cCONFIG_SAGEM_GUI_INFOSYS_USB 1
+extern int vcCONFIG_SAGEM_GUI_INFOSYS_USB;
+#define CONFIG_SAGEM_GUI_INFOSYS_USB 1
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/dist_config.c:110 */
+#define cCONFIG_SAGEM_GUI_INFOSYS_TV 1
+extern int vcCONFIG_SAGEM_GUI_INFOSYS_TV;
+#define CONFIG_SAGEM_GUI_INFOSYS_TV 1
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/dist_config.c:119 */
+#define cCONFIG_SAGEM_GUI_PROTO_PAT_NAT 1
+extern int vcCONFIG_SAGEM_GUI_PROTO_PAT_NAT;
+#define CONFIG_SAGEM_GUI_PROTO_PAT_NAT 1
+
+#define cCONFIG_SAGEM_GUI_PORT_TRIGGERING_ACCESS 0
+extern int vcCONFIG_SAGEM_GUI_PORT_TRIGGERING_ACCESS;
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/dist_config.c:121 */
+#define cCONFIG_SAGEM_GUI_NAT_PAT_SCHEDULE 1
+extern int vcCONFIG_SAGEM_GUI_NAT_PAT_SCHEDULE;
+#define CONFIG_SAGEM_GUI_NAT_PAT_SCHEDULE 1
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/dist_config.c:117 */
+#define CONFIG_SAGEM_GUI_NOT_USED_CODE 1
+
+#define cCONFIG_SAGEM_GUI_SET_PPPOE_PPPOA_FROM_INTERNET_ACCESS 0
+extern int vcCONFIG_SAGEM_GUI_SET_PPPOE_PPPOA_FROM_INTERNET_ACCESS;
+
+#define cCONFIG_SAGEM_GUI_SET_PPPOE_FROM_INTERNET_ACCESS 0
+extern int vcCONFIG_SAGEM_GUI_SET_PPPOE_FROM_INTERNET_ACCESS;
+
+#define cCONFIG_SAGEM_GUI_SET_PPPOA_FROM_INTERNET_ACCESS 0
+extern int vcCONFIG_SAGEM_GUI_SET_PPPOA_FROM_INTERNET_ACCESS;
+
+#define cCONFIG_SAGEM_GUI_DEBUG 0
+extern int vcCONFIG_SAGEM_GUI_DEBUG;
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/sagem_on_the_fly_dist_config.c:101 */
+#define cCONFIG_SAGEM_GUI_WARNING 1
+extern int vcCONFIG_SAGEM_GUI_WARNING;
+#define CONFIG_SAGEM_GUI_WARNING 1
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/sagem_on_the_fly_dist_config.c:102 */
+#define cCONFIG_SAGEM_GUI_ERROR 1
+extern int vcCONFIG_SAGEM_GUI_ERROR;
+#define CONFIG_SAGEM_GUI_ERROR 1
+
+#define cCONFIG_SAGEM_GUI_HW_DEBUG 0
+extern int vcCONFIG_SAGEM_GUI_HW_DEBUG;
+
+#define cCONFIG_SAGEM_GUI_TV_MULTI_DECODERS 0
+extern int vcCONFIG_SAGEM_GUI_TV_MULTI_DECODERS;
+
+#define cCONFIG_SAGEM_FLASH_LAYOUT_LBV2STD 0
+extern int vcCONFIG_SAGEM_FLASH_LAYOUT_LBV2STD;
+
+#define cCONFIG_SAGEM_FLASH_LAYOUT_LBV2MINI 0
+extern int vcCONFIG_SAGEM_FLASH_LAYOUT_LBV2MINI;
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/sagem_on_the_fly_dist_config.c:10 */
+#define cCONFIG_SAGEM_FLASH_LAYOUT_LBV2ULT 1
+extern int vcCONFIG_SAGEM_FLASH_LAYOUT_LBV2ULT;
+#define CONFIG_SAGEM_FLASH_LAYOUT_LBV2ULT 1
+
+#define cCONFIG_SAGEM_FLASH_LAYOUT_LBV2BABY 0
+extern int vcCONFIG_SAGEM_FLASH_LAYOUT_LBV2BABY;
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/feature_config.c:1149 */
+#define cCONFIG_SAGEM_DSA_HDR 1
+extern int vcCONFIG_SAGEM_DSA_HDR;
+#define CONFIG_SAGEM_DSA_HDR 1
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/sagem_on_the_fly_dist_config.c:86 */
+#define cCONFIG_SAGEM_CLI_RG_CONF_PRINT 1
+extern int vcCONFIG_SAGEM_CLI_RG_CONF_PRINT;
+#define CONFIG_SAGEM_CLI_RG_CONF_PRINT 1
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/sagem_on_the_fly_dist_config.c:87 */
+#define cCONFIG_SAGEM_CLI_RG_CONF_SET 1
+extern int vcCONFIG_SAGEM_CLI_RG_CONF_SET;
+#define CONFIG_SAGEM_CLI_RG_CONF_SET 1
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/sagem_on_the_fly_dist_config.c:88 */
+#define cCONFIG_SAGEM_CLI_RG_CONF_SET_OBSCURE 1
+extern int vcCONFIG_SAGEM_CLI_RG_CONF_SET_OBSCURE;
+#define CONFIG_SAGEM_CLI_RG_CONF_SET_OBSCURE 1
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/sagem_on_the_fly_dist_config.c:89 */
+#define cCONFIG_SAGEM_CLI_RG_CONF_DEL 1
+extern int vcCONFIG_SAGEM_CLI_RG_CONF_DEL;
+#define CONFIG_SAGEM_CLI_RG_CONF_DEL 1
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/sagem_on_the_fly_dist_config.c:90 */
+#define cCONFIG_SAGEM_CLI_RG_CONF_PRIV_SET 1
+extern int vcCONFIG_SAGEM_CLI_RG_CONF_PRIV_SET;
+#define CONFIG_SAGEM_CLI_RG_CONF_PRIV_SET 1
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/sagem_on_the_fly_dist_config.c:91 */
+#define cCONFIG_SAGEM_CLI_RG_CONF_PRIV_PRINT 1
+extern int vcCONFIG_SAGEM_CLI_RG_CONF_PRIV_PRINT;
+#define CONFIG_SAGEM_CLI_RG_CONF_PRIV_PRINT 1
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/sagem_on_the_fly_dist_config.c:92 */
+#define cCONFIG_SAGEM_CLI_RG_CONF_PRIV_DEL 1
+extern int vcCONFIG_SAGEM_CLI_RG_CONF_PRIV_DEL;
+#define CONFIG_SAGEM_CLI_RG_CONF_PRIV_DEL 1
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/sagem_on_the_fly_dist_config.c:93 */
+#define cCONFIG_SAGEM_CLI_RG_CONF_RAM_SET 1
+extern int vcCONFIG_SAGEM_CLI_RG_CONF_RAM_SET;
+#define CONFIG_SAGEM_CLI_RG_CONF_RAM_SET 1
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/sagem_on_the_fly_dist_config.c:94 */
+#define cCONFIG_SAGEM_CLI_RG_CONF_RAM_PRINT 1
+extern int vcCONFIG_SAGEM_CLI_RG_CONF_RAM_PRINT;
+#define CONFIG_SAGEM_CLI_RG_CONF_RAM_PRINT 1
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/sagem_on_the_fly_dist_config.c:95 */
+#define cCONFIG_SAGEM_CLI_RG_CONF_RAM_DEL 1
+extern int vcCONFIG_SAGEM_CLI_RG_CONF_RAM_DEL;
+#define CONFIG_SAGEM_CLI_RG_CONF_RAM_DEL 1
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/sagem_on_the_fly_dist_config.c:96 */
+#define cCONFIG_SAGEM_CLI_RECONF 1
+extern int vcCONFIG_SAGEM_CLI_RECONF;
+#define CONFIG_SAGEM_CLI_RECONF 1
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/sagem_on_the_fly_dist_config.c:97 */
+#define cCONFIG_SAGEM_CLI_FLASH_LAYOUT 1
+extern int vcCONFIG_SAGEM_CLI_FLASH_LAYOUT;
+#define CONFIG_SAGEM_CLI_FLASH_LAYOUT 1
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/sagem_on_the_fly_dist_config.c:98 */
+#define cCONFIG_SAGEM_CLI_FLASH_DUMP 1
+extern int vcCONFIG_SAGEM_CLI_FLASH_DUMP;
+#define CONFIG_SAGEM_CLI_FLASH_DUMP 1
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/sagem_on_the_fly_dist_config.c:99 */
+#define cCONFIG_SAGEM_CLI_FLASH_COMMIT 1
+extern int vcCONFIG_SAGEM_CLI_FLASH_COMMIT;
+#define CONFIG_SAGEM_CLI_FLASH_COMMIT 1
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/sagem_on_the_fly_dist_config.c:100 */
+#define cCONFIG_SAGEM_CLI_FLASH_ERASE 1
+extern int vcCONFIG_SAGEM_CLI_FLASH_ERASE;
+#define CONFIG_SAGEM_CLI_FLASH_ERASE 1
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/sagem_on_the_fly_dist_config.c:53 */
+#define CONFIG_SAGEM_RECONF 1
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/sagem_on_the_fly_dist_config.c:52 */
+#define CONFIG_SAGEM_GENAUTOM 1
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/sagem_on_the_fly_dist_config.c:57 */
+#define CONFIG_SAGEM_TR69 1
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/sagem_on_the_fly_dist_config.c:59 */
+#define CONFIG_SAGEM_TR98 1
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/sagem_on_the_fly_dist_config.c:60 */
+#define CONFIG_SAGEM_TR111 1
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/sagem_on_the_fly_dist_config.c:54 */
+#define CONFIG_SAGEM_LIBTR69DM 1
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/sagem_on_the_fly_dist_config.c:51 */
+#define CONFIG_SAGEM_LIBMSG 1
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/sagem_on_the_fly_dist_config.c:61 */
+#define CONFIG_SAGEM_TR104_SIP 1
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/sagem_on_the_fly_dist_config.c:58 */
+#define CONFIG_SAGEM_LIBTR98_FT 1
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/sagem_on_the_fly_dist_config.c:56 */
+#define CONFIG_SAGEM_TR69API 1
+/* /filer1_vol11/dev_projets5/etl/dev/ogallot/box/6813E6/lastcheckout/rg/pkg/build/sagem_on_the_fly_dist_config.c:55 */
+#define CONFIG_SAGEM_LIBTR69FU 1
+#endif
diff -pruwN rp-l2tp-0.4/rg_error.h rp-l2tp-0.4-livebox/rg_error.h
--- rp-l2tp-0.4/rg_error.h	1970-01-01 01:00:00.000000000 +0100
+++ rp-l2tp-0.4-livebox/rg_error.h	2010-03-31 11:45:59.000000000 +0200
@@ -0,0 +1,132 @@
+/****************************************************************************
+ *
+ * /home/bat/bat/fast3202_4_0_21_3_3_1/rg/pkg/util/rg_error.h
+ * 
+ * Copyright (C) Jungo LTD 2004
+ * 
+ * This program is free software; you can redistribute it
+ * and/or modify it under the terms of the GNU General 
+ * Public License as published by the Free Software
+ * Foundation; either version 2 of the License, or (at
+ * your option) any later version.
+ * 
+ * This program is distributed in the hope that it will be
+ * useful, but WITHOUT ANY WARRANTY; without even the implied
+ * warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.
+ * See the GNU General Public License for more details.
+ * 
+ * You should have received a copy of the GNU General Public
+ * License along with this program; if not, write to the Free
+ * Software Foundation, Inc., 59 Temple Place - Suite 330, Boston,
+ * MA 02111-1307, USA.
+ *
+ * Developed by Jungo LTD.
+ * Residential Gateway Software Division
+ * www.jungo.com
+ * info@jungo.com
+ */
+/* SYNC: rg/pkg/util/rg_error.h <-> project/tools/util/rg_error.h */
+
+#ifndef _RG_ERROR_H_
+#define _RG_ERROR_H_
+
+#define OS_INCLUDE_STDARG
+#include "os_includes.h"
+
+/* FIREWALL: syslogd uses this format for deciding which log file to use */
+#define SYSLOG_FIREWALL_FMT 	"RGFW-"
+#define SYSLOG_NAT_FMT 		SYSLOG_FIREWALL_FMT "NAT"
+#define SYSLOG_LOGIN_FMT 	"LOGIN"
+#define SYSLOG_CLI_LOGIN_FMT    SYSLOG_LOGIN_FMT "-CLI"
+#define SYSLOG_WBM_LOGIN_FMT	SYSLOG_LOGIN_FMT "-WBM"
+#define SYSLOG_SYS_UPDOWN_FMT	"SYS_UPDOWN-"
+
+typedef struct {
+    int ind;
+    char *msg;
+} rg_error_msg_t;
+
+/* see 'man 2 syslog' and 'man 3 syslog' for LOG_xxx and KERN_xxx loglevel
+ * definitions */
+#define LLEVEL_MASK 0xf
+#define LEMERG 0
+#define LALERT 1
+#define LCRIT 2
+#define LERR 3
+#define LWARNING 4
+#define LNOTICE 5
+#define LINFO 6
+#define LDEBUG 7
+
+/* From here on it acts as a bit field. */
+#define LFLAGS_MASK 0xf00
+#define LCONSOLE 0x100
+#define LDOEXIT 0x200
+#define LDOREBOOT 0x400
+
+/* 16 most significant bits are user defined */
+#define LUSER_MASK 0xFFFF0000
+
+typedef unsigned int rg_error_level_t;
+
+#define LEXIT (LCRIT | LDOEXIT)
+#define LPANIC (LEMERG | LDOEXIT)
+#define LWARN LWARNING
+
+extern char *rg_error_level_str[];
+
+/* XXX - A temporary hack that defines a level for "good" messages that should
+ *       be given high priority than LINFO (the same priority as LERR).
+ */
+#define LINFO_ERR LNOTICE
+
+typedef void (*rg_error_func_t)(void *data, char *msg, rg_error_level_t level);
+
+/* The space before the ',' is important. Dont del it ! */
+#define rg_error_f(SEVERITY, FMT, ARGS...) \
+    rg_error(SEVERITY, "%s:%d: " FMT, __FUNCTION__, __LINE__ , ## ARGS)
+
+#ifdef OPENRG_DEBUG
+#define RG_DEBUG(level, params...) rg_error_f(level, ## params)
+#else
+#define RG_DEBUG(level, params...) do {} while (0)
+#endif
+    
+/* Every registered function gets a reference to every log message from the
+ * level specified and up.
+ */
+void rg_error_exit_reboot_set(void);
+
+/* Set openrg thread_id for rg_error */
+void rg_error_set_mt_id(void);
+
+/* Every registered function gets a reference to every log message from the
+ * level specified and up.
+ */
+void default_error_cb(void *data, char *msg, rg_error_level_t level);
+void rg_error_register(int sequence, rg_error_level_t level,
+    rg_error_func_t func, void *data);
+int rg_error_unregister(rg_error_func_t func, void *data);
+
+void rg_openlog(char *ident, int option, int  facility);
+int rg_error(rg_error_level_t severity, const char *format, ...)
+    __attribute__((__format__(__printf__, 2, 3)));
+int rg_verror(rg_error_level_t severity, const char *format, va_list ap);
+int rg_perror(rg_error_level_t severity, const char *format, ...)
+    __attribute__((__format__(__printf__, 2, 3)));
+int rg_vperror(rg_error_level_t severity, const char *format, va_list ap);
+void rg_closelog(void);
+
+#ifdef RG_ERROR_INTERNALS
+/* Deliver log message directly, must be used only within openrg */
+void log_msg_deliver(rg_error_level_t severity, char *msg);
+#endif
+
+void rg_error_init(int _reboot_on_exit, int _reboot_on_panic,
+    int strace, char *process, rg_error_level_t console_level,
+    int (*_main_addr)(int, char *[]), const char *_main_name);
+void rg_error_init_default(rg_error_level_t level);
+void rg_error_init_nodefault(void);
+
+#endif
+
diff -pruwN rp-l2tp-0.4/rg_ipc.h rp-l2tp-0.4-livebox/rg_ipc.h
--- rp-l2tp-0.4/rg_ipc.h	1970-01-01 01:00:00.000000000 +0100
+++ rp-l2tp-0.4-livebox/rg_ipc.h	2010-03-31 11:45:59.000000000 +0200
@@ -0,0 +1,65 @@
+/****************************************************************************
+ *
+ * /home/gil/dev/rg.tag/pkg/l2tp/rg_ipc.h
+ * 
+ * Copyright (C) Jungo LTD 2004
+ * 
+ * This program is free software; you can redistribute it
+ * and/or modify it under the terms of the GNU General 
+ * Public License as published by the Free Software
+ * Foundation; either version 2 of the License, or (at
+ * your option) any later version.
+ * 
+ * This program is distributed in the hope that it will be
+ * useful, but WITHOUT ANY WARRANTY; without even the implied
+ * warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.
+ * See the GNU General Public License for more details.
+ * 
+ * You should have received a copy of the GNU General Public
+ * License along with this program; if not, write to the Free
+ * Software Foundation, Inc., 59 Temple Place - Suite 330, Boston,
+ * MA 02111-1307, USA.
+ *
+ * Developed by Jungo LTD.
+ * Residential Gateway Software Division
+ * www.jungo.com
+ * info@jungo.com
+ */
+
+#ifndef _RG_IPC_H_
+#define _RG_IPC_H_
+
+#include "ipc.h"
+
+/* IPC messages between openrg and l2tpd are as follows:
+ * - Openrg sends L2M_CONNECT message with params. If shared_secret_len is
+ *   non-zero then the message is followed by the shared secret string.
+ * - When session is established, l2tpd sends L2M_CONNECT message to main
+ *   task, with the same params (but without the shared secret),
+ *   Openrg uses the id field in params to identify the session.
+ * - When openrg is ready, it sends L2M_ATTACH message to l2tpd with a device
+ *   name throu which both process are going to pass PPP data.
+ *   l2tpd uses the id field in params to identify the session and closes it.
+ * - When l2tpd is up and running it sends a L2M_READY message to main task,
+ *   which can now try to connect.
+ */
+typedef struct {
+    int id; /* must be unique for each session */
+    struct in_addr server_ip;
+    int shared_secret_len;
+} l2tpc_ipc_params_t;
+
+typedef enum {
+    L2M_CONNECT = 1,
+    L2M_ATTACH = 2,
+    L2M_CLOSE = 3,
+    L2M_READY = 4,
+} l2tpd_msg_type_t;
+
+typedef struct {
+    l2tpd_msg_type_t type;
+    l2tpc_ipc_params_t params; /* used also to identify session */
+} l2tpd_msg_t;
+
+#endif
+
diff -pruwN rp-l2tp-0.4/rg_memory.c rp-l2tp-0.4-livebox/rg_memory.c
--- rp-l2tp-0.4/rg_memory.c	1970-01-01 01:00:00.000000000 +0100
+++ rp-l2tp-0.4-livebox/rg_memory.c	2010-03-31 11:45:59.000000000 +0200
@@ -0,0 +1,76 @@
+/****************************************************************************
+ *
+ * /home/bat/bat/fast3202_4_0_21_3_3_1/rg/pkg/util/rg_memory.c
+ * 
+ * Copyright (C) Jungo LTD 2004
+ * 
+ * This program is free software; you can redistribute it
+ * and/or modify it under the terms of the GNU General 
+ * Public License as published by the Free Software
+ * Foundation; either version 2 of the License, or (at
+ * your option) any later version.
+ * 
+ * This program is distributed in the hope that it will be
+ * useful, but WITHOUT ANY WARRANTY; without even the implied
+ * warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.
+ * See the GNU General Public License for more details.
+ * 
+ * You should have received a copy of the GNU General Public
+ * License along with this program; if not, write to the Free
+ * Software Foundation, Inc., 59 Temple Place - Suite 330, Boston,
+ * MA 02111-1307, USA.
+ *
+ * Developed by Jungo LTD.
+ * Residential Gateway Software Division
+ * www.jungo.com
+ * info@jungo.com
+ */
+/* SYNC: rg/pkg/util/rg_memory.c <-> project/tools/util/memory.c */
+
+#define OS_INCLUDE_STD
+#define OS_INCLUDE_IO
+#include "os_includes.h"
+
+/* OpenRG GPL includes */
+#include "openrg_gpl.h"
+#include "rg_memory.h"
+/* Note this code is GPL Licence, so do not add any new 
+ * openrg incude files here. Talk to TL or SA before any change
+ */
+
+void _zfree(void **p)
+{
+    if (!*p)
+	return;
+    free(*p);
+    *p = NULL;
+}
+	
+void *memdup_log(rg_error_level_t severity, void *ptr, int len)
+{
+    void *dst;
+
+    if (!(dst = memdup(ptr, len)))
+	rg_error(severity, "memdup(buf %p len %d) failed", ptr, len);
+    return dst;
+}
+
+void *memdup_l(void *ptr, size_t size)
+{
+    return memdup_log(LERR, ptr, size);
+}
+
+void *memdup_e(void *ptr, size_t size)
+{
+    return memdup_log(LEXIT, ptr, size);
+}
+
+void *memdup(void *ptr, size_t size)
+{
+    void *dst;
+    if (!(dst = malloc(size)))
+	return NULL;
+    memcpy(dst, ptr, size);
+    return dst;
+}
+
diff -pruwN rp-l2tp-0.4/rg_memory.h rp-l2tp-0.4-livebox/rg_memory.h
--- rp-l2tp-0.4/rg_memory.h	1970-01-01 01:00:00.000000000 +0100
+++ rp-l2tp-0.4-livebox/rg_memory.h	2010-03-31 11:45:59.000000000 +0200
@@ -0,0 +1,44 @@
+/****************************************************************************
+ *
+ * /home/bat/bat/fast3202_4_0_21_3_3_1/rg/pkg/util/rg_memory.h
+ * 
+ * Copyright (C) Jungo LTD 2004
+ * 
+ * This program is free software; you can redistribute it
+ * and/or modify it under the terms of the GNU General 
+ * Public License as published by the Free Software
+ * Foundation; either version 2 of the License, or (at
+ * your option) any later version.
+ * 
+ * This program is distributed in the hope that it will be
+ * useful, but WITHOUT ANY WARRANTY; without even the implied
+ * warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.
+ * See the GNU General Public License for more details.
+ * 
+ * You should have received a copy of the GNU General Public
+ * License along with this program; if not, write to the Free
+ * Software Foundation, Inc., 59 Temple Place - Suite 330, Boston,
+ * MA 02111-1307, USA.
+ *
+ * Developed by Jungo LTD.
+ * Residential Gateway Software Division
+ * www.jungo.com
+ * info@jungo.com
+ */
+/* SYNC: rg/pkg/util/rg_memory.h <-> project/tools/util/memory.h */
+
+#ifndef _RG_MEMORY_H_
+#define _RG_MEMORY_H_
+
+#define OS_INCLUDE_STD
+#include "os_includes.h"
+
+void *memdup(void *ptr, size_t size);
+void *memdup_e(void *ptr, size_t size);
+void *memdup_l(void *ptr, size_t size);
+void _zfree(void **p);
+
+#define zfree(x) _zfree((void **) &(x))
+
+#endif
+
diff -pruwN rp-l2tp-0.4/rg_os.h rp-l2tp-0.4-livebox/rg_os.h
--- rp-l2tp-0.4/rg_os.h	1970-01-01 01:00:00.000000000 +0100
+++ rp-l2tp-0.4-livebox/rg_os.h	2010-03-31 11:45:59.000000000 +0200
@@ -0,0 +1,114 @@
+/****************************************************************************
+ *
+ * /home/bat/bat/fast3202_4_0_21_3_3_1/rg/pkg/include/rg_os.h
+ * 
+ * Copyright (C) Jungo LTD 2004
+ * 
+ * This program is free software; you can redistribute it
+ * and/or modify it under the terms of the GNU General 
+ * Public License as published by the Free Software
+ * Foundation; either version 2 of the License, or (at
+ * your option) any later version.
+ * 
+ * This program is distributed in the hope that it will be
+ * useful, but WITHOUT ANY WARRANTY; without even the implied
+ * warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.
+ * See the GNU General Public License for more details.
+ * 
+ * You should have received a copy of the GNU General Public
+ * License along with this program; if not, write to the Free
+ * Software Foundation, Inc., 59 Temple Place - Suite 330, Boston,
+ * MA 02111-1307, USA.
+ *
+ * Developed by Jungo LTD.
+ * Residential Gateway Software Division
+ * www.jungo.com
+ * info@jungo.com
+ */
+/* SYNC: rg/pkg/include/rg_os.h <-> project/tools/util/rg_os.h */
+
+#ifndef _RG_OS_H_
+#define _RG_OS_H_
+
+#if USE_BASIC_HOST_CONFIG
+#include "host_config.h"
+#else
+#include "rg_config.h"
+#endif
+
+#ifdef __TARGET__
+  #if defined(CONFIG_RG_TARGET_LINUX)
+    #define __OS_LINUX__
+  #elif defined(CONFIG_RG_TARGET_VXWORKS)
+    #define __OS_VXWORKS__
+    #define __OS_BSD__ /* VxWorks is BSD compliant */
+  #elif defined(CONFIG_RG_TARGET_ECOS)
+    #define __OS_ECOS__
+  #endif
+#elif defined(__HOST__)
+  #if defined(CONFIG_RG_HOST_LINUX)
+    #define __OS_LINUX__
+  #elif defined(CONFIG_RG_HOST_CYGWIN)
+    #define __OS_CYGWIN__
+  #endif
+#else
+  #error "__HOST__/__TARGET__ not defined"
+#endif
+
+#ifdef CONFIG_RG_TARGET_VXWORKS
+#define CONFIG_RG_TARGET_BSD
+#endif
+
+#if defined(__OS_VXWORKS__) || defined(__OS_ECOS__)
+#define __USERMODE_IN_KERNEL__
+#endif
+
+#if defined(__OS_VXWORKS__)
+  #define RG_OS_CONSOLE "/tyCo/0"
+#elif defined(__OS_LINUX__)
+  #define RG_OS_CONSOLE "/dev/console"
+#endif
+
+#define RG_OS_O_BINARY 0
+
+/* This file contains header files which should be included always for an OS.
+ * For example, in case of VxWorks, it's always needed to include vxWorks.h
+ */
+#if defined(__OS_VXWORKS__)
+  #include <vxWorks.h>
+  #define __BYTE_ORDER _BYTE_ORDER
+  #define __BIG_ENDIAN _BIG_ENDIAN
+  #define __LITTLE_ENDIAN _LITTLE_ENDIAN
+#elif defined(__OS_LINUX__)
+  #ifdef __KERNEL__
+    #include <asm/byteorder.h>
+    /* Linux user-mode has __BYTE_ORDER defined, but the kernel does not */
+    #ifdef CONFIG_CPU_LITTLE_ENDIAN
+      #define __BYTE_ORDER __LITTLE_ENDIAN
+    #elif defined(CONFIG_CPU_BIG_ENDIAN)
+      #define __BYTE_ORDER __BIG_ENDIAN
+    #else
+      #error "Unable to define __BYTE_ORDER"
+    #endif
+  #else
+    #include <endian.h>
+  #endif
+#endif
+
+/* Quick hack: Currently, we only support x86 hosts, which are little endian.
+ * This defined either LITTLE_ENDIAN_HOST or BIG_ENDIAN_HOST (not supported).
+ */
+#if defined(CONFIG_RG_HOST_LINUX) || defined(CONFIG_RG_HOST_CYGWIN)
+  #define LITTLE_ENDIAN_HOST 1
+#endif
+
+/* This defined either LITTLE_ENDIAN_TARGET or BIG_ENDIAN_TARGET */
+#if defined(CONFIG_CPU_LITTLE_ENDIAN)
+  #define LITTLE_ENDIAN_TARGET 1
+#elif defined(CONFIG_CPU_BIG_ENDIAN)
+  #define BIG_ENDIAN_TARGET 1
+#else
+  #error "No endianess defined"
+#endif
+
+#endif
diff -pruwN rp-l2tp-0.4/rg_types.h rp-l2tp-0.4-livebox/rg_types.h
--- rp-l2tp-0.4/rg_types.h	1970-01-01 01:00:00.000000000 +0100
+++ rp-l2tp-0.4-livebox/rg_types.h	2010-03-31 11:45:59.000000000 +0200
@@ -0,0 +1,59 @@
+/****************************************************************************
+ *
+ * /home/bat/bat/fast3202_4_0_21_3_3_1/rg/pkg/include/rg_types.h
+ * 
+ * Copyright (C) Jungo LTD 2004
+ * 
+ * This program is free software; you can redistribute it
+ * and/or modify it under the terms of the GNU General 
+ * Public License as published by the Free Software
+ * Foundation; either version 2 of the License, or (at
+ * your option) any later version.
+ * 
+ * This program is distributed in the hope that it will be
+ * useful, but WITHOUT ANY WARRANTY; without even the implied
+ * warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.
+ * See the GNU General Public License for more details.
+ * 
+ * You should have received a copy of the GNU General Public
+ * License along with this program; if not, write to the Free
+ * Software Foundation, Inc., 59 Temple Place - Suite 330, Boston,
+ * MA 02111-1307, USA.
+ *
+ * Developed by Jungo LTD.
+ * Residential Gateway Software Division
+ * www.jungo.com
+ * info@jungo.com
+ */
+
+#ifndef _RG_TYPES_H_
+#define _RG_TYPES_H_
+
+#include "rg_os.h"
+
+#if !(defined(__OS_LINUX__) && defined(__KERNEL__))
+typedef signed char s8;
+typedef unsigned char u8;
+typedef signed short s16;
+typedef unsigned short u16;
+typedef signed int s32;
+typedef unsigned int u32;
+#ifndef HAVE_S64_TYPEDEF
+#define HAVE_S64_TYPEDEF
+typedef signed long long s64;
+#endif
+#ifndef HAVE_U64_TYPEDEF
+#define HAVE_U64_TYPEDEF
+typedef unsigned long long u64;
+#endif
+#endif
+
+#ifdef __OS_VXWORKS__
+typedef	unsigned char u_int8_t;
+typedef	unsigned short int u_int16_t;
+typedef	unsigned int u_int32_t;
+typedef unsigned long int ulong;
+typedef unsigned long long uint64_t;
+#endif
+
+#endif
diff -pruwN rp-l2tp-0.4/session.c rp-l2tp-0.4-livebox/session.c
--- rp-l2tp-0.4/session.c	2004-07-01 16:58:55.000000000 +0200
+++ rp-l2tp-0.4-livebox/session.c	2010-03-31 11:45:59.000000000 +0200
@@ -14,7 +14,7 @@
 ***********************************************************************/
 
 static char const RCSID[] =
-"$Id: session.c,v 1.3 2003/12/22 14:57:33 dskoll Exp $";
+"$Id$";
 
 #include "l2tp.h"
 #include <stddef.h>
@@ -95,13 +95,13 @@ l2tp_session_hash_init(hash_table *tab)
 *  Frees a session, closing down all resources associated with it.
 ***********************************************************************/
 void
-l2tp_session_free(l2tp_session *ses, char const *reason, int may_reestablish)
+l2tp_session_free(l2tp_session *ses, char const *reason)
 {
     session_set_state(ses, SESSION_IDLE);
     DBG(l2tp_db(DBG_SESSION, "session_free(%s) %s\n",
 	   l2tp_debug_session_to_str(ses), reason));
     if (ses->call_ops && ses->call_ops->close) {
-	ses->call_ops->close(ses, reason, may_reestablish);
+	ses->call_ops->close(ses, reason);
     }
     memset(ses, 0, sizeof(l2tp_session));
     free(ses);
@@ -210,7 +210,7 @@ l2tp_session_notify_tunnel_open(l2tp_ses
 			      0);
     if (!dgram) {
 	l2tp_set_errmsg("Could not establish session - out of memory");
-	l2tp_tunnel_delete_session(ses, "Out of memory", 0);
+	l2tp_tunnel_delete_session(ses, "Out of memory");
 	return;
     }
 
@@ -375,7 +375,7 @@ l2tp_session_send_CDN(l2tp_session *ses,
     l2tp_tunnel_xmit_control_message(tunnel, dgram);
 
     /* Free session */
-    l2tp_tunnel_delete_session(ses, buf+4, 0);
+    l2tp_tunnel_delete_session(ses, buf+4);
 }
 
 /**********************************************************************
@@ -473,7 +473,7 @@ l2tp_session_handle_CDN(l2tp_session *se
     val = l2tp_dgram_search_avp(dgram, ses->tunnel, NULL, NULL, &len,
 				VENDOR_IETF, AVP_RESULT_CODE);
     if (!val || len < 4) {
-	l2tp_tunnel_delete_session(ses, "Received CDN", 0);
+	l2tp_tunnel_delete_session(ses, "Received CDN");
     } else {
 	uint16_t result_code, error_code;
 	char *msg;
@@ -486,7 +486,7 @@ l2tp_session_handle_CDN(l2tp_session *se
 	}
 	snprintf(buf, sizeof(buf), "Received CDN: result-code = %d, error-code = %d, message = '%.*s'", result_code, error_code, (int) len-4, msg);
 	buf[1023] = 0;
-	l2tp_tunnel_delete_session(ses, buf, 0);
+	l2tp_tunnel_delete_session(ses, buf);
     }
 }
 
@@ -577,7 +577,6 @@ l2tp_session_handle_ICRP(l2tp_session *s
 
     /* Set session state */
     session_set_state(ses, SESSION_ESTABLISHED);
-    ses->tunnel->peer->fail = 0;
 
 }
 
@@ -612,7 +611,6 @@ l2tp_session_handle_ICCN(l2tp_session *s
 
     /* Set session state */
     session_set_state(ses, SESSION_ESTABLISHED);
-    ses->tunnel->peer->fail = 0;
 
     /* Pull out and examine AVP's */
     while(1) {
diff -pruwN rp-l2tp-0.4/tunnel.c rp-l2tp-0.4-livebox/tunnel.c
--- rp-l2tp-0.4/tunnel.c	2004-07-01 16:58:56.000000000 +0200
+++ rp-l2tp-0.4-livebox/tunnel.c	2010-03-31 11:45:59.000000000 +0200
@@ -13,9 +13,6 @@
 *
 ***********************************************************************/
 
-static char const RCSID[] =
-"$Id: tunnel.c,v 1.6 2003/12/22 14:57:33 dskoll Exp $";
-
 #include "l2tp.h"
 #include <stddef.h>
 #include <stdarg.h>
@@ -52,6 +49,9 @@ static void tunnel_finally_cleanup(Event
 static void tunnel_do_hello(EventSelector *es, int fd,
 			    unsigned int flags, void *data);
 
+static void tunnel_do_id(EventSelector *es, int fd,
+			    unsigned int flags, void *data);
+
 static void tunnel_dequeue_acked_packets(l2tp_tunnel *tunnel);
 
 static void tunnel_send_StopCCN(l2tp_tunnel *tunnel,
@@ -63,16 +63,16 @@ static int tunnel_set_params(l2tp_tunnel
 
 static int tunnel_outstanding_frames(l2tp_tunnel *tunnel);
 static void tunnel_setup_hello(l2tp_tunnel *tunnel);
+static void tunnel_setup_hid(l2tp_tuid *tuid,int teta);
 static void tunnel_tell_sessions_tunnel_open(l2tp_tunnel *tunnel);
 static l2tp_tunnel *tunnel_establish(l2tp_peer *peer, EventSelector *es);
-static l2tp_tunnel *tunnel_find_bypeer(struct sockaddr_in addr);
 
 static char *state_names[] = {
     "idle", "wait-ctl-reply", "wait-ctl-conn", "established",
     "received-stop-ccn", "sent-stop-ccn"
 };
 
-#define VENDOR_STR "Roaring Penguin Software Inc."
+#define VENDOR_STR "Jungo Ltd"
 
 /* Comparison of serial numbers according to RFC 1982 */
 #define SERIAL_GT(a, b) \
@@ -118,16 +118,21 @@ l2tp_tunnel_find_by_my_id(uint16_t id)
 /**********************************************************************
 * %FUNCTION: tunnel_find_bypeer
 * %ARGUMENTS:
-*  addr -- peer address
+*  peer -- peer
 * %RETURNS:
-*  A tunnel whose peer_addr field equals addr, or NULL if no such tunnel
+*  A tunnel whose peer field equals peer, or NULL if no such tunnel
 ***********************************************************************/
-static l2tp_tunnel *
-tunnel_find_bypeer(struct sockaddr_in addr)
+l2tp_tunnel *
+tunnel_find_bypeer(l2tp_peer *peer)
 {
-    l2tp_tunnel candidate;
-    candidate.peer_addr = addr;
-    return hash_find(&tunnels_by_peer_address, &candidate);
+    void *cursor;
+    l2tp_tunnel *tunnel;
+
+    for (tunnel = hash_start(&tunnels_by_my_id, &cursor);
+       	tunnel && tunnel->peer != peer;
+	tunnel = hash_next(&tunnels_by_my_id, &cursor));
+
+    return tunnel;
 }
 
 /**********************************************************************
@@ -137,6 +142,7 @@ tunnel_find_bypeer(struct sockaddr_in ad
 * %RETURNS:
 *  A string representing flow-control info (used for debugging)
 ***********************************************************************/
+#ifdef ENABLE_DEBUG
 static char const *
 tunnel_flow_control_stats(l2tp_tunnel *tunnel)
 {
@@ -149,6 +155,7 @@ tunnel_flow_control_stats(l2tp_tunnel *t
 	     tunnel_outstanding_frames(tunnel));
     return buf;
 }
+#endif
 
 /**********************************************************************
 * %FUNCTION: tunnel_outstanding_frames
@@ -422,6 +429,25 @@ l2tp_tunnel_init(EventSelector *es)
     l2tp_register_shutdown_handler(tunnel_cleanup, es);
 }
 
+/* extension to the tunnel ctx */
+static l2tp_tuid *
+tuid_new(l2tp_tunnel *tunnel,int id)
+{
+    l2tp_tuid *tuid = malloc(sizeof(l2tp_tuid));
+    if (!tuid) return NULL;
+
+    memset(tuid, 0, sizeof(l2tp_tuid));
+
+    tuid->tunnel = tunnel;
+    tuid->id = id;
+    tuid->sd = 0;
+    tuid->es = tunnel->es;
+    tuid->getid = tunnel->peer->getid;
+    tuid->sigid = tunnel->peer->sigid;
+
+    return tuid;
+}
+
 /**********************************************************************
 * %FUNCTION: tunnel_new
 * %ARGUMENTS:
@@ -474,8 +500,12 @@ tunnel_free(l2tp_tunnel *tunnel)
     for (ses = hash_start(&tunnel->sessions_by_my_id, &cursor);
 	 ses ;
 	 ses = hash_next(&tunnel->sessions_by_my_id, &cursor)) {
-	l2tp_session_free(ses, "Tunnel closing down", 1);
+	l2tp_session_free(ses, "Tunnel closing down");
     }
+
+    if (tunnel->close)
+	tunnel->close(tunnel);
+
     if (tunnel->hello_handler) Event_DelHandler(es, tunnel->hello_handler);
     if (tunnel->timeout_handler) Event_DelHandler(es, tunnel->timeout_handler);
     if (tunnel->ack_handler) Event_DelHandler(es, tunnel->ack_handler);
@@ -483,6 +513,13 @@ tunnel_free(l2tp_tunnel *tunnel)
     while(tunnel->xmit_queue_head) {
 	tunnel_dequeue_head(tunnel);
     }
+    
+    /* assume that if tuid exists then tuid tunnel ref is undesirable */
+    if (tunnel->tuid)
+      {
+      tunnel->tuid->tunnel = NULL;	
+      }
+    
     memset(tunnel, 0, sizeof(l2tp_tunnel));
     free(tunnel);
 }
@@ -531,11 +568,11 @@ tunnel_send_SCCRQ(l2tp_tunnel *tunnel)
     unsigned char tie_breaker[8];
     unsigned char challenge[16];
     int old_hide;
-    char *hostname;
 
     l2tp_dgram *dgram = l2tp_dgram_new_control(MESSAGE_SCCRQ, 0, 0);
     if (!dgram) return -1;
 
+
     /* Add the AVP's */
     /* HACK!  Cisco equipment cannot handle hidden AVP's in SCCRQ.
        So we temporarily disable AVP hiding */
@@ -552,12 +589,10 @@ tunnel_send_SCCRQ(l2tp_tunnel *tunnel)
     l2tp_dgram_add_avp(dgram, tunnel, MANDATORY,
 		  sizeof(u32), VENDOR_IETF, AVP_FRAMING_CAPABILITIES, &u32);
 
-    hostname = tunnel->peer->hostname ? tunnel->peer->hostname : Hostname;
-
     /* Host name */
     l2tp_dgram_add_avp(dgram, tunnel, MANDATORY,
-		  strlen(hostname), VENDOR_IETF, AVP_HOST_NAME,
-		  hostname);
+		  strlen(Hostname), VENDOR_IETF, AVP_HOST_NAME,
+		  Hostname);
 
     /* Assigned ID */
     u16 = htons(tunnel->my_id);
@@ -615,6 +650,7 @@ l2tp_tunnel_handle_received_control_data
 					     struct sockaddr_in *from)
 {
     l2tp_tunnel *tunnel;
+    int old_state;
 
     /* If it's SCCRQ, then handle it */
     if (dgram->msg_type == MESSAGE_SCCRQ) {
@@ -628,7 +664,6 @@ l2tp_tunnel_handle_received_control_data
 	return;
     }
     tunnel = l2tp_tunnel_find_by_my_id(dgram->tid);
-
     if (!tunnel) {
 	/* TODO: Send error message back? */
 	l2tp_set_errmsg("Invalid control message - unknown tunnel ID %d",
@@ -637,7 +672,7 @@ l2tp_tunnel_handle_received_control_data
     }
 
     /* Verify that source address is the tunnel's peer */
-    if (tunnel->peer && tunnel->peer->validate_peer_ip) {
+    if (tunnel->peer->validate_peer_ip) {
 	if (from->sin_addr.s_addr != tunnel->peer_addr.sin_addr.s_addr) {
 	    l2tp_set_errmsg("Invalid control message for tunnel %s - not sent from peer",
 			    l2tp_debug_tunnel_to_str(tunnel));
@@ -690,6 +725,8 @@ l2tp_tunnel_handle_received_control_data
     tunnel->retransmissions = 0;
     tunnel->timeout = 1;
 
+    old_state = tunnel->state;
+
     /* Throw away ack'd packets in our xmit queue */
     tunnel_dequeue_acked_packets(tunnel);
 
@@ -706,10 +743,15 @@ l2tp_tunnel_handle_received_control_data
 	    tunnel->timeout_handler = NULL;
 	}
 	if (tunnel->state == TUNNEL_RECEIVED_STOP_CCN) {
-	    tunnel_schedule_destruction(tunnel);
+	    tunnel_free(tunnel);
 	} else if (tunnel->state == TUNNEL_SENT_STOP_CCN) {
+	    if (old_state == TUNNEL_SENT_STOP_CCN) {
 	    /* Our stop-CCN has been ack'd, destroy NOW */
 	    tunnel_free(tunnel);
+	    } else {
+		/* we just sent stop-CCN - wait for ack */
+		tunnel_schedule_destruction(tunnel);
+	    }
 	}
     }
 }
@@ -735,7 +777,6 @@ tunnel_handle_SCCRQ(l2tp_dgram *dgram,
     uint16_t u16;
     uint32_t u32;
     unsigned char challenge[16];
-    char *hostname;
 
     /* TODO: Check if this is a retransmitted SCCRQ */
     /* Allocate a tunnel */
@@ -774,12 +815,10 @@ tunnel_handle_SCCRQ(l2tp_dgram *dgram,
     l2tp_dgram_add_avp(dgram, tunnel, MANDATORY,
 		  sizeof(u32), VENDOR_IETF, AVP_FRAMING_CAPABILITIES, &u32);
 
-    hostname = tunnel->peer->hostname ? tunnel->peer->hostname : Hostname;
-
     /* Host name */
     l2tp_dgram_add_avp(dgram, tunnel, MANDATORY,
-		  strlen(hostname), VENDOR_IETF, AVP_HOST_NAME,
-		  hostname);
+		  strlen(Hostname), VENDOR_IETF, AVP_HOST_NAME,
+		  Hostname);
 
     /* Assigned ID */
     u16 = htons(tunnel->my_id);
@@ -963,12 +1002,31 @@ tunnel_handle_timeout(EventSelector *es,
     tunnel->cwnd_counter = 0;
 
     tunnel->retransmissions++;
-    if (tunnel->retransmissions >= MAX_RETRANSMISSIONS) {
-	l2tp_set_errmsg("Too many retransmissions on tunnel (%s); closing down",
-		   l2tp_debug_tunnel_to_str(tunnel));
-	/* Close tunnel... */
+
+    if (tunnel->retransmissions >= 5)
+      {
+      /* stop the tunnel gently */
+      /* if we can recover a peer corresponding ? */
+      if (tunnel->peer && tunnel->peer->getid)
+        {
+        /* new tunnel id ctx tunnel is about to be destructed */
+        tunnel->tuid = tuid_new(tunnel,tunnel->peer->getid(tunnel->peer));
+        tunnel_setup_hid(tunnel->tuid,7);
+        l2tp_tunnel_stop_tunnel(tunnel, "Tunnel Max Retransmissions");	
+        }
+      else
+        {
+        /* brutal death */
 	tunnel_free(tunnel);
-	return;
+        }
+      }
+    else
+      {
+      /* clean the tunnel id ref ctx */
+      if (tunnel->tuid && tunnel->tuid->tunnel != tunnel)
+        {
+        tunnel->tuid = NULL;
+        }	
     }
 
     /* Double timeout, capping at 8 seconds */
@@ -1066,7 +1124,7 @@ tunnel_handle_StopCCN(l2tp_tunnel *tunne
 	 ses ;
 	 ses = hash_next(&tunnel->sessions_by_my_id, &cursor)) {
 	hash_remove(&tunnel->sessions_by_my_id, ses);
-	l2tp_session_free(ses, "Tunnel closing down", 1);
+	l2tp_session_free(ses, "Tunnel closing down");
     }
 
     tunnel_set_state(tunnel, TUNNEL_RECEIVED_STOP_CCN);
@@ -1216,6 +1274,11 @@ tunnel_schedule_destruction(l2tp_tunnel
     DBG(l2tp_db(DBG_TUNNEL, "tunnel_schedule_destruction(%s)\n",
 	   l2tp_debug_tunnel_to_str(tunnel)));
     /* Shut down the tunnel in 31 seconds - (ab)use the hello handler */
+    if (tunnel->tuid)
+      {
+      tunnel->tuid->sd = 1;
+      tunnel->tuid->tunnel = NULL;	
+      }
     if (tunnel->hello_handler) {
 	Event_DelHandler(tunnel->es, tunnel->hello_handler);
     }
@@ -1227,7 +1290,7 @@ tunnel_schedule_destruction(l2tp_tunnel
     for (ses = hash_start(&tunnel->sessions_by_my_id, &cursor);
 	 ses ;
 	 ses = hash_next(&tunnel->sessions_by_my_id, &cursor)) {
-	l2tp_session_free(ses, "Tunnel closing down", 1);
+	l2tp_session_free(ses, "Tunnel closing down");
     }
 
     /* Clear hash table */
@@ -1332,23 +1395,8 @@ tunnel_set_params(l2tp_tunnel *tunnel,
 
     uint16_t u16;
 
-    /* Get host name */
-    val = l2tp_dgram_search_avp(dgram, tunnel, &mandatory, &hidden, &len,
-                           VENDOR_IETF, AVP_HOST_NAME);
-    if (!val) {
-	l2tp_set_errmsg("No host name AVP in SCCRQ");
-	tunnel_free(tunnel);
-	return -1;
-    }
-
-    if (len >= MAX_HOSTNAME) len = MAX_HOSTNAME-1;
-    memcpy(tunnel->peer_hostname, val, len);
-    tunnel->peer_hostname[len+1] = 0;
-    DBG(l2tp_db(DBG_TUNNEL, "%s: Peer host name is '%s'\n",
-                           l2tp_debug_tunnel_to_str(tunnel), tunnel->peer_hostname));
-
     /* Find peer */
-    tunnel->peer = l2tp_peer_find(&tunnel->peer_addr, tunnel->peer_hostname);
+    tunnel->peer = l2tp_peer_find(&tunnel->peer_addr);
 
     /* Get assigned tunnel ID */
     val = l2tp_dgram_search_avp(dgram, tunnel, &mandatory, &hidden, &len,
@@ -1424,7 +1472,11 @@ tunnel_set_params(l2tp_tunnel *tunnel,
 	    break;
 
 	case AVP_HOST_NAME:
-	    /* Already been handled */
+	    if (len >= MAX_HOSTNAME) len = MAX_HOSTNAME-1;
+	    memcpy(tunnel->peer_hostname, val, len);
+	    tunnel->peer_hostname[len+1] = 0;
+	    DBG(l2tp_db(DBG_TUNNEL, "%s: Peer host name is '%s'\n",
+		   l2tp_debug_tunnel_to_str(tunnel), tunnel->peer_hostname));
 	    break;
 
 	case AVP_FRAMING_CAPABILITIES:
@@ -1552,6 +1604,82 @@ tunnel_do_hello(EventSelector *es,
 }
 
 /**********************************************************************
+* %FUNCTION: tunnel_setup_hid
+* %ARGUMENTS:
+*  tuid -- the tuid
+* %RETURNS:
+*  Nothing
+* %DESCRIPTION:
+*  Sets up timer for stopping peer device
+***********************************************************************/
+static void
+tunnel_setup_hid(l2tp_tuid *tuid,int teta)
+{
+    struct timeval t;
+
+    if (!tuid) return;
+    
+    t.tv_sec = teta;
+    t.tv_usec = 0;
+
+    if (tuid->id_handler) {
+	Event_DelHandler(tuid->es, tuid->id_handler);
+    }
+    tuid->id_handler = Event_AddTimerHandler(tuid->es, t,
+						  tunnel_do_id, tuid);
+}
+
+/**********************************************************************
+* %FUNCTION: tunnel_do_id
+* %ARGUMENTS:
+*  es -- event selector
+*  fd, flags -- ignored
+*  data -- the tuid
+* %RETURNS:
+*  Nothing
+* %DESCRIPTION:
+*  do the sheduled and the immediate tunnel destruction
+*    if sheduled the tuid tunnel does no more exist
+***********************************************************************/
+static void
+tunnel_do_id(EventSelector *es,
+		int fd,
+		unsigned int flags,
+		void *data)
+{
+    l2tp_tuid *tuid = (l2tp_tuid *) data;
+
+    /* id handler has fired */
+    tuid->id_handler = NULL;
+    
+    if (tuid->sd)
+      {
+      /* Reschedule id timer */
+      /* gently wait for the sheduled destruction */
+      tuid->sd = 0;
+      tunnel_setup_hid(tuid,31);
+      }
+    else
+      {
+      /* destruct tunnel now */
+      if (tuid->tunnel)
+        {
+        tunnel_free(tuid->tunnel);
+        }	
+      
+      /* Signal to stop peer device */
+      if (tuid->sigid)
+        tuid->sigid(tuid);
+        
+      /* free the tuid now */
+      memset(tuid, 0, sizeof(l2tp_tuid));
+      free(tuid);
+      }
+}
+
+
+
+/**********************************************************************
 * %FUNCTION: tunnel_handle_SCCCN
 * %ARGUMENTS:
 *  tunnel -- the tunnel
@@ -1619,7 +1747,7 @@ l2tp_tunnel *
 l2tp_tunnel_find_for_peer(l2tp_peer *peer,
 		     EventSelector *es)
 {
-    l2tp_tunnel *tunnel = tunnel_find_bypeer(peer->addr);
+    l2tp_tunnel *tunnel = tunnel_find_bypeer(peer);
     if (tunnel) {
 	if (tunnel->state == TUNNEL_WAIT_CTL_REPLY ||
 	    tunnel->state == TUNNEL_WAIT_CTL_CONN ||
@@ -1691,22 +1819,6 @@ l2tp_tunnel_add_session(l2tp_session *se
     }
 }
 
-void
-l2tp_tunnel_reestablish(EventSelector *es,
-		      int fd,
-		      unsigned int flags,
-		      void *data)
-{
-    l2tp_peer *peer = (l2tp_peer*) data;
-    l2tp_session *ses;
-
-    ses = l2tp_session_call_lns(peer, "foobar", es, NULL);
-    if (!ses) {
-        DBG(l2tp_db(DBG_TUNNEL, "l2tp_tunnel_reestablish() failed\n"));
-        return;
-    }
-}
-
 /**********************************************************************
 * %FUNCTION: tunnel_delete_session
 * %ARGUMENTS:
@@ -1717,12 +1829,12 @@ l2tp_tunnel_reestablish(EventSelector *e
 *  Deletes session from tunnel's hash table and frees it.
 ***********************************************************************/
 void
-l2tp_tunnel_delete_session(l2tp_session *ses, char const *reason, int may_reestablish)
+l2tp_tunnel_delete_session(l2tp_session *ses, char const *reason)
 {
     l2tp_tunnel *tunnel = ses->tunnel;
 
     hash_remove(&tunnel->sessions_by_my_id, ses);
-    l2tp_session_free(ses, reason, may_reestablish);
+    l2tp_session_free(ses, reason);
 
     /* Tear down tunnel if so indicated */
     if (!hash_num_entries(&tunnel->sessions_by_my_id)) {
diff -pruwN rp-l2tp-0.4/ulibc_syslog.c rp-l2tp-0.4-livebox/ulibc_syslog.c
--- rp-l2tp-0.4/ulibc_syslog.c	1970-01-01 01:00:00.000000000 +0100
+++ rp-l2tp-0.4-livebox/ulibc_syslog.c	2010-03-31 11:45:59.000000000 +0200
@@ -0,0 +1,303 @@
+/*
+ * Note: this file contains code that was taken from LGPL files
+ * 	uClibc: rg/pkg/ulibc/libc/misc/syslog/syslog.c
+ * 	glibc: rg/pkg/glibc/misc/syslog.c
+ * ---------------------------------------------------------------------------
+ * Copyright (c) 1983, 1988, 1993
+ *	The Regents of the University of California.  All rights reserved.
+ *
+ * Redistribution and use in source and binary forms, with or without
+ * modification, are permitted provided that the following conditions
+ * are met:
+ * 1. Redistributions of source code must retain the above copyright
+ *    notice, this list of conditions and the following disclaimer.
+ * 2. Redistributions in binary form must reproduce the above copyright
+ *    notice, this list of conditions and the following disclaimer in the
+ *    documentation and/or other materials provided with the distribution.
+ * 3. All advertising materials mentioning features or use of this software
+ *    must display the following acknowledgement:
+ *	This product includes software developed by the University of
+ *	California, Berkeley and its contributors.
+ * 4. Neither the name of the University nor the names of its contributors
+ *    may be used to endorse or promote products derived from this software
+ *    without specific prior written permission.
+ *
+ * THIS SOFTWARE IS PROVIDED BY THE REGENTS AND CONTRIBUTORS ``AS IS'' AND
+ * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
+ * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
+ * ARE DISCLAIMED.  IN NO EVENT SHALL THE REGENTS OR CONTRIBUTORS BE LIABLE
+ * FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL
+ * DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS
+ * OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION)
+ * HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT
+ * LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY
+ * OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF
+ * SUCH DAMAGE.
+ */
+
+#include <features.h>
+
+/*
+ * SYSLOG -- print message on log file
+ *
+ * This routine looks a lot like printf, except that it outputs to the
+ * log file instead of the standard output.  Also:
+ *	adds a timestamp,
+ *	prints the module name in front of the message,
+ *	has some other formatting types (or will sometime),
+ *	adds a newline on the end of the message.
+ *
+ * The output of this routine is intended to be read by syslogd(8).
+ *
+ * Author: Eric Allman
+ * Modified to use UNIX domain IPC by Ralph Campbell
+ * Patched March 12, 1996 by A. Ian Vogelesang <vogelesang@hdshq.com>
+ *  - to correct the handling of message & format string truncation,
+ *  - to visibly tag truncated records to facilitate
+ *    investigation of such Bad Things with grep, and,
+ *  - to correct the handling of case where "write"
+ *    returns after writing only part of the message.
+ * Rewritten by Martin Mares <mj@atrey.karlin.mff.cuni.cz> on May 14, 1997
+ *  - better buffer overrun checks.
+ *  - special handling of "%m" removed as we use GNU sprintf which handles
+ *    it automatically.
+ *  - Major code cleanup.
+ */
+
+#include <sys/types.h>
+#include <sys/socket.h>
+#include <sys/file.h>
+#include <sys/signal.h>
+#include <sys/syslog.h>
+
+#include <sys/uio.h>
+#include <sys/wait.h>
+#include <netdb.h>
+#include <string.h>
+#include <time.h>
+#include <unistd.h>
+#include <errno.h>
+#include <stdarg.h>
+#include <paths.h>
+#include <stdio.h>
+#include <ctype.h>
+#include <signal.h>
+#include <sys/un.h>
+
+#define MAX_LOG_LEN 1024
+
+/* From GLIBC */
+#define __set_errno(val) (*__errno_location ()) = (val)
+
+static int	LogFile = -1;		/* fd for log */
+static int	connected;		/* have done connect */
+static int	LogStat = 0;		/* status bits, set by openlog() */
+static const char *LogTag = "syslog";	/* string to tag the entry with */
+static int	LogFacility = LOG_USER;	/* default facility code */
+static int	LogMask = 0xff;		/* mask of priorities to be logged */
+
+static void closelog_intern(int);
+void ulibc_syslog(int, const char *, ...);
+void ulibc_vsyslog(int, const char *, va_list);
+void ulibc_openlog(const char *, int, int);
+void ulibc_closelog(void);
+int ulibc_setlogmask(int pmask);
+
+static void 
+closelog_intern(int to_default)
+{
+	(void) close(LogFile);
+	LogFile = -1;
+	connected = 0;
+	if (to_default)
+	{
+		LogStat = 0;
+		LogTag = "syslog";
+		LogFacility = LOG_USER;
+		LogMask = 0xff;
+	}
+}
+
+static void
+sigpipe_handler (int sig)
+{
+  closelog_intern (0);
+}
+
+/*
+ * syslog, vsyslog --
+ *     print message on log file; output is intended for syslogd(8).
+ */
+void
+ulibc_syslog(int pri, const char *fmt, ...)
+{
+	va_list ap;
+
+	va_start(ap, fmt);
+	ulibc_vsyslog(pri, fmt, ap);
+	va_end(ap);
+}
+
+void
+ulibc_vsyslog( int pri, const char *fmt, va_list ap )
+{
+	register char *p;
+	char *last_chr, *head_end, *end, *stdp;
+	time_t now;
+	int fd, saved_errno;
+	int rc;
+	struct sigaction action, oldaction;
+	int sigpipe;
+	int try_num = 5;
+	char tbuf[MAX_LOG_LEN];	/* syslogd is unable to handle longer msgs */
+
+	memset (&action, 0, sizeof (action));
+	action.sa_handler = sigpipe_handler;
+	sigemptyset (&action.sa_mask);
+	sigpipe = sigaction (SIGPIPE, &action, &oldaction);
+
+	saved_errno = errno;
+
+	/* See if we should just throw out this message. */
+	if (!(LogMask & LOG_MASK(LOG_PRI(pri))) || (pri &~ (LOG_PRIMASK|LOG_FACMASK)))
+		goto getout;
+	if (LogFile < 0 || !connected)
+		openlog(LogTag, LogStat | LOG_NDELAY, 0);
+
+	/* Set default facility if none specified. */
+	if ((pri & LOG_FACMASK) == 0)
+		pri |= LogFacility;
+
+	/* Build the message. We know the starting part of the message can take
+	 * no longer than 64 characters plus length of the LogTag. So it's
+	 * safe to test only LogTag and use normal sprintf everywhere else.
+	 */
+	(void)time(&now);
+	stdp = p = tbuf + sprintf(tbuf, "<%d>%.15s ", pri, ctime(&now) + 4);
+	if (LogTag) {
+		if (strlen(LogTag) < MAX_LOG_LEN - 64)
+			p += sprintf(p, "%s", LogTag);
+		else
+			p += sprintf(p, "<BUFFER OVERRUN ATTEMPT>");
+	}
+	if (LogStat & LOG_PID)
+		p += sprintf(p, "[%d]", getpid());
+	if (LogTag) {
+		*p++ = ':';
+		*p++ = ' ';
+	}
+	head_end = p;
+
+	/* We format the rest of the message. If the buffer becomes full, we mark
+	 * the message as truncated. Note that we require at least 2 free bytes
+	 * in the buffer as we might want to add "\r\n" there.
+	 */
+
+	end = tbuf + MAX_LOG_LEN - 1;
+	__set_errno(saved_errno);
+	p += vsnprintf(p, end - p, fmt, ap);
+	if (p >= end || p < head_end) {	/* Returned -1 in case of error... */
+		static char truncate_msg[12] = "[truncated] ";
+		memmove(head_end + sizeof(truncate_msg), head_end,
+			end - head_end - sizeof(truncate_msg));
+		memcpy(head_end, truncate_msg, sizeof(truncate_msg));
+		p = end - 1;
+	}
+	last_chr = p;
+
+	/* Output to stderr if requested. */
+	if (LogStat & LOG_PERROR) {
+		*last_chr = '\n';
+		(void)write(STDERR_FILENO, stdp, last_chr - stdp + 1);
+	}
+
+	/* Output the message to the local logger using NUL as a message delimiter. */
+	p = tbuf;
+	*last_chr = 0;
+	do {
+		rc = send(LogFile, p, last_chr + 1 - p, 0);
+		if (rc < 0) {
+			if ((errno==EAGAIN) || (errno==EINTR))
+				rc=0;
+			else {
+				closelog_intern(0);
+				break;
+			}
+		}
+		p+=rc;
+	} while (p <= last_chr && try_num--);
+	if (rc >= 0) 
+		goto getout;
+
+	/*
+	 * Output the message to the console; don't worry about blocking,
+	 * if console blocks everything will.  Make sure the error reported
+	 * is the one from the syslogd failure.
+	 */
+	/* should mode be `O_WRONLY | O_NOCTTY' ? -- Uli */
+	if (LogStat & LOG_CONS &&
+	    (fd = open(_PATH_CONSOLE, O_WRONLY, 0)) >= 0) {
+		p = index(tbuf, '>') + 1;
+		last_chr[0] = '\r';
+		last_chr[1] = '\n';
+		(void)write(fd, p, last_chr - p + 2);
+		(void)close(fd);
+	}
+
+getout:
+	if (sigpipe == 0)
+		sigaction (SIGPIPE, &oldaction,
+			(struct sigaction *) NULL);
+}
+
+static struct sockaddr sa;	/* AF_UNIX address of local logger */
+/*
+ * OPENLOG -- open system log
+ */
+void
+ulibc_openlog( const char *ident, int logstat, int logfac )
+{
+	if (ident != NULL)
+		LogTag = ident;
+	LogStat = logstat;
+	if (logfac != 0 && (logfac &~ LOG_FACMASK) == 0)
+		LogFacility = logfac;
+	if (LogFile == -1) {
+		sa.sa_family = AF_UNIX;
+		(void)strncpy(sa.sa_data, _PATH_LOG, sizeof(sa.sa_data));
+		if (strlen(_PATH_LOG) > sizeof(sa.sa_data))
+		    sa.sa_data[sizeof(sa.sa_data) - 1] = '\0';
+
+		if (LogStat & LOG_NDELAY) {
+		        if ((LogFile = socket(AF_UNIX, SOCK_DGRAM, 0)) == -1){
+				return;
+			}
+			fcntl(LogFile, F_SETFD, 1);
+			fcntl(LogFile, F_SETFL, O_NONBLOCK);
+		}
+	}
+	if (LogFile != -1 && !connected &&
+	    connect(LogFile, &sa, sizeof(sa)) != -1)
+		connected = 1;
+}
+
+/*
+ * CLOSELOG -- close the system log
+ */
+void
+ulibc_closelog( void )
+{
+	closelog_intern(1);
+}
+
+/* setlogmask -- set the log mask level */
+int ulibc_setlogmask(int pmask)
+{
+    int omask;
+
+    omask = LogMask;
+    if (pmask != 0)
+	LogMask = pmask;
+    return (omask);
+}
+
diff -pruwN rp-l2tp-0.4/utils.c rp-l2tp-0.4-livebox/utils.c
--- rp-l2tp-0.4/utils.c	2002-09-30 21:45:00.000000000 +0200
+++ rp-l2tp-0.4-livebox/utils.c	2010-03-31 11:45:59.000000000 +0200
@@ -13,9 +13,6 @@
 *
 ***********************************************************************/
 
-static char const RCSID[] =
-"$Id: utils.c,v 1.2 2002/09/30 19:45:00 dskoll Exp $";
-
 #include <sys/types.h>
 #include <sys/stat.h>
 #include <fcntl.h>
@@ -87,7 +84,11 @@ l2tp_set_errmsg(char const *fmt, ...)
     vsnprintf(errmsg, MAX_ERRMSG_LEN, fmt, ap);
     va_end(ap);
     errmsg[MAX_ERRMSG_LEN-1] = 0;
+#ifdef USER_MSG_LOG
+    syslog(LOG_DAEMON | LOG_ERR, "l2tpd: Error: %s", errmsg);
+#else
     fprintf(stderr, "Error: %s\n", errmsg);
+#endif
 }
 
 /**********************************************************************
@@ -169,7 +170,11 @@ l2tp_random_fill(void *ptr, size_t size)
 
 void l2tp_die(void)
 {
+#ifdef USER_MSG_LOG
+    syslog(LOG_DAEMON | LOG_CRIT, "l2tpd: FATAL: %s", errmsg);
+#else
     fprintf(stderr, "FATAL: %s\n", errmsg);
+#endif
     l2tp_cleanup();
     exit(1);
 }
@@ -188,6 +193,7 @@ int
 l2tp_load_handler(EventSelector *es,
 		  char const *fname)
 {
+#if 0
     char buf[1024];
     void *handle;
     void *init;
@@ -215,5 +221,6 @@ l2tp_load_handler(EventSelector *es,
     }
     init_fn = (void (*)(EventSelector *)) init;
     init_fn(es);
+#endif
     return 0;
 }
